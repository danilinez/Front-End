// This file was autogenerated. Do not edit!
(function(a,c){function g(a){var b=a.length,c=l.type(a);return l.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||"function"!==c&&(0===b||"number"===typeof b&&0<b&&b-1 in a)}function b(a,b,k,f){if(l.acceptData(a)){var d=l.expando,h=a.nodeType,g=h?l.cache:a,j=h?a[d]:a[d]&&d;if(j&&g[j]&&(f||g[j].data)||!(k===c&&"string"===typeof b)){j||(j=h?a[d]=F.pop()||l.guid++:d);g[j]||(g[j]=h?{}:{toJSON:l.noop});if("object"===typeof b||"function"===typeof b)f?g[j]=l.extend(g[j],b):g[j].data=l.extend(g[j].data,b);
a=g[j];f||(a.data||(a.data={}),a=a.data);k!==c&&(a[l.camelCase(b)]=k);"string"===typeof b?(k=a[b],null==k&&(k=a[l.camelCase(b)])):k=a;return k}}}function f(a,b,c){if(l.acceptData(a)){var k,f,d=a.nodeType,h=d?l.cache:a,g=d?a[l.expando]:l.expando;if(h[g]){if(b&&(k=c?h[g]:h[g].data)){l.isArray(b)?b=b.concat(l.map(b,l.camelCase)):b in k?b=[b]:(b=l.camelCase(b),b=b in k?[b]:b.split(" "));for(f=b.length;f--;)delete k[b[f]];if(c?!j(k):!l.isEmptyObject(k))return}if(!c&&(delete h[g].data,!j(h[g])))return;
d?l.cleanData([a],!0):l.support.deleteExpando||h!=h.window?delete h[g]:h[g]=null}}}function d(a,b,k){if(k===c&&1===a.nodeType)if(k="data-"+b.replace(Nc,"-$1").toLowerCase(),k=a.getAttribute(k),"string"===typeof k){try{k="true"===k?!0:"false"===k?!1:"null"===k?null:+k+""===k?+k:Oc.test(k)?l.parseJSON(k):k}catch(f){}l.data(a,b,k)}else k=c;return k}function j(a){for(var b in a)if(!("data"===b&&l.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function p(){return!0}function m(){return!1}function q(){try{return R.activeElement}catch(a){}}
function t(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function n(a,b,c){if(l.isFunction(b))return l.grep(a,function(a,oa){return!!b.call(a,oa,a)!==c});if(b.nodeType)return l.grep(a,function(a){return a===b!==c});if("string"===typeof b){if(Pc.test(b))return l.filter(b,a,c);b=l.filter(b,a)}return l.grep(a,function(a){return 0<=l.inArray(a,b)!==c})}function h(a){var b=ec.split("|"),a=a.createDocumentFragment();if(a.createElement)for(;b.length;)a.createElement(b.pop());return a}function x(a,b){return l.nodeName(a,
"table")&&l.nodeName(1===b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function z(a){a.type=(null!==l.find.attr(a,"type"))+"/"+a.type;return a}function D(a){var b=Qc.exec(a.type);b?a.type=b[1]:a.removeAttribute("type");return a}function S(a,b){for(var c,k=0;null!=(c=a[k]);k++)l._data(c,"globalEval",!b||l._data(b[k],"globalEval"))}function u(a,b){if(1===b.nodeType&&l.hasData(a)){var c,k,f;k=l._data(a);var d=l._data(b,k),
h=k.events;if(h)for(c in delete d.handle,d.events={},h){k=0;for(f=h[c].length;k<f;k++)l.event.add(b,c,h[c][k])}d.data&&(d.data=l.extend({},d.data))}}function A(a,b){var k,f,d=0,h=typeof a.getElementsByTagName!==ia?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==ia?a.querySelectorAll(b||"*"):c;if(!h){h=[];for(k=a.childNodes||a;null!=(f=k[d]);d++)!b||l.nodeName(f,b)?h.push(f):l.merge(h,A(f,b))}return b===c||b&&l.nodeName(a,b)?l.merge([a],h):h}function B(a){Hb.test(a.type)&&(a.defaultChecked=
a.checked)}function J(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),k=b,f=fc.length;f--;)if(b=fc[f]+c,b in a)return b;return k}function y(a,b){a=b||a;return"none"===l.css(a,"display")||!l.contains(a.ownerDocument,a)}function v(a,b){for(var c,k,f,d=[],h=0,g=a.length;h<g;h++)if(k=a[h],k.style)if(d[h]=l._data(k,"olddisplay"),c=k.style.display,b)!d[h]&&"none"===c&&(k.style.display=""),""===k.style.display&&y(k)&&(d[h]=l._data(k,"olddisplay",H(k.nodeName)));else if(!d[h]&&(f=y(k),
c&&"none"!==c||!f))l._data(k,"olddisplay",f?c:l.css(k,"display"));for(h=0;h<g;h++)if(k=a[h],k.style&&(!b||"none"===k.style.display||""===k.style.display))k.style.display=b?d[h]||"":"none";return a}function K(a,b,c){return(a=Rc.exec(b))?Math.max(0,a[1]-(c||0))+(a[2]||"px"):b}function I(a,b,c,k,f){for(var b=c===(k?"border":"content")?4:"width"===b?1:0,d=0;4>b;b+=2)"margin"===c&&(d+=l.css(a,c+Ta[b],!0,f)),k?("content"===c&&(d-=l.css(a,"padding"+Ta[b],!0,f)),"margin"!==c&&(d-=l.css(a,"border"+Ta[b]+"Width",
!0,f))):(d+=l.css(a,"padding"+Ta[b],!0,f),"padding"!==c&&(d+=l.css(a,"border"+Ta[b]+"Width",!0,f)));return d}function Q(a,b,c){var k=!0,f="width"===b?a.offsetWidth:a.offsetHeight,d=Ua(a),h=l.support.boxSizing&&"border-box"===l.css(a,"boxSizing",!1,d);if(0>=f||null==f){f=Va(a,b,d);if(0>f||null==f)f=a.style[b];if(qb.test(f))return f;k=h&&(l.support.boxSizingReliable||f===a.style[b]);f=parseFloat(f)||0}return f+I(a,b,c||(h?"border":"content"),k,d)+"px"}function H(a){var b=R,c=gc[a];if(!c){c=O(a,b);if("none"===
c||!c)kb=(kb||l("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(b.documentElement),b=(kb[0].contentWindow||kb[0].contentDocument).document,b.write("<!doctype html><html><body>"),b.close(),c=O(a,b),kb.detach();gc[a]=c}return c}function O(a,b){var c=l(b.createElement(a)).appendTo(b.body),k=l.css(c[0],"display");c.remove();return k}function N(a,b,c,k){var f;if(l.isArray(b))l.each(b,function(b,f){c||Sc.test(a)?k(a,f):N(a+"["+("object"===typeof f?b:
"")+"]",f,c,k)});else if(!c&&"object"===l.type(b))for(f in b)N(a+"["+f+"]",b[f],c,k);else k(a,b)}function L(a){return function(b,c){"string"!==typeof b&&(c=b,b="*");var k,f=0,d=b.toLowerCase().match(fa)||[];if(l.isFunction(c))for(;k=d[f++];)"+"===k[0]?(k=k.slice(1)||"*",(a[k]=a[k]||[]).unshift(c)):(a[k]=a[k]||[]).push(c)}}function P(a,b,c,k){function f(g){var j;d[g]=!0;l.each(a[g]||[],function(a,oa){var g=oa(b,c,k);if("string"===typeof g&&!h&&!d[g])return b.dataTypes.unshift(g),f(g),!1;if(h)return!(j=
g)});return j}var d={},h=a===Ib;return f(b.dataTypes[0])||!d["*"]&&f("*")}function r(a,b){var k,f,d=l.ajaxSettings.flatOptions||{};for(f in b)b[f]!==c&&((d[f]?a:k||(k={}))[f]=b[f]);k&&l.extend(!0,a,k);return a}function w(){try{return new a.XMLHttpRequest}catch(b){}}function C(){setTimeout(function(){db=c});return db=l.now()}function U(a,b,c){for(var k,f=(lb[b]||[]).concat(lb["*"]),d=0,h=f.length;d<h;d++)if(k=f[d].call(c,b,a))return k}function V(a,b,c){var k,f,d=0,h=rb.length,g=l.Deferred().always(function(){delete j.elem}),
j=function(){if(f)return!1;for(var b=db||C(),b=Math.max(0,n.startTime+n.duration-b),c=1-(b/n.duration||0),k=0,d=n.tweens.length;k<d;k++)n.tweens[k].run(c);g.notifyWith(a,[n,c,b]);if(1>c&&d)return b;g.resolveWith(a,[n]);return!1},n=g.promise({elem:a,props:l.extend({},b),opts:l.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:db||C(),duration:c.duration,tweens:[],createTween:function(b,c){var k=l.Tween(a,n.opts,b,c,n.opts.specialEasing[b]||n.opts.easing);n.tweens.push(k);
return k},stop:function(b){var c=0,k=b?n.tweens.length:0;if(f)return this;for(f=!0;c<k;c++)n.tweens[c].run(1);b?g.resolveWith(a,[n,b]):g.rejectWith(a,[n,b]);return this}}),b=n.props,c=n.opts.specialEasing,w,E,F,u;for(k in b)if(w=l.camelCase(k),E=c[w],F=b[k],l.isArray(F)&&(E=F[1],F=b[k]=F[0]),k!==w&&(b[w]=F,delete b[k]),(u=l.cssHooks[w])&&"expand"in u)for(k in F=u.expand(F),delete b[w],F)k in b||(b[k]=F[k],c[k]=E);else c[w]=E;for(;d<h;d++)if(k=rb[d].call(n,a,b,n.opts))return k;l.map(b,U,n);l.isFunction(n.opts.start)&&
n.opts.start.call(a,n);l.fx.timer(l.extend(j,{elem:a,anim:n,queue:n.opts.queue}));return n.progress(n.opts.progress).done(n.opts.done,n.opts.complete).fail(n.opts.fail).always(n.opts.always)}function M(a,b,c,k,f){return new M.prototype.init(a,b,c,k,f)}function G(a,b){for(var c,k={height:a},f=0,b=b?1:0;4>f;f+=2-b)c=Ta[f],k["margin"+c]=k["padding"+c]=a;b&&(k.opacity=k.width=a);return k}function X(a){return l.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var ga,ea,ia=typeof c,ka=a.location,
R=a.document,Ha=R.documentElement,k=a.jQuery,E=a.$,ba={},F=[],qa=F.concat,la=F.push,wa=F.slice,Ia=F.indexOf,mb=ba.toString,Ba=ba.hasOwnProperty,Ca="1.10.2".trim,l=function(a,b){return new l.fn.init(a,b,ea)},ma=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,fa=/\S+/g,ja=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Ja=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,Da=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,xa=/^[\],:{}\s]*$/,za=/(?:^|:|,)(?:\s*\[)+/g,Aa=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,eb=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,
T=/^-ms-/,ca=/-([\da-z])/gi,da=function(a,b){return b.toUpperCase()},ha=function(a){if(R.addEventListener||"load"===a.type||"complete"===R.readyState)Wa(),l.ready()},Wa=function(){R.addEventListener?(R.removeEventListener("DOMContentLoaded",ha,!1),a.removeEventListener("load",ha,!1)):(R.detachEvent("onreadystatechange",ha),a.detachEvent("onload",ha))};l.fn=l.prototype={jquery:"1.10.2",constructor:l,init:function(a,b,k){var f;if(!a)return this;if("string"===typeof a){if((f="<"===a.charAt(0)&&">"===
a.charAt(a.length-1)&&3<=a.length?[null,a,null]:Ja.exec(a))&&(f[1]||!b)){if(f[1]){if(b=b instanceof l?b[0]:b,l.merge(this,l.parseHTML(f[1],b&&b.nodeType?b.ownerDocument||b:R,!0)),Da.test(f[1])&&l.isPlainObject(b))for(f in b)if(l.isFunction(this[f]))this[f](b[f]);else this.attr(f,b[f])}else{if((b=R.getElementById(f[2]))&&b.parentNode){if(b.id!==f[2])return k.find(a);this.length=1;this[0]=b}this.context=R;this.selector=a}return this}return!b||b.jquery?(b||k).find(a):this.constructor(b).find(a)}if(a.nodeType)return this.context=
this[0]=a,this.length=1,this;if(l.isFunction(a))return k.ready(a);a.selector!==c&&(this.selector=a.selector,this.context=a.context);return l.makeArray(a,this)},selector:"",length:0,toArray:function(){return wa.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a){a=l.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;return a},each:function(a,b){return l.each(this,a,b)},ready:function(a){l.ready.promise().done(a);return this},
slice:function(){return this.pushStack(wa.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,a=+a+(0>a?b:0);return this.pushStack(0<=a&&a<b?[this[a]]:[])},map:function(a){return this.pushStack(l.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:la,sort:[].sort,splice:[].splice};l.fn.init.prototype=l.fn;l.extend=l.fn.extend=function(){var a,b,k,f,d,h=arguments[0]||
{},g=1,j=arguments.length,n=!1;"boolean"===typeof h&&(n=h,h=arguments[1]||{},g=2);"object"!==typeof h&&!l.isFunction(h)&&(h={});j===g&&(h=this,--g);for(;g<j;g++)if(null!=(d=arguments[g]))for(f in d)a=h[f],k=d[f],h!==k&&(n&&k&&(l.isPlainObject(k)||(b=l.isArray(k)))?(b?(b=!1,a=a&&l.isArray(a)?a:[]):a=a&&l.isPlainObject(a)?a:{},h[f]=l.extend(n,a,k)):k!==c&&(h[f]=k));return h};l.extend({expando:"jQuery"+("1.10.2"+Math.random()).replace(/\D/g,""),noConflict:function(b){a.$===l&&(a.$=E);b&&a.jQuery===l&&
(a.jQuery=k);return l},isReady:!1,readyWait:1,holdReady:function(a){a?l.readyWait++:l.ready(!0)},ready:function(a){if(!(!0===a?--l.readyWait:l.isReady)){if(!R.body)return setTimeout(l.ready);l.isReady=!0;!0!==a&&0<--l.readyWait||(ga.resolveWith(R,[l]),l.fn.trigger&&l(R).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===l.type(a)},isArray:Array.isArray||function(a){return"array"===l.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&
isFinite(a)},type:function(a){return null==a?String(a):"object"===typeof a||"function"===typeof a?ba[mb.call(a)]||"object":typeof a},isPlainObject:function(a){var b;if(!a||"object"!==l.type(a)||a.nodeType||l.isWindow(a))return!1;try{if(a.constructor&&!Ba.call(a,"constructor")&&!Ba.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(k){return!1}if(l.support.ownLast)for(b in a)return Ba.call(a,b);for(b in a);return b===c||Ba.call(a,b)},isEmptyObject:function(a){for(var b in a)return!1;return!0},
error:function(a){throw Error(a);},parseHTML:function(a,b,c){if(!a||"string"!==typeof a)return null;"boolean"===typeof b&&(c=b,b=!1);var b=b||R,k=Da.exec(a),c=!c&&[];if(k)return[b.createElement(k[1])];k=l.buildFragment([a],b,c);c&&l(c).remove();return l.merge([],k.childNodes)},parseJSON:function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(null===b)return b;if("string"===typeof b&&(b=l.trim(b))&&xa.test(b.replace(Aa,"@").replace(eb,"]").replace(za,"")))return(new Function("return "+b))();
l.error("Invalid JSON: "+b)},parseXML:function(b){var k,f;if(!b||"string"!==typeof b)return null;try{a.DOMParser?(f=new DOMParser,k=f.parseFromString(b,"text/xml")):(k=new ActiveXObject("Microsoft.XMLDOM"),k.async="false",k.loadXML(b))}catch(d){k=c}(!k||!k.documentElement||k.getElementsByTagName("parsererror").length)&&l.error("Invalid XML: "+b);return k},noop:function(){},globalEval:function(b){b&&l.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(T,
"ms-").replace(ca,da)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var k,f=0,d=a.length;k=g(a);if(c)if(k)for(;f<d&&!(k=b.apply(a[f],c),!1===k);f++);else for(f in a){if(k=b.apply(a[f],c),!1===k)break}else if(k)for(;f<d&&!(k=b.call(a[f],f,a[f]),!1===k);f++);else for(f in a)if(k=b.call(a[f],f,a[f]),!1===k)break;return a},trim:Ca&&!Ca.call("\ufeff\u00a0")?function(a){return null==a?"":Ca.call(a)}:function(a){return null==a?"":(a+"").replace(ja,
"")},makeArray:function(a,b){var c=b||[];null!=a&&(g(Object(a))?l.merge(c,"string"===typeof a?[a]:a):la.call(c,a));return c},inArray:function(a,b,c){var k;if(b){if(Ia)return Ia.call(b,a,c);k=b.length;for(c=c?0>c?Math.max(0,k+c):c:0;c<k;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var k=b.length,f=a.length,d=0;if("number"===typeof k)for(;d<k;d++)a[f++]=b[d];else for(;b[d]!==c;)a[f++]=b[d++];a.length=f;return a},grep:function(a,b,c){for(var k,f=[],d=0,h=a.length,c=!!c;d<h;d++)k=!!b(a[d],
d),c!==k&&f.push(a[d]);return f},map:function(a,b,c){var k,f=0,d=a.length,h=[];if(g(a))for(;f<d;f++)k=b(a[f],f,c),null!=k&&(h[h.length]=k);else for(f in a)k=b(a[f],f,c),null!=k&&(h[h.length]=k);return qa.apply([],h)},guid:1,proxy:function(a,b){var k,f;"string"===typeof b&&(f=a[b],b=a,a=f);if(!l.isFunction(a))return c;k=wa.call(arguments,2);f=function(){return a.apply(b||this,k.concat(wa.call(arguments)))};f.guid=a.guid=a.guid||l.guid++;return f},access:function(a,b,k,f,d,h,g){var j=0,n=a.length,w=
null==k;if("object"===l.type(k))for(j in d=!0,k)l.access(a,b,j,k[j],!0,h,g);else if(f!==c&&(d=!0,l.isFunction(f)||(g=!0),w&&(g?(b.call(a,f),b=null):(w=b,b=function(a,b,c){return w.call(l(a),c)})),b))for(;j<n;j++)b(a[j],k,g?f:f.call(a[j],j,b(a[j],k)));return d?a:w?b.call(a):n?b(a[0],k):h},now:function(){return(new Date).getTime()},swap:function(a,b,c,k){var f,d={};for(f in b)d[f]=a.style[f],a.style[f]=b[f];c=c.apply(a,k||[]);for(f in b)a.style[f]=d[f];return c}});l.ready.promise=function(b){if(!ga)if(ga=
l.Deferred(),"complete"===R.readyState)setTimeout(l.ready);else if(R.addEventListener)R.addEventListener("DOMContentLoaded",ha,!1),a.addEventListener("load",ha,!1);else{R.attachEvent("onreadystatechange",ha);a.attachEvent("onload",ha);var c=!1;try{c=null==a.frameElement&&R.documentElement}catch(k){}c&&c.doScroll&&function Mc(){if(!l.isReady){try{c.doScroll("left")}catch(a){return setTimeout(Mc,50)}Wa();l.ready()}}()}return ga.promise(b)};l.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),
function(a,b){ba["[object "+b+"]"]=b.toLowerCase()});ea=l(R);var Ka=a,Z=function(a,b,c,k){var f,d,h,g,j;(b?b.ownerDocument||b:La)!==ta&&Xa(b);b=b||ta;c=c||[];if(!a||"string"!==typeof a)return c;if(1!==(g=b.nodeType)&&9!==g)return[];if(Ea&&!k){if(f=Uc.exec(a))if(h=f[1])if(9===g)if((d=b.getElementById(h))&&d.parentNode){if(d.id===h)return c.push(d),c}else return c;else{if(b.ownerDocument&&(d=b.ownerDocument.getElementById(h))&&nb(b,d)&&d.id===h)return c.push(d),c}else{if(f[2])return Ma.apply(c,b.getElementsByTagName(a)),
c;if((h=f[3])&&na.getElementsByClassName&&b.getElementsByClassName)return Ma.apply(c,b.getElementsByClassName(h)),c}if(na.qsa&&(!va||!va.test(a))){d=f=pa;h=b;j=9===g&&a;if(1===g&&"object"!==b.nodeName.toLowerCase()){g=sb(a);(f=b.getAttribute("id"))?d=f.replace(Vc,"\\$&"):b.setAttribute("id",d);d="[id='"+d+"'] ";for(h=g.length;h--;)g[h]=d+tb(g[h]);h=Jb.test(a)&&b.parentNode||b;j=g.join(",")}if(j)try{return Ma.apply(c,h.querySelectorAll(j)),c}catch(l){}finally{f||b.removeAttribute("id")}}}var n;a:{a=
a.replace(ub,"$1");d=sb(a);if(!k&&1===d.length){f=d[0]=d[0].slice(0);if(2<f.length&&"ID"===(n=f[0]).type&&na.getById&&9===b.nodeType&&Ea&&aa.relative[f[1].type]){b=(aa.find.ID(n.matches[0].replace(Na,Oa),b)||[])[0];if(!b){n=c;break a}a=a.slice(f.shift().value.length)}for(g=vb.needsContext.test(a)?0:f.length;g--;){n=f[g];if(aa.relative[h=n.type])break;if(h=aa.find[h])if(k=h(n.matches[0].replace(Na,Oa),Jb.test(f[0].type)&&b.parentNode||b)){f.splice(g,1);a=k.length&&tb(f);if(!a){Ma.apply(c,k);n=c;break a}break}}}Kb(a,
d)(k,b,!Ea,c,Jb.test(a));n=c}return n},Pa=function(){function a(c,k){b.push(c+=" ")>aa.cacheLength&&delete a[b.shift()];return a[c]=k}var b=[];return a},ra=function(a){a[pa]=!0;return a},sa=function(a){var b=ta.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}},wb=function(a,b){for(var c=a.split("|"),k=a.length;k--;)aa.attrHandle[c[k]]=b},ic=function(a,b){var c=b&&a,k=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||hc)-(~a.sourceIndex||
hc);if(k)return k;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1},Wc=function(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}},Xc=function(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}},Ya=function(a){return ra(function(b){b=+b;return ra(function(c,k){for(var f,d=a([],c.length,b),h=d.length;h--;)if(c[f=d[h]])c[f]=!(k[f]=c[f])})})},jc=function(){},sb=function(a,b){var c,k,f,d,h,g,j;if(h=kc[a+" "])return b?
0:h.slice(0);h=a;g=[];for(j=aa.preFilter;h;){if(!c||(k=Yc.exec(h)))k&&(h=h.slice(k[0].length)||h),g.push(f=[]);c=!1;if(k=Zc.exec(h))c=k.shift(),f.push({value:c,type:k[0].replace(ub," ")}),h=h.slice(c.length);for(d in aa.filter)if((k=vb[d].exec(h))&&(!j[d]||(k=j[d](k))))c=k.shift(),f.push({value:c,type:d,matches:k}),h=h.slice(c.length);if(!c)break}return b?h.length:h?Z.error(a):kc(a,g).slice(0)},tb=function(a){for(var b=0,c=a.length,k="";b<c;b++)k+=a[b].value;return k},Lb=function(a,b,c){var k=b.dir,
f=c&&"parentNode"===k,d=$c++;return b.first?function(b,c,d){for(;b=b[k];)if(1===b.nodeType||f)return a(b,c,d)}:function(b,c,h){var g,j,l,n=Fa+" "+d;if(h)for(;b=b[k];){if((1===b.nodeType||f)&&a(b,c,h))return!0}else for(;b=b[k];)if(1===b.nodeType||f)if(l=b[pa]||(b[pa]={}),(j=l[k])&&j[0]===n){if(!0===(g=j[1])||g===xb)return!0===g}else if(j=l[k]=[n],j[1]=a(b,c,h)||xb,!0===j[1])return!0}},Mb=function(a){return 1<a.length?function(b,c,k){for(var f=a.length;f--;)if(!a[f](b,c,k))return!1;return!0}:a[0]},
yb=function(a,b,c,k,f){for(var d,h=[],g=0,j=a.length,l=null!=b;g<j;g++)if(d=a[g])if(!c||c(d,k,f))h.push(d),l&&b.push(g);return h},Nb=function(a,b,c,k,f,d){k&&!k[pa]&&(k=Nb(k));f&&!f[pa]&&(f=Nb(f,d));return ra(function(d,h,g,j){var l,n,w=[],E=[],F=h.length,u;if(!(u=d)){u=b||"*";for(var r=g.nodeType?[g]:g,m=[],C=0,p=r.length;C<p;C++)Z(u,r[C],m);u=m}u=a&&(d||!b)?yb(u,w,a,g,j):u;r=c?f||(d?a:F||k)?[]:h:u;c&&c(u,r,g,j);if(k){l=yb(r,E);k(l,[],g,j);for(g=l.length;g--;)if(n=l[g])r[E[g]]=!(u[E[g]]=n)}if(d){if(f||
a){if(f){l=[];for(g=r.length;g--;)if(n=r[g])l.push(u[g]=n);f(null,r=[],l,j)}for(g=r.length;g--;)if((n=r[g])&&-1<(l=f?Za.call(d,n):w[g]))d[l]=!(h[l]=n)}}else r=yb(r===h?r.splice(F,r.length):r),f?f(null,h,r,j):Ma.apply(h,r)})},Ob=function(a){var b,c,k,f=a.length,d=aa.relative[a[0].type];c=d||aa.relative[" "];for(var h=d?1:0,g=Lb(function(a){return a===b},c,!0),j=Lb(function(a){return-1<Za.call(b,a)},c,!0),l=[function(a,c,k){return!d&&(k||c!==zb)||((b=c).nodeType?g(a,c,k):j(a,c,k))}];h<f;h++)if(c=aa.relative[a[h].type])l=
[Lb(Mb(l),c)];else{c=aa.filter[a[h].type].apply(null,a[h].matches);if(c[pa]){for(k=++h;k<f&&!aa.relative[a[k].type];k++);return Nb(1<h&&Mb(l),1<h&&tb(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ub,"$1"),c,h<k&&Ob(a.slice(h,k)),k<f&&Ob(a=a.slice(k)),k<f&&tb(a))}l.push(c)}return Mb(l)},gb,na,xb,aa,Ab,lc,Kb,zb,$a,Xa,ta,Ga,Ea,va,ab,Bb,nb,pa="sizzle"+-new Date,La=Ka.document,Fa=0,$c=0,mc=Pa(),kc=Pa(),nc=Pa(),hb=!1,Pb=function(a,b){a===b&&(hb=!0);return 0},hc=-2147483648,ad={}.hasOwnProperty,
Qa=[],bd=Qa.pop,cd=Qa.push,Ma=Qa.push,oc=Qa.slice,Za=Qa.indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]===a)return b;return-1},pc="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),qc="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+pc+")|)|)[\\x20\\t\\r\\n\\f]*\\]",Qb=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+qc.replace(3,
8)+")*)|.*)\\)|)",ub=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),Yc=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,Zc=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,Jb=/[\x20\t\r\n\f]*[+~]/,dd=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*)[\\x20\\t\\r\\n\\f]*\\]","g"),ed=RegExp(Qb),fd=RegExp("^"+pc+"$"),vb={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+
qc),PSEUDO:RegExp("^"+Qb),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)",
"i")},Rb=/^[^{]+\{\s*\[native \w/,Uc=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gd=/^(?:input|select|textarea|button)$/i,hd=/^h\d$/i,Vc=/'|\\/g,Na=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),Oa=function(a,b,c){a="0x"+b-65536;return a!==a||c?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)};try{Ma.apply(Qa=oc.call(La.childNodes),La.childNodes),Qa[La.childNodes.length].nodeType}catch(Kd){Ma={apply:Qa.length?function(a,b){cd.apply(a,oc.call(b))}:
function(a,b){for(var c=a.length,k=0;a[c++]=b[k++];);a.length=c-1}}}lc=Z.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};na=Z.support={};Xa=Z.setDocument=function(a){var b=a?a.ownerDocument||a:La,a=b.defaultView;if(b===ta||9!==b.nodeType||!b.documentElement)return ta;ta=b;Ga=b.documentElement;Ea=!lc(b);a&&(a.attachEvent&&a!==a.top)&&a.attachEvent("onbeforeunload",function(){Xa()});na.attributes=sa(function(a){a.className="i";return!a.getAttribute("className")});
na.getElementsByTagName=sa(function(a){a.appendChild(b.createComment(""));return!a.getElementsByTagName("*").length});na.getElementsByClassName=sa(function(a){a.innerHTML="<div class='a'></div><div class='a i'></div>";a.firstChild.className="i";return 2===a.getElementsByClassName("i").length});na.getById=sa(function(a){Ga.appendChild(a).id=pa;return!b.getElementsByName||!b.getElementsByName(pa).length});na.getById?(aa.find.ID=function(a,b){if("undefined"!==typeof b.getElementById&&Ea){var c=b.getElementById(a);
return c&&c.parentNode?[c]:[]}},aa.filter.ID=function(a){var b=a.replace(Na,Oa);return function(a){return a.getAttribute("id")===b}}):(delete aa.find.ID,aa.filter.ID=function(a){var b=a.replace(Na,Oa);return function(a){return(a="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===b}});aa.find.TAG=na.getElementsByTagName?function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a)}:function(a,b){var c,k=[],f=0,d=b.getElementsByTagName(a);if("*"===
a){for(;c=d[f++];)1===c.nodeType&&k.push(c);return k}return d};aa.find.CLASS=na.getElementsByClassName&&function(a,b){if("undefined"!==typeof b.getElementsByClassName&&Ea)return b.getElementsByClassName(a)};ab=[];va=[];if(na.qsa=Rb.test(b.querySelectorAll))sa(function(a){a.innerHTML="<select><option selected=''></option></select>";a.querySelectorAll("[selected]").length||va.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
a.querySelectorAll(":checked").length||va.push(":checked")}),sa(function(a){var c=b.createElement("input");c.setAttribute("type","hidden");a.appendChild(c).setAttribute("t","");a.querySelectorAll("[t^='']").length&&va.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll(":enabled").length||va.push(":enabled",":disabled");a.querySelectorAll("*,:x");va.push(",.*:")});(na.matchesSelector=Rb.test(Bb=Ga.webkitMatchesSelector||Ga.mozMatchesSelector||Ga.oMatchesSelector||Ga.msMatchesSelector))&&
sa(function(a){na.disconnectedMatch=Bb.call(a,"div");Bb.call(a,"[s!='']:x");ab.push("!=",Qb)});va=va.length&&RegExp(va.join("|"));ab=ab.length&&RegExp(ab.join("|"));nb=Rb.test(Ga.contains)||Ga.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:a,k=b&&b.parentNode;return a===k||!(!k||!(1===k.nodeType&&(c.contains?c.contains(k):a.compareDocumentPosition&&a.compareDocumentPosition(k)&16)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};Pb=Ga.compareDocumentPosition?
function(a,c){if(a===c)return hb=!0,0;var k=c.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(c);return k?k&1||!na.sortDetached&&c.compareDocumentPosition(a)===k?a===b||nb(La,a)?-1:c===b||nb(La,c)?1:$a?Za.call($a,a)-Za.call($a,c):0:k&4?-1:1:a.compareDocumentPosition?-1:1}:function(a,c){var k,f=0;k=a.parentNode;var d=c.parentNode,oa=[a],h=[c];if(a===c)return hb=!0,0;if(!k||!d)return a===b?-1:c===b?1:k?-1:d?1:$a?Za.call($a,a)-Za.call($a,c):0;if(k===d)return ic(a,c);for(k=
a;k=k.parentNode;)oa.unshift(k);for(k=c;k=k.parentNode;)h.unshift(k);for(;oa[f]===h[f];)f++;return f?ic(oa[f],h[f]):oa[f]===La?-1:h[f]===La?1:0};return b};Z.matches=function(a,b){return Z(a,null,null,b)};Z.matchesSelector=function(a,b){(a.ownerDocument||a)!==ta&&Xa(a);b=b.replace(dd,"='$1']");if(na.matchesSelector&&Ea&&(!ab||!ab.test(b))&&(!va||!va.test(b)))try{var c=Bb.call(a,b);if(c||na.disconnectedMatch||a.document&&11!==a.document.nodeType)return c}catch(k){}return 0<Z(b,ta,null,[a]).length};
Z.contains=function(a,b){(a.ownerDocument||a)!==ta&&Xa(a);return nb(a,b)};Z.attr=function(a,b){(a.ownerDocument||a)!==ta&&Xa(a);var c=aa.attrHandle[b.toLowerCase()],c=c&&ad.call(aa.attrHandle,b.toLowerCase())?c(a,b,!Ea):void 0;return void 0===c?na.attributes||!Ea?a.getAttribute(b):(c=a.getAttributeNode(b))&&c.specified?c.value:null:c};Z.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};Z.uniqueSort=function(a){var b,c=[],k=0,f=0;hb=!na.detectDuplicates;$a=!na.sortStable&&
a.slice(0);a.sort(Pb);if(hb){for(;b=a[f++];)b===a[f]&&(k=c.push(f));for(;k--;)a.splice(c[k],1)}return a};Ab=Z.getText=function(a){var b,c="",k=0;if(b=a.nodeType)if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=Ab(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=a[k];k++)c+=Ab(b);return c};aa=Z.selectors={cacheLength:50,createPseudo:ra,match:vb,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},
"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(Na,Oa);a[3]=(a[4]||a[5]||"").replace(Na,Oa);"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||Z.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&Z.error(a[0]);return a},PSEUDO:function(a){var b,c=!a[5]&&a[2];if(vb.CHILD.test(a[0]))return null;if(a[3]&&
void 0!==a[4])a[2]=a[4];else if(c&&ed.test(c)&&(b=sb(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length))a[0]=a[0].slice(0,b),a[2]=c.slice(0,b);return a.slice(0,3)}},filter:{TAG:function(a){var b=a.replace(Na,Oa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=mc[a+" "];return b||(b=RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&mc(a,function(a){return b.test("string"===typeof a.className&&a.className||
"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(k){k=Z.attr(k,a);if(null==k)return"!="===b;if(!b)return!0;k+="";return"="===b?k===c:"!="===b?k!==c:"^="===b?c&&0===k.indexOf(c):"*="===b?c&&-1<k.indexOf(c):"$="===b?c&&k.slice(-c.length)===c:"~="===b?-1<(" "+k+" ").indexOf(c):"|="===b?k===c||k.slice(0,c.length+1)===c+"-":!1}},CHILD:function(a,b,c,k,f){var d="nth"!==a.slice(0,3),h="last"!==a.slice(-4),g="of-type"===b;return 1===k&&0===f?function(a){return!!a.parentNode}:
function(b,c,j){var l,n,w,E,F,c=d!==h?"nextSibling":"previousSibling",r=b.parentNode,u=g&&b.nodeName.toLowerCase(),j=!j&&!g;if(r){if(d){for(;c;){for(n=b;n=n[c];)if(g?n.nodeName.toLowerCase()===u:1===n.nodeType)return!1;F=c="only"===a&&!F&&"nextSibling"}return!0}F=[h?r.firstChild:r.lastChild];if(h&&j){j=r[pa]||(r[pa]={});l=j[a]||[];E=l[0]===Fa&&l[1];w=l[0]===Fa&&l[2];for(n=E&&r.childNodes[E];n=++E&&n&&n[c]||(w=E=0)||F.pop();)if(1===n.nodeType&&++w&&n===b){j[a]=[Fa,E,w];break}}else if(j&&(l=(b[pa]||
(b[pa]={}))[a])&&l[0]===Fa)w=l[1];else for(;n=++E&&n&&n[c]||(w=E=0)||F.pop();)if((g?n.nodeName.toLowerCase()===u:1===n.nodeType)&&++w)if(j&&((n[pa]||(n[pa]={}))[a]=[Fa,w]),n===b)break;w-=f;return w===k||0===w%k&&0<=w/k}}},PSEUDO:function(a,b){var c,k=aa.pseudos[a]||aa.setFilters[a.toLowerCase()]||Z.error("unsupported pseudo: "+a);return k[pa]?k(b):1<k.length?(c=[a,a,"",b],aa.setFilters.hasOwnProperty(a.toLowerCase())?ra(function(a,c){for(var f,d=k(a,b),oa=d.length;oa--;)f=Za.call(a,d[oa]),a[f]=!(c[f]=
d[oa])}):function(a){return k(a,0,c)}):k}},pseudos:{not:ra(function(a){var b=[],c=[],k=Kb(a.replace(ub,"$1"));return k[pa]?ra(function(a,b,c,f){for(var f=k(a,null,f,[]),d=a.length;d--;)if(c=f[d])a[d]=!(b[d]=c)}):function(a,f,d){b[0]=a;k(b,null,d,c);return!c.pop()}}),has:ra(function(a){return function(b){return 0<Z(a,b).length}}),contains:ra(function(a){return function(b){return-1<(b.textContent||b.innerText||Ab(b)).indexOf(a)}}),lang:ra(function(a){fd.test(a||"")||Z.error("unsupported lang: "+a);
a=a.replace(Na,Oa).toLowerCase();return function(b){var c;do if(c=Ea?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(a){var b=Ka.location&&Ka.location.hash;return b&&b.slice(1)===a.id},root:function(a){return a===Ga},focus:function(a){return a===ta.activeElement&&(!ta.hasFocus||ta.hasFocus())&&!(!a.type&&!a.href&&!~a.tabIndex)},enabled:function(a){return!1===a.disabled},
disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if("@"<a.nodeName||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!aa.pseudos.empty(a)},header:function(a){return hd.test(a.nodeName)},input:function(a){return gd.test(a.nodeName)},
button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:Ya(function(){return[0]}),last:Ya(function(a,b){return[b-1]}),eq:Ya(function(a,b,c){return[0>c?c+b:c]}),even:Ya(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:Ya(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:Ya(function(a,b,
c){for(b=0>c?c+b:c;0<=--b;)a.push(b);return a}),gt:Ya(function(a,b,c){for(c=0>c?c+b:c;++c<b;)a.push(c);return a})}};aa.pseudos.nth=aa.pseudos.eq;for(gb in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})aa.pseudos[gb]=Wc(gb);for(gb in{submit:!0,reset:!0})aa.pseudos[gb]=Xc(gb);jc.prototype=aa.filters=aa.pseudos;aa.setFilters=new jc;Kb=Z.compile=function(a,b){var c,k=[],f=[],d=nc[a+" "];if(!d){b||(b=sb(a));for(c=b.length;c--;)d=Ob(b[c]),d[pa]?k.push(d):f.push(d);var h=0,g=0<k.length,j=0<f.length;
c=function(a,b,c,d,oa){var l,n,w=[],E=0,F="0",r=a&&[],u=null!=oa,dc=zb,m=a||j&&aa.find.TAG("*",oa&&b.parentNode||b),C=Fa+=null==dc?1:Math.random()||0.1;u&&(zb=b!==ta&&b,xb=h);for(;null!=(oa=m[F]);F++){if(j&&oa){for(l=0;n=f[l++];)if(n(oa,b,c)){d.push(oa);break}u&&(Fa=C,xb=++h)}g&&((oa=!n&&oa)&&E--,a&&r.push(oa))}E+=F;if(g&&F!==E){for(l=0;n=k[l++];)n(r,w,b,c);if(a){if(0<E)for(;F--;)!r[F]&&!w[F]&&(w[F]=bd.call(d));w=yb(w)}Ma.apply(d,w);u&&(!a&&0<w.length&&1<E+k.length)&&Z.uniqueSort(d)}u&&(Fa=C,zb=dc);
return r};c=g?ra(c):c;d=nc(a,c)}return d};na.sortStable=pa.split("").sort(Pb).join("")===pa;na.detectDuplicates=hb;Xa();na.sortDetached=sa(function(a){return a.compareDocumentPosition(ta.createElement("div"))&1});sa(function(a){a.innerHTML="<a href='#'></a>";return"#"===a.firstChild.getAttribute("href")})||wb("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)});(!na.attributes||!sa(function(a){a.innerHTML="<input/>";a.firstChild.setAttribute("value",
"");return""===a.firstChild.getAttribute("value")}))&&wb("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue});sa(function(a){return null==a.getAttribute("disabled")})||wb("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,b,c){var k;if(!c)return(k=a.getAttributeNode(b))&&k.specified?k.value:!0===a[b]?b.toLowerCase():null});l.find=Z;l.expr=Z.selectors;l.expr[":"]=l.expr.pseudos;
l.unique=Z.uniqueSort;l.text=Z.getText;l.isXMLDoc=Z.isXML;l.contains=Z.contains;var rc={};l.Callbacks=function(a){var b;if("string"===typeof a){if(!(b=rc[a])){b=a;var k=rc[b]={};l.each(b.match(fa)||[],function(a,b){k[b]=!0});b=k}}else b=l.extend({},a);var a=b,f,d,h,g,j,n,w=[],E=!a.once&&[],F=function(b){d=a.memory&&b;h=!0;j=n||0;n=0;g=w.length;for(f=!0;w&&j<g;j++)if(!1===w[j].apply(b[0],b[1])&&a.stopOnFalse){d=!1;break}f=!1;w&&(E?E.length&&F(E.shift()):d?w=[]:r.disable())},r={add:function(){if(w){var b=
w.length;(function Tc(b){l.each(b,function(b,c){var k=l.type(c);"function"===k?(!a.unique||!r.has(c))&&w.push(c):c&&(c.length&&"string"!==k)&&Tc(c)})})(arguments);f?g=w.length:d&&(n=b,F(d))}return this},remove:function(){w&&l.each(arguments,function(a,b){for(var c;-1<(c=l.inArray(b,w,c));)w.splice(c,1),f&&(c<=g&&g--,c<=j&&j--)});return this},has:function(a){return a?-1<l.inArray(a,w):!(!w||!w.length)},empty:function(){w=[];g=0;return this},disable:function(){w=E=d=c;return this},disabled:function(){return!w},
lock:function(){E=c;d||r.disable();return this},locked:function(){return!E},fireWith:function(a,b){if(w&&(!h||E))b=b||[],b=[a,b.slice?b.slice():b],f?E.push(b):F(b);return this},fire:function(){r.fireWith(this,arguments);return this},fired:function(){return!!h}};return r};l.extend({Deferred:function(a){var b=[["resolve","done",l.Callbacks("once memory"),"resolved"],["reject","fail",l.Callbacks("once memory"),"rejected"],["notify","progress",l.Callbacks("memory")]],c="pending",k={state:function(){return c},
always:function(){f.done(arguments).fail(arguments);return this},then:function(){var a=arguments;return l.Deferred(function(c){l.each(b,function(b,d){var h=d[0],g=l.isFunction(a[b])&&a[b];f[d[1]](function(){var a=g&&g.apply(this,arguments);if(a&&l.isFunction(a.promise))a.promise().done(c.resolve).fail(c.reject).progress(c.notify);else c[h+"With"](this===k?c.promise():this,g?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?l.extend(a,k):k}},f={};k.pipe=k.then;l.each(b,function(a,
d){var h=d[2],g=d[3];k[d[1]]=h.add;g&&h.add(function(){c=g},b[a^1][2].disable,b[2][2].lock);f[d[0]]=function(){f[d[0]+"With"](this===f?k:this,arguments);return this};f[d[0]+"With"]=h.fireWith});k.promise(f);a&&a.call(f,f);return f},when:function(a){var b=0,c=wa.call(arguments),k=c.length,f=1!==k||a&&l.isFunction(a.promise)?k:0,d=1===f?a:l.Deferred(),h=function(a,b,c){return function(k){b[a]=this;c[a]=1<arguments.length?wa.call(arguments):k;c===g?d.notifyWith(b,c):--f||d.resolveWith(b,c)}},g,j,n;if(1<
k){g=Array(k);j=Array(k);for(n=Array(k);b<k;b++)c[b]&&l.isFunction(c[b].promise)?c[b].promise().done(h(b,n,c)).fail(d.reject).progress(h(b,j,g)):--f}f||d.resolveWith(n,c);return d.promise()}});var id=l;var W={},Sb,Ra,ua,Cb,Db,Eb,Tb,sc,ob,Y=R.createElement("div");Y.setAttribute("className","t");Y.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";Sb=Y.getElementsByTagName("*")||[];if((Ra=Y.getElementsByTagName("a")[0])&&Ra.style&&Sb.length){Cb=R.createElement("select");
Eb=Cb.appendChild(R.createElement("option"));ua=Y.getElementsByTagName("input")[0];Ra.style.cssText="top:1px;float:left;opacity:.5";W.getSetAttribute="t"!==Y.className;W.leadingWhitespace=3===Y.firstChild.nodeType;W.tbody=!Y.getElementsByTagName("tbody").length;W.htmlSerialize=!!Y.getElementsByTagName("link").length;W.style=/top/.test(Ra.getAttribute("style"));W.hrefNormalized="/a"===Ra.getAttribute("href");W.opacity=/^0.5/.test(Ra.style.opacity);W.cssFloat=!!Ra.style.cssFloat;W.checkOn=!!ua.value;
W.optSelected=Eb.selected;W.enctype=!!R.createElement("form").enctype;W.html5Clone="<:nav></:nav>"!==R.createElement("nav").cloneNode(!0).outerHTML;W.inlineBlockNeedsLayout=!1;W.shrinkWrapBlocks=!1;W.pixelPosition=!1;W.deleteExpando=!0;W.noCloneEvent=!0;W.reliableMarginRight=!0;W.boxSizingReliable=!0;ua.checked=!0;W.noCloneChecked=ua.cloneNode(!0).checked;Cb.disabled=!0;W.optDisabled=!Eb.disabled;try{delete Y.test}catch(Ld){W.deleteExpando=!1}ua=R.createElement("input");ua.setAttribute("value","");
W.input=""===ua.getAttribute("value");ua.value="t";ua.setAttribute("type","radio");W.radioValue="t"===ua.value;ua.setAttribute("checked","t");ua.setAttribute("name","t");Db=R.createDocumentFragment();Db.appendChild(ua);W.appendChecked=ua.checked;W.checkClone=Db.cloneNode(!0).cloneNode(!0).lastChild.checked;Y.attachEvent&&(Y.attachEvent("onclick",function(){W.noCloneEvent=!1}),Y.cloneNode(!0).click());for(ob in{submit:!0,change:!0,focusin:!0})Y.setAttribute(Tb="on"+ob,"t"),W[ob+"Bubbles"]=Tb in a||
!1===Y.attributes[Tb].expando;Y.style.backgroundClip="content-box";Y.cloneNode(!0).style.backgroundClip="";W.clearCloneStyle="content-box"===Y.style.backgroundClip;for(ob in l(W))break;W.ownLast="0"!==ob;l(function(){var b,c,k=R.getElementsByTagName("body")[0];k&&(b=R.createElement("div"),b.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",k.appendChild(b).appendChild(Y),Y.innerHTML="<table><tr><td></td><td>t</td></tr></table>",c=Y.getElementsByTagName("td"),
c[0].style.cssText="padding:0;margin:0;border:0;display:none",sc=0===c[0].offsetHeight,c[0].style.display="",c[1].style.display="none",W.reliableHiddenOffsets=sc&&0===c[0].offsetHeight,Y.innerHTML="",Y.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",l.swap(k,null!=k.style.zoom?{zoom:1}:{},function(){W.boxSizing=4===Y.offsetWidth}),a.getComputedStyle&&(W.pixelPosition=
"1%"!==(a.getComputedStyle(Y,null)||{}).top,W.boxSizingReliable="4px"===(a.getComputedStyle(Y,null)||{width:"4px"}).width,c=Y.appendChild(R.createElement("div")),c.style.cssText=Y.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",c.style.marginRight=c.style.width="0",Y.style.width="1px",W.reliableMarginRight=!parseFloat((a.getComputedStyle(c,null)||{}).marginRight)),typeof Y.style.zoom!==ia&&(Y.innerHTML="",
Y.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;width:1px;padding:1px;display:inline;zoom:1",W.inlineBlockNeedsLayout=3===Y.offsetWidth,Y.style.display="block",Y.innerHTML="<div></div>",Y.firstChild.style.width="5px",W.shrinkWrapBlocks=3!==Y.offsetWidth,W.inlineBlockNeedsLayout&&(k.style.zoom=1)),k.removeChild(b),b=Y=c=c=null)});Sb=Cb=Db=Eb=Ra=ua=null}id.support=W;var Oc=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Nc=
/([A-Z])/g;l.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){a=a.nodeType?l.cache[a[l.expando]]:a[l.expando];return!!a&&!j(a)},data:function(a,c,k){return b(a,c,k)},removeData:function(a,b){return f(a,b)},_data:function(a,c,k){return b(a,c,k,!0)},_removeData:function(a,b){return f(a,b,!0)},acceptData:function(a){if(a.nodeType&&1!==a.nodeType&&9!==a.nodeType)return!1;var b=a.nodeName&&l.noData[a.nodeName.toLowerCase()];return!b||
!0!==b&&a.getAttribute("classid")===b}});l.fn.extend({data:function(a,b){var k,f,h=null,g=0,j=this[0];if(a===c){if(this.length&&(h=l.data(j),1===j.nodeType&&!l._data(j,"parsedAttrs"))){for(k=j.attributes;g<k.length;g++)f=k[g].name,0===f.indexOf("data-")&&(f=l.camelCase(f.slice(5)),d(j,f,h[f]));l._data(j,"parsedAttrs",!0)}return h}return"object"===typeof a?this.each(function(){l.data(this,a)}):1<arguments.length?this.each(function(){l.data(this,a,b)}):j?d(j,a,l.data(j,a)):null},removeData:function(a){return this.each(function(){l.removeData(this,
a)})}});l.extend({queue:function(a,b,c){var k;if(a)return b=(b||"fx")+"queue",k=l._data(a,b),c&&(!k||l.isArray(c)?k=l._data(a,b,l.makeArray(c)):k.push(c)),k||[]},dequeue:function(a,b){var b=b||"fx",c=l.queue(a,b),k=c.length,f=c.shift(),d=l._queueHooks(a,b),h=function(){l.dequeue(a,b)};"inprogress"===f&&(f=c.shift(),k--);f&&("fx"===b&&c.unshift("inprogress"),delete d.stop,f.call(a,h,d));!k&&d&&d.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return l._data(a,c)||l._data(a,c,{empty:l.Callbacks("once memory").add(function(){l._removeData(a,
b+"queue");l._removeData(a,c)})})}});l.fn.extend({queue:function(a,b){var k=2;"string"!==typeof a&&(b=a,a="fx",k--);return arguments.length<k?l.queue(this[0],a):b===c?this:this.each(function(){var c=l.queue(this,a,b);l._queueHooks(this,a);"fx"===a&&"inprogress"!==c[0]&&l.dequeue(this,a)})},dequeue:function(a){return this.each(function(){l.dequeue(this,a)})},delay:function(a,b){a=l.fx?l.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,c){var k=setTimeout(b,a);c.stop=function(){clearTimeout(k)}})},
clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var k,f=1,d=l.Deferred(),h=this,g=this.length,j=function(){--f||d.resolveWith(h,[h])};"string"!==typeof a&&(b=a,a=c);for(a=a||"fx";g--;)if((k=l._data(h[g],a+"queueHooks"))&&k.empty)f++,k.empty.add(j);j();return d.promise(b)}});var ib,tc,Ub=/[\t\r\n\f]/g,jd=/\r/g,kd=/^(?:input|select|textarea|button|object)$/i,ld=/^(?:a|area)$/i,Vb=/^(?:checked|selected)$/i,bb=l.support.getSetAttribute,Fb=l.support.input;l.fn.extend({attr:function(a,
b){return l.access(this,l.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){l.removeAttr(this,a)})},prop:function(a,b){return l.access(this,l.prop,a,b,1<arguments.length)},removeProp:function(a){a=l.propFix[a]||a;return this.each(function(){try{this[a]=c,delete this[a]}catch(b){}})},addClass:function(a){var b,c,k,f,d,h=0,g=this.length;b="string"===typeof a&&a;if(l.isFunction(a))return this.each(function(b){l(this).addClass(a.call(this,b,this.className))});if(b)for(b=
(a||"").match(fa)||[];h<g;h++)if(c=this[h],k=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Ub," "):" ")){for(d=0;f=b[d++];)0>k.indexOf(" "+f+" ")&&(k+=f+" ");c.className=l.trim(k)}return this},removeClass:function(a){var b,c,k,f,d,h=0,g=this.length;b=0===arguments.length||"string"===typeof a&&a;if(l.isFunction(a))return this.each(function(b){l(this).removeClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(fa)||[];h<g;h++)if(c=this[h],k=1===c.nodeType&&(c.className?(" "+c.className+
" ").replace(Ub," "):"")){for(d=0;f=b[d++];)for(;0<=k.indexOf(" "+f+" ");)k=k.replace(" "+f+" "," ");c.className=a?l.trim(k):""}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"===typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):l.isFunction(a)?this.each(function(c){l(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var b,k=0,f=l(this),d=a.match(fa)||[];b=d[k++];)f.hasClass(b)?f.removeClass(b):f.addClass(b);else if(c===
ia||"boolean"===c)this.className&&l._data(this,"__className__",this.className),this.className=this.className||!1===a?"":l._data(this,"__className__")||""})},hasClass:function(a){for(var a=" "+a+" ",b=0,c=this.length;b<c;b++)if(1===this[b].nodeType&&0<=(" "+this[b].className+" ").replace(Ub," ").indexOf(a))return!0;return!1},val:function(a){var b,k,f,d=this[0];if(arguments.length)return f=l.isFunction(a),this.each(function(b){if(1===this.nodeType&&(b=f?a.call(this,b,l(this).val()):a,null==b?b="":"number"===
typeof b?b+="":l.isArray(b)&&(b=l.map(b,function(a){return null==a?"":a+""})),k=l.valHooks[this.type]||l.valHooks[this.nodeName.toLowerCase()],!k||!("set"in k)||k.set(this,b,"value")===c))this.value=b});if(d){if((k=l.valHooks[d.type]||l.valHooks[d.nodeName.toLowerCase()])&&"get"in k&&(b=k.get(d,"value"))!==c)return b;b=d.value;return"string"===typeof b?b.replace(jd,""):null==b?"":b}}});l.extend({valHooks:{option:{get:function(a){var b=l.find.attr(a,"value");return null!=b?b:a.text}},select:{get:function(a){for(var b,
c=a.options,k=a.selectedIndex,f=(a="select-one"===a.type||0>k)?null:[],d=a?k+1:c.length,h=0>k?d:a?k:0;h<d;h++)if(b=c[h],(b.selected||h===k)&&(l.support.optDisabled?!b.disabled:null===b.getAttribute("disabled"))&&(!b.parentNode.disabled||!l.nodeName(b.parentNode,"optgroup"))){b=l(b).val();if(a)return b;f.push(b)}return f},set:function(a,b){for(var c,k,f=a.options,d=l.makeArray(b),h=f.length;h--;)if(k=f[h],k.selected=0<=l.inArray(l(k).val(),d))c=!0;c||(a.selectedIndex=-1);return d}}},attr:function(a,
b,k){var f,d,h=a.nodeType;if(a&&!(3===h||8===h||2===h)){if(typeof a.getAttribute===ia)return l.prop(a,b,k);if(1!==h||!l.isXMLDoc(a))b=b.toLowerCase(),f=l.attrHooks[b]||(l.expr.match.bool.test(b)?tc:ib);if(k!==c)if(null===k)l.removeAttr(a,b);else{if(f&&"set"in f&&(d=f.set(a,k,b))!==c)return d;a.setAttribute(b,k+"");return k}else{if(f&&"get"in f&&null!==(d=f.get(a,b)))return d;d=l.find.attr(a,b);return null==d?c:d}}},removeAttr:function(a,b){var c,k,f=0,d=b&&b.match(fa);if(d&&1===a.nodeType)for(;c=
d[f++];)k=l.propFix[c]||c,l.expr.match.bool.test(c)?Fb&&bb||!Vb.test(c)?a[k]=!1:a[l.camelCase("default-"+c)]=a[k]=!1:l.attr(a,c,""),a.removeAttribute(bb?c:k)},attrHooks:{type:{set:function(a,b){if(!l.support.radioValue&&"radio"===b&&l.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b);c&&(a.value=c);return b}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,k){var f,d,h;h=a.nodeType;if(a&&!(3===h||8===h||2===h)){if(h=1!==h||!l.isXMLDoc(a))b=l.propFix[b]||b,d=l.propHooks[b];
return k!==c?d&&"set"in d&&(f=d.set(a,k,b))!==c?f:a[b]=k:d&&"get"in d&&null!==(f=d.get(a,b))?f:a[b]}},propHooks:{tabIndex:{get:function(a){var b=l.find.attr(a,"tabindex");return b?parseInt(b,10):kd.test(a.nodeName)||ld.test(a.nodeName)&&a.href?0:-1}}}});tc={set:function(a,b,c){!1===b?l.removeAttr(a,c):Fb&&bb||!Vb.test(c)?a.setAttribute(!bb&&l.propFix[c]||c,c):a[l.camelCase("default-"+c)]=a[c]=!0;return c}};l.each(l.expr.match.bool.source.match(/\w+/g),function(a,b){var k=l.expr.attrHandle[b]||l.find.attr;
l.expr.attrHandle[b]=Fb&&bb||!Vb.test(b)?function(a,b,f){var d=l.expr.attrHandle[b],a=f?c:(l.expr.attrHandle[b]=c)!=k(a,b,f)?b.toLowerCase():null;l.expr.attrHandle[b]=d;return a}:function(a,b,k){return k?c:a[l.camelCase("default-"+b)]?b.toLowerCase():null}});if(!Fb||!bb)l.attrHooks.value={set:function(a,b,c){if(l.nodeName(a,"input"))a.defaultValue=b;else return ib&&ib.set(a,b,c)}};bb||(ib={set:function(a,b,k){var f=a.getAttributeNode(k);f||a.setAttributeNode(f=a.ownerDocument.createAttribute(k));
f.value=b+="";return"value"===k||b===a.getAttribute(k)?b:c}},l.expr.attrHandle.id=l.expr.attrHandle.name=l.expr.attrHandle.coords=function(a,b,k){var f;return k?c:(f=a.getAttributeNode(b))&&""!==f.value?f.value:null},l.valHooks.button={get:function(a,b){var k=a.getAttributeNode(b);return k&&k.specified?k.value:c},set:ib.set},l.attrHooks.contenteditable={set:function(a,b,c){ib.set(a,""===b?!1:b,c)}},l.each(["width","height"],function(a,b){l.attrHooks[b]={set:function(a,c){if(""===c)return a.setAttribute(b,
"auto"),c}}}));l.support.hrefNormalized||l.each(["href","src"],function(a,b){l.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}});l.support.style||(l.attrHooks.style={get:function(a){return a.style.cssText||c},set:function(a,b){return a.style.cssText=b+""}});l.support.optSelected||(l.propHooks.selected={get:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex;return null}});l.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),
function(){l.propFix[this.toLowerCase()]=this});l.support.enctype||(l.propFix.enctype="encoding");l.each(["radio","checkbox"],function(){l.valHooks[this]={set:function(a,b){if(l.isArray(b))return a.checked=0<=l.inArray(l(a).val(),b)}};l.support.checkOn||(l.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var Wb=/^(?:input|select|textarea)$/i,md=/^key/,nd=/^(?:mouse|contextmenu)|click/,uc=/^(?:focusinfocus|focusoutblur)$/,vc=/^([^.]*)(?:\.(.+)|)$/;l.event={global:{},
add:function(a,b,k,f,d){var h,g,j,n,w,E,F,r,u;if(j=l._data(a)){k.handler&&(n=k,k=n.handler,d=n.selector);k.guid||(k.guid=l.guid++);if(!(g=j.events))g=j.events={};if(!(w=j.handle))w=j.handle=function(a){return typeof l!==ia&&(!a||l.event.triggered!==a.type)?l.event.dispatch.apply(w.elem,arguments):c},w.elem=a;b=(b||"").match(fa)||[""];for(j=b.length;j--;)if(h=vc.exec(b[j])||[],r=E=h[1],u=(h[2]||"").split(".").sort(),r){h=l.event.special[r]||{};r=(d?h.delegateType:h.bindType)||r;h=l.event.special[r]||
{};E=l.extend({type:r,origType:E,data:f,handler:k,guid:k.guid,selector:d,needsContext:d&&l.expr.match.needsContext.test(d),namespace:u.join(".")},n);if(!(F=g[r]))if(F=g[r]=[],F.delegateCount=0,!h.setup||!1===h.setup.call(a,f,u,w))a.addEventListener?a.addEventListener(r,w,!1):a.attachEvent&&a.attachEvent("on"+r,w);h.add&&(h.add.call(a,E),E.handler.guid||(E.handler.guid=k.guid));d?F.splice(F.delegateCount++,0,E):F.push(E);l.event.global[r]=!0}a=null}},remove:function(a,b,c,k,f){var d,h,g,j,n,w,E,r,
F,u,m,C=l.hasData(a)&&l._data(a);if(C&&(w=C.events)){b=(b||"").match(fa)||[""];for(n=b.length;n--;)if(g=vc.exec(b[n])||[],F=m=g[1],u=(g[2]||"").split(".").sort(),F){E=l.event.special[F]||{};F=(k?E.delegateType:E.bindType)||F;r=w[F]||[];g=g[2]&&RegExp("(^|\\.)"+u.join("\\.(?:.*\\.|)")+"(\\.|$)");for(j=d=r.length;d--;)if(h=r[d],(f||m===h.origType)&&(!c||c.guid===h.guid)&&(!g||g.test(h.namespace))&&(!k||k===h.selector||"**"===k&&h.selector))r.splice(d,1),h.selector&&r.delegateCount--,E.remove&&E.remove.call(a,
h);j&&!r.length&&((!E.teardown||!1===E.teardown.call(a,u,C.handle))&&l.removeEvent(a,F,C.handle),delete w[F])}else for(F in w)l.event.remove(a,F+b[n],c,k,!0);l.isEmptyObject(w)&&(delete C.handle,l._removeData(a,"events"))}},trigger:function(b,k,f,d){var h,g,j,n,w,E,F=[f||R],r=Ba.call(b,"type")?b.type:b;w=Ba.call(b,"namespace")?b.namespace.split("."):[];j=h=f=f||R;if(!(3===f.nodeType||8===f.nodeType)&&!uc.test(r+l.event.triggered))if(0<=r.indexOf(".")&&(w=r.split("."),r=w.shift(),w.sort()),g=0>r.indexOf(":")&&
"on"+r,b=b[l.expando]?b:new l.Event(r,"object"===typeof b&&b),b.isTrigger=d?2:3,b.namespace=w.join("."),b.namespace_re=b.namespace?RegExp("(^|\\.)"+w.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=c,b.target||(b.target=f),k=null==k?[b]:l.makeArray(k,[b]),w=l.event.special[r]||{},d||!(w.trigger&&!1===w.trigger.apply(f,k))){if(!d&&!w.noBubble&&!l.isWindow(f)){n=w.delegateType||r;uc.test(n+r)||(j=j.parentNode);for(;j;j=j.parentNode)F.push(j),h=j;if(h===(f.ownerDocument||R))F.push(h.defaultView||h.parentWindow||
a)}for(E=0;(j=F[E++])&&!b.isPropagationStopped();)b.type=1<E?n:w.bindType||r,(h=(l._data(j,"events")||{})[b.type]&&l._data(j,"handle"))&&h.apply(j,k),(h=g&&j[g])&&(l.acceptData(j)&&h.apply&&!1===h.apply(j,k))&&b.preventDefault();b.type=r;if(!d&&!b.isDefaultPrevented()&&(!w._default||!1===w._default.apply(F.pop(),k))&&l.acceptData(f)&&g&&f[r]&&!l.isWindow(f)){(h=f[g])&&(f[g]=null);l.event.triggered=r;try{f[r]()}catch(u){}l.event.triggered=c;h&&(f[g]=h)}return b.result}},dispatch:function(a){var a=
l.event.fix(a),b,k,f,d,h=[],g=wa.call(arguments);b=(l._data(this,"events")||{})[a.type]||[];var j=l.event.special[a.type]||{};g[0]=a;a.delegateTarget=this;if(!(j.preDispatch&&!1===j.preDispatch.call(this,a))){h=l.event.handlers.call(this,a,b);for(b=0;(f=h[b++])&&!a.isPropagationStopped();){a.currentTarget=f.elem;for(d=0;(k=f.handlers[d++])&&!a.isImmediatePropagationStopped();)if(!a.namespace_re||a.namespace_re.test(k.namespace))if(a.handleObj=k,a.data=k.data,k=((l.event.special[k.origType]||{}).handle||
k.handler).apply(f.elem,g),k!==c&&!1===(a.result=k))a.preventDefault(),a.stopPropagation()}j.postDispatch&&j.postDispatch.call(this,a);return a.result}},handlers:function(a,b){var k,f,d,h,g=[],j=b.delegateCount,n=a.target;if(j&&n.nodeType&&(!a.button||"click"!==a.type))for(;n!=this;n=n.parentNode||this)if(1===n.nodeType&&(!0!==n.disabled||"click"!==a.type)){d=[];for(h=0;h<j;h++)f=b[h],k=f.selector+" ",d[k]===c&&(d[k]=f.needsContext?0<=l(k,this).index(n):l.find(k,this,null,[n]).length),d[k]&&d.push(f);
d.length&&g.push({elem:n,handlers:d})}j<b.length&&g.push({elem:this,handlers:b.slice(j)});return g},fix:function(a){if(a[l.expando])return a;var b,c,k;b=a.type;var f=a,d=this.fixHooks[b];d||(this.fixHooks[b]=d=nd.test(b)?this.mouseHooks:md.test(b)?this.keyHooks:{});k=d.props?this.props.concat(d.props):this.props;a=new l.Event(f);for(b=k.length;b--;)c=k[b],a[c]=f[c];a.target||(a.target=f.srcElement||R);3===a.target.nodeType&&(a.target=a.target.parentNode);a.metaKey=!!a.metaKey;return d.filter?d.filter(a,
f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var k,f,d=b.button,h=b.fromElement;null==a.pageX&&
null!=b.clientX&&(k=a.target.ownerDocument||R,f=k.documentElement,k=k.body,a.pageX=b.clientX+(f&&f.scrollLeft||k&&k.scrollLeft||0)-(f&&f.clientLeft||k&&k.clientLeft||0),a.pageY=b.clientY+(f&&f.scrollTop||k&&k.scrollTop||0)-(f&&f.clientTop||k&&k.clientTop||0));!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?b.toElement:h);!a.which&&d!==c&&(a.which=d&1?1:d&2?3:d&4?2:0);return a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==q()&&this.focus)try{return this.focus(),!1}catch(a){}},
delegateType:"focusin"},blur:{trigger:function(){if(this===q()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(l.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(a){return l.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){a.result!==c&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,k){a=l.extend(new l.Event,c,{type:a,isSimulated:!0,originalEvent:{}});k?l.event.trigger(a,null,
b):l.event.dispatch.call(b,a);a.isDefaultPrevented()&&c.preventDefault()}};l.removeEvent=R.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){b="on"+b;a.detachEvent&&(typeof a[b]===ia&&(a[b]=null),a.detachEvent(b,c))};l.Event=function(a,b){if(!(this instanceof l.Event))return new l.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?
p:m):this.type=a;b&&l.extend(this,b);this.timeStamp=a&&a.timeStamp||l.now();this[l.expando]=!0};l.Event.prototype={isDefaultPrevented:m,isPropagationStopped:m,isImmediatePropagationStopped:m,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=p;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=p;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=
p;this.stopPropagation()}};l.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){l.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,k=a.relatedTarget,f=a.handleObj;if(!k||k!==this&&!l.contains(this,k))a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b;return c}}});l.support.submitBubbles||(l.event.special.submit={setup:function(){if(l.nodeName(this,"form"))return!1;l.event.add(this,"click._submit keypress._submit",function(a){a=a.target;if((a=l.nodeName(a,
"input")||l.nodeName(a,"button")?a.form:c)&&!l._data(a,"submitBubbles"))l.event.add(a,"submit._submit",function(a){a._submit_bubble=!0}),l._data(a,"submitBubbles",!0)})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&l.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(l.nodeName(this,"form"))return!1;l.event.remove(this,"._submit")}});l.support.changeBubbles||(l.event.special.change={setup:function(){if(Wb.test(this.nodeName)){if("checkbox"===
this.type||"radio"===this.type)l.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),l.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);l.event.simulate("change",this,a,!0)});return!1}l.event.add(this,"beforeactivate._change",function(a){a=a.target;Wb.test(a.nodeName)&&!l._data(a,"changeBubbles")&&(l.event.add(a,"change._change",function(a){this.parentNode&&(!a.isSimulated&&!a.isTrigger)&&
l.event.simulate("change",this.parentNode,a,!0)}),l._data(a,"changeBubbles",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){l.event.remove(this,"._change");return!Wb.test(this.nodeName)}});l.support.focusinBubbles||l.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,k=function(a){l.event.simulate(b,a.target,l.event.fix(a),!0)};l.event.special[b]=
{setup:function(){0===c++&&R.addEventListener(a,k,!0)},teardown:function(){0===--c&&R.removeEventListener(a,k,!0)}}});l.fn.extend({on:function(a,b,k,f,d){var h,g;if("object"===typeof a){"string"!==typeof b&&(k=k||b,b=c);for(h in a)this.on(h,b,k,a[h],d);return this}null==k&&null==f?(f=b,k=b=c):null==f&&("string"===typeof b?(f=k,k=c):(f=k,k=b,b=c));if(!1===f)f=m;else if(!f)return this;1===d&&(g=f,f=function(a){l().off(a);return g.apply(this,arguments)},f.guid=g.guid||(g.guid=l.guid++));return this.each(function(){l.event.add(this,
a,f,k,b)})},one:function(a,b,c,k){return this.on(a,b,c,k,1)},off:function(a,b,k){var f;if(a&&a.preventDefault&&a.handleObj)return f=a.handleObj,l(a.delegateTarget).off(f.namespace?f.origType+"."+f.namespace:f.origType,f.selector,f.handler),this;if("object"===typeof a){for(f in a)this.off(f,b,a[f]);return this}if(!1===b||"function"===typeof b)k=b,b=c;!1===k&&(k=m);return this.each(function(){l.event.remove(this,a,k,b)})},trigger:function(a,b){return this.each(function(){l.event.trigger(a,b,this)})},
triggerHandler:function(a,b){var c=this[0];if(c)return l.event.trigger(a,b,c,!0)}});var Pc=/^.[^:#\[\.,]*$/,od=/^(?:parents|prev(?:Until|All))/,wc=l.expr.match.needsContext,pd={children:!0,contents:!0,next:!0,prev:!0};l.fn.extend({find:function(a){var b,c=[],k=this,f=k.length;if("string"!==typeof a)return this.pushStack(l(a).filter(function(){for(b=0;b<f;b++)if(l.contains(k[b],this))return!0}));for(b=0;b<f;b++)l.find(a,k[b],c);c=this.pushStack(1<f?l.unique(c):c);c.selector=this.selector?this.selector+
" "+a:a;return c},has:function(a){var b,c=l(a,this),k=c.length;return this.filter(function(){for(b=0;b<k;b++)if(l.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(n(this,a||[],!0))},filter:function(a){return this.pushStack(n(this,a||[],!1))},is:function(a){return!!n(this,"string"===typeof a&&wc.test(a)?l(a):a||[],!1).length},closest:function(a,b){for(var c,k=0,f=this.length,d=[],h=wc.test(a)||"string"!==typeof a?l(a,b||this.context):0;k<f;k++)for(c=this[k];c&&c!==b;c=c.parentNode)if(11>
c.nodeType&&(h?-1<h.index(c):1===c.nodeType&&l.find.matchesSelector(c,a))){d.push(c);break}return this.pushStack(1<d.length?l.unique(d):d)},index:function(a){return!a?this[0]&&this[0].parentNode?this.first().prevAll().length:-1:"string"===typeof a?l.inArray(this[0],l(a)):l.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c="string"===typeof a?l(a,b):l.makeArray(a&&a.nodeType?[a]:a),c=l.merge(this.get(),c);return this.pushStack(l.unique(c))},addBack:function(a){return this.add(null==a?this.prevObject:
this.prevObject.filter(a))}});l.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return l.dir(a,"parentNode")},parentsUntil:function(a,b,c){return l.dir(a,"parentNode",c)},next:function(a){return t(a,"nextSibling")},prev:function(a){return t(a,"previousSibling")},nextAll:function(a){return l.dir(a,"nextSibling")},prevAll:function(a){return l.dir(a,"previousSibling")},nextUntil:function(a,b,c){return l.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return l.dir(a,
"previousSibling",c)},siblings:function(a){return l.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return l.sibling(a.firstChild)},contents:function(a){return l.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:l.merge([],a.childNodes)}},function(a,b){l.fn[a]=function(c,k){var f=l.map(this,b,c);"Until"!==a.slice(-5)&&(k=c);k&&"string"===typeof k&&(f=l.filter(k,f));1<this.length&&(pd[a]||(f=l.unique(f)),od.test(a)&&(f=f.reverse()));return this.pushStack(f)}});l.extend({filter:function(a,
b,c){var k=b[0];c&&(a=":not("+a+")");return 1===b.length&&1===k.nodeType?l.find.matchesSelector(k,a)?[k]:[]:l.find.matches(a,l.grep(b,function(a){return 1===a.nodeType}))},dir:function(a,b,k){for(var f=[],a=a[b];a&&9!==a.nodeType&&(k===c||1!==a.nodeType||!l(a).is(k));)1===a.nodeType&&f.push(a),a=a[b];return f},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var ec="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",
qd=/ jQuery\d+="(?:null|\d+)"/g,xc=RegExp("<(?:"+ec+")[\\s/>]","i"),Xb=/^\s+/,yc=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,zc=/<([\w:]+)/,Ac=/<tbody/i,rd=/<|&#?\w+;/,sd=/<(?:script|style|link)/i,Hb=/^(?:checkbox|radio)$/i,td=/checked\s*(?:[^=]|=\s*.checked.)/i,Bc=/^$|\/(?:java|ecma)script/i,Qc=/^true\/(.*)/,ud=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ya={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],
param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:l.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Yb=h(R).appendChild(R.createElement("div"));ya.optgroup=ya.option;ya.tbody=ya.tfoot=ya.colgroup=ya.caption=ya.thead;ya.th=ya.td;l.fn.extend({text:function(a){return l.access(this,function(a){return a===c?l.text(this):
this.empty().append((this[0]&&this[0].ownerDocument||R).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&x(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=x(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&
this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,k=a?l.filter(a,this):this,f=0;null!=(c=k[f]);f++)!b&&1===c.nodeType&&l.cleanData(A(c)),c.parentNode&&(b&&l.contains(c.ownerDocument,c)&&S(A(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&l.cleanData(A(a,!1));a.firstChild;)a.removeChild(a.firstChild);
a.options&&l.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return l.clone(this,a,b)})},html:function(a){return l.access(this,function(a){var b=this[0]||{},k=0,f=this.length;if(a===c)return 1===b.nodeType?b.innerHTML.replace(qd,""):c;if("string"===typeof a&&!sd.test(a)&&(l.support.htmlSerialize||!xc.test(a))&&(l.support.leadingWhitespace||!Xb.test(a))&&!ya[(zc.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(yc,"<$1></$2>");
try{for(;k<f;k++)b=this[k]||{},1===b.nodeType&&(l.cleanData(A(b,!1)),b.innerHTML=a);b=0}catch(d){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=l.map(this,function(a){return[a.nextSibling,a.parentNode]}),b=0;this.domManip(arguments,function(c){var k=a[b++],f=a[b++];f&&(k&&k.parentNode!==f&&(k=this.nextSibling),l(this).remove(),f.insertBefore(c,k))},!0);return b?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,c){var a=qa.apply([],
a),k,f,d,h,g=0,j=this.length,n=this,w=j-1,E=a[0],r=l.isFunction(E);if(r||!(1>=j||"string"!==typeof E||l.support.checkClone||!td.test(E)))return this.each(function(k){var f=n.eq(k);r&&(a[0]=E.call(this,k,f.html()));f.domManip(a,b,c)});if(j&&(h=l.buildFragment(a,this[0].ownerDocument,!1,!c&&this),k=h.firstChild,1===h.childNodes.length&&(h=k),k)){d=l.map(A(h,"script"),z);for(f=d.length;g<j;g++)k=h,g!==w&&(k=l.clone(k,!0,!0),f&&l.merge(d,A(k,"script"))),b.call(this[g],k,g);if(f){h=d[d.length-1].ownerDocument;
l.map(d,D);for(g=0;g<f;g++)if(k=d[g],Bc.test(k.type||"")&&!l._data(k,"globalEval")&&l.contains(h,k))k.src?l._evalUrl(k.src):l.globalEval((k.text||k.textContent||k.innerHTML||"").replace(ud,""))}h=k=null}return this}});l.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){l.fn[a]=function(a){for(var c=0,k=[],f=l(a),d=f.length-1;c<=d;c++)a=c===d?this:this.clone(!0),l(f[c])[b](a),la.apply(k,a.get());return this.pushStack(k)}});
l.extend({clone:function(a,b,c){var k,f,d,h,g,j=l.contains(a.ownerDocument,a);l.support.html5Clone||l.isXMLDoc(a)||!xc.test("<"+a.nodeName+">")?d=a.cloneNode(!0):(Yb.innerHTML=a.outerHTML,Yb.removeChild(d=Yb.firstChild));if((!l.support.noCloneEvent||!l.support.noCloneChecked)&&(1===a.nodeType||11===a.nodeType)&&!l.isXMLDoc(a)){k=A(d);g=A(a);for(h=0;null!=(f=g[h]);++h)if(k[h]){var n=k[h],w=void 0,E=void 0,r=void 0;if(1===n.nodeType){w=n.nodeName.toLowerCase();if(!l.support.noCloneEvent&&n[l.expando]){r=
l._data(n);for(E in r.events)l.removeEvent(n,E,r.handle);n.removeAttribute(l.expando)}if("script"===w&&n.text!==f.text)z(n).text=f.text,D(n);else if("object"===w)n.parentNode&&(n.outerHTML=f.outerHTML),l.support.html5Clone&&(f.innerHTML&&!l.trim(n.innerHTML))&&(n.innerHTML=f.innerHTML);else if("input"===w&&Hb.test(f.type))n.defaultChecked=n.checked=f.checked,n.value!==f.value&&(n.value=f.value);else if("option"===w)n.defaultSelected=n.selected=f.defaultSelected;else if("input"===w||"textarea"===w)n.defaultValue=
f.defaultValue}}}if(b)if(c){g=g||A(a);k=k||A(d);for(h=0;null!=(f=g[h]);h++)u(f,k[h])}else u(a,d);k=A(d,"script");0<k.length&&S(k,!j&&A(a,"script"));return d},buildFragment:function(a,b,c,k){for(var f,d,g,j,n,w,E=a.length,r=h(b),F=[],u=0;u<E;u++)if((d=a[u])||0===d)if("object"===l.type(d))l.merge(F,d.nodeType?[d]:d);else if(rd.test(d)){g=g||r.appendChild(b.createElement("div"));j=(zc.exec(d)||["",""])[1].toLowerCase();w=ya[j]||ya._default;g.innerHTML=w[1]+d.replace(yc,"<$1></$2>")+w[2];for(f=w[0];f--;)g=
g.lastChild;!l.support.leadingWhitespace&&Xb.test(d)&&F.push(b.createTextNode(Xb.exec(d)[0]));if(!l.support.tbody)for(f=(d="table"===j&&!Ac.test(d)?g.firstChild:"<table>"===w[1]&&!Ac.test(d)?g:0)&&d.childNodes.length;f--;)l.nodeName(n=d.childNodes[f],"tbody")&&!n.childNodes.length&&d.removeChild(n);l.merge(F,g.childNodes);for(g.textContent="";g.firstChild;)g.removeChild(g.firstChild);g=r.lastChild}else F.push(b.createTextNode(d));g&&r.removeChild(g);l.support.appendChecked||l.grep(A(F,"input"),B);
for(u=0;d=F[u++];)if(!(k&&-1!==l.inArray(d,k))&&(a=l.contains(d.ownerDocument,d),g=A(r.appendChild(d),"script"),a&&S(g),c))for(f=0;d=g[f++];)Bc.test(d.type||"")&&c.push(d);return r},cleanData:function(a,b){for(var c,k,f,d,h=0,g=l.expando,j=l.cache,n=l.support.deleteExpando,w=l.event.special;null!=(c=a[h]);h++)if(b||l.acceptData(c))if(d=(f=c[g])&&j[f]){if(d.events)for(k in d.events)w[k]?l.event.remove(c,k):l.removeEvent(c,k,d.handle);j[f]&&(delete j[f],n?delete c[g]:typeof c.removeAttribute!==ia?c.removeAttribute(g):
c[g]=null,F.push(f))}},_evalUrl:function(a){return l.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}});l.fn.extend({wrapAll:function(a){if(l.isFunction(a))return this.each(function(b){l(this).wrapAll(a.call(this,b))});if(this[0]){var b=l(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return l.isFunction(a)?
this.each(function(b){l(this).wrapInner(a.call(this,b))}):this.each(function(){var b=l(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=l.isFunction(a);return this.each(function(c){l(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){l.nodeName(this,"body")||l(this).replaceWith(this.childNodes)}).end()}});var kb,Ua,Va,Zb=/alpha\([^)]*\)/i,vd=/opacity\s*=\s*([^)]*)/,wd=/^(top|right|bottom|left)$/,xd=/^(none|table(?!-c[ea]).+)/,
Cc=/^margin/,Rc=RegExp("^("+ma+")(.*)$","i"),qb=RegExp("^("+ma+")(?!px)[a-z%]+$","i"),yd=RegExp("^([+-])=("+ma+")","i"),gc={BODY:"block"},zd={position:"absolute",visibility:"hidden",display:"block"},Dc={letterSpacing:0,fontWeight:400},Ta=["Top","Right","Bottom","Left"],fc=["Webkit","O","Moz","ms"];l.fn.extend({css:function(a,b){return l.access(this,function(a,b,k){var f,d={},h=0;if(l.isArray(b)){f=Ua(a);for(k=b.length;h<k;h++)d[b[h]]=l.css(a,b[h],!1,f);return d}return k!==c?l.style(a,b,k):l.css(a,
b)},a,b,1<arguments.length)},show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(a){return"boolean"===typeof a?a?this.show():this.hide():this.each(function(){y(this)?l(this).show():l(this).hide()})}});l.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Va(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":l.support.cssFloat?"cssFloat":
"styleFloat"},style:function(a,b,k,f){if(a&&!(3===a.nodeType||8===a.nodeType||!a.style)){var d,h,g,j=l.camelCase(b),n=a.style,b=l.cssProps[j]||(l.cssProps[j]=J(n,j));g=l.cssHooks[b]||l.cssHooks[j];if(k!==c){h=typeof k;if("string"===h&&(d=yd.exec(k)))k=(d[1]+1)*d[2]+parseFloat(l.css(a,b)),h="number";if(!(null==k||"number"===h&&isNaN(k)))if("number"===h&&!l.cssNumber[j]&&(k+="px"),!l.support.clearCloneStyle&&(""===k&&0===b.indexOf("background"))&&(n[b]="inherit"),!g||!("set"in g)||(k=g.set(a,k,f))!==
c)try{n[b]=k}catch(w){}}else return g&&"get"in g&&(d=g.get(a,!1,f))!==c?d:n[b]}},css:function(a,b,k,f){var d,h;h=l.camelCase(b);b=l.cssProps[h]||(l.cssProps[h]=J(a.style,h));(h=l.cssHooks[b]||l.cssHooks[h])&&"get"in h&&(d=h.get(a,!0,k));d===c&&(d=Va(a,b,f));"normal"===d&&b in Dc&&(d=Dc[b]);return""===k||k?(a=parseFloat(d),!0===k||l.isNumeric(a)?a||0:d):d}});a.getComputedStyle?(Ua=function(b){return a.getComputedStyle(b,null)},Va=function(a,b,k){var f,d=(k=k||Ua(a))?k.getPropertyValue(b)||k[b]:c,h=
a.style;k&&(""===d&&!l.contains(a.ownerDocument,a)&&(d=l.style(a,b)),qb.test(d)&&Cc.test(b)&&(a=h.width,b=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=d,d=k.width,h.width=a,h.minWidth=b,h.maxWidth=f));return d}):R.documentElement.currentStyle&&(Ua=function(a){return a.currentStyle},Va=function(a,b,k){var f,d,h=(k=k||Ua(a))?k[b]:c,g=a.style;null==h&&(g&&g[b])&&(h=g[b]);if(qb.test(h)&&!wd.test(b)){k=g.left;if(d=(f=a.runtimeStyle)&&f.left)f.left=a.currentStyle.left;g.left="fontSize"===b?"1em":
h;h=g.pixelLeft+"px";g.left=k;d&&(f.left=d)}return""===h?"auto":h});l.each(["height","width"],function(a,b){l.cssHooks[b]={get:function(a,c,k){if(c)return 0===a.offsetWidth&&xd.test(l.css(a,"display"))?l.swap(a,zd,function(){return Q(a,b,k)}):Q(a,b,k)},set:function(a,c,k){var f=k&&Ua(a);return K(a,c,k?I(a,b,k,l.support.boxSizing&&"border-box"===l.css(a,"boxSizing",!1,f),f):0)}}});l.support.opacity||(l.cssHooks.opacity={get:function(a,b){return vd.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||
"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,k=a.currentStyle,f=l.isNumeric(b)?"alpha(opacity="+100*b+")":"",d=k&&k.filter||c.filter||"";c.zoom=1;if((1<=b||""===b)&&""===l.trim(d.replace(Zb,""))&&c.removeAttribute)if(c.removeAttribute("filter"),""===b||k&&!k.filter)return;c.filter=Zb.test(d)?d.replace(Zb,f):d+" "+f}});l(function(){l.support.reliableMarginRight||(l.cssHooks.marginRight={get:function(a,b){if(b)return l.swap(a,{display:"inline-block"},Va,[a,"marginRight"])}});
!l.support.pixelPosition&&l.fn.position&&l.each(["top","left"],function(a,b){l.cssHooks[b]={get:function(a,c){if(c)return c=Va(a,b),qb.test(c)?l(a).position()[b]+"px":c}}})});l.expr&&l.expr.filters&&(l.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight||!l.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||l.css(a,"display"))},l.expr.filters.visible=function(a){return!l.expr.filters.hidden(a)});l.each({margin:"",padding:"",border:"Width"},function(a,b){l.cssHooks[a+
b]={expand:function(c){for(var k=0,f={},c="string"===typeof c?c.split(" "):[c];4>k;k++)f[a+Ta[k]+b]=c[k]||c[k-2]||c[0];return f}};Cc.test(a)||(l.cssHooks[a+b].set=K)});var Ad=/%20/g,Sc=/\[\]$/,Ec=/\r?\n/g,Bd=/^(?:submit|button|image|reset|file)$/i,Cd=/^(?:input|select|textarea|keygen)/i;l.fn.extend({serialize:function(){return l.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=l.prop(this,"elements");return a?l.makeArray(a):this}).filter(function(){var a=this.type;
return this.name&&!l(this).is(":disabled")&&Cd.test(this.nodeName)&&!Bd.test(a)&&(this.checked||!Hb.test(a))}).map(function(a,b){var c=l(this).val();return null==c?null:l.isArray(c)?l.map(c,function(a){return{name:b.name,value:a.replace(Ec,"\r\n")}}):{name:b.name,value:c.replace(Ec,"\r\n")}}).get()}});l.param=function(a,b){var k,f=[],d=function(a,b){b=l.isFunction(b)?b():null==b?"":b;f[f.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};b===c&&(b=l.ajaxSettings&&l.ajaxSettings.traditional);
if(l.isArray(a)||a.jquery&&!l.isPlainObject(a))l.each(a,function(){d(this.name,this.value)});else for(k in a)N(k,a[k],b,d);return f.join("&").replace(Ad,"+")};l.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){l.fn[b]=function(a,c){return 0<arguments.length?this.on(b,null,a,c):this.trigger(b)}});l.fn.extend({hover:function(a,
b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,k){return this.on(b,a,c,k)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var cb,Sa,$b=l.now(),ac=/\?/,Dd=/#.*$/,Fc=/([?&])_=[^&]*/,Ed=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Fd=/^(?:GET|HEAD)$/,Gd=/^\/\//,Gc=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Hc=l.fn.load,Ic={},Ib={},Jc="*/".concat("*");
try{Sa=ka.href}catch(Md){Sa=R.createElement("a"),Sa.href="",Sa=Sa.href}cb=Gc.exec(Sa.toLowerCase())||[];l.fn.load=function(a,b,k){if("string"!==typeof a&&Hc)return Hc.apply(this,arguments);var f,d,h,g=this,j=a.indexOf(" ");0<=j&&(f=a.slice(j,a.length),a=a.slice(0,j));l.isFunction(b)?(k=b,b=c):b&&"object"===typeof b&&(h="POST");0<g.length&&l.ajax({url:a,type:h,dataType:"html",data:b}).done(function(a){d=arguments;g.html(f?l("<div>").append(l.parseHTML(a)).find(f):a)}).complete(k&&function(a,b){g.each(k,
d||[a.responseText,b,a])});return this};l.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){l.fn[b]=function(a){return this.on(b,a)}});l.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Sa,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(cb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",
json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":l.parseJSON,"text xml":l.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?r(r(a,l.ajaxSettings),b):r(l.ajaxSettings,a)},ajaxPrefilter:L(Ic),ajaxTransport:L(Ib),ajax:function(a,b){function k(a,b,f,d){var E,D,ba,A;A=b;if(2!==q){q=2;j&&clearTimeout(j);w=c;g=d||
"";M.readyState=0<a?4:0;d=200<=a&&300>a||304===a;if(f){ba=r;for(var la=M,qa,z,O,U,G=ba.contents,B=ba.dataTypes;"*"===B[0];)B.shift(),z===c&&(z=ba.mimeType||la.getResponseHeader("Content-Type"));if(z)for(U in G)if(G[U]&&G[U].test(z)){B.unshift(U);break}if(B[0]in f)O=B[0];else{for(U in f){if(!B[0]||ba.converters[U+" "+B[0]]){O=U;break}qa||(qa=U)}O=O||qa}O?(O!==B[0]&&B.unshift(O),ba=f[O]):ba=void 0}a:{f=r;qa=ba;z=M;O=d;var x,X,t,la={},G=f.dataTypes.slice();if(G[1])for(X in f.converters)la[X.toLowerCase()]=
f.converters[X];for(U=G.shift();U;)if(f.responseFields[U]&&(z[f.responseFields[U]]=qa),!t&&(O&&f.dataFilter)&&(qa=f.dataFilter(qa,f.dataType)),t=U,U=G.shift())if("*"===U)U=t;else if("*"!==t&&t!==U){X=la[t+" "+U]||la["* "+U];if(!X)for(x in la)if(ba=x.split(" "),ba[1]===U&&(X=la[t+" "+ba[0]]||la["* "+ba[0]])){!0===X?X=la[x]:!0!==la[x]&&(U=ba[0],G.unshift(ba[1]));break}if(!0!==X)if(X&&f["throws"])qa=X(qa);else try{qa=X(qa)}catch(H){ba={state:"parsererror",error:X?H:"No conversion from "+t+" to "+U};
break a}}ba={state:"success",data:qa}}if(d)r.ifModified&&((A=M.getResponseHeader("Last-Modified"))&&(l.lastModified[h]=A),(A=M.getResponseHeader("etag"))&&(l.etag[h]=A)),204===a||"HEAD"===r.type?A="nocontent":304===a?A="notmodified":(A=ba.state,E=ba.data,D=ba.error,d=!D);else if(D=A,a||!A)A="error",0>a&&(a=0);M.status=a;M.statusText=(b||A)+"";d?m.resolveWith(F,[E,A,M]):m.rejectWith(F,[M,A,D]);M.statusCode(p);p=c;n&&u.trigger(d?"ajaxSuccess":"ajaxError",[M,r,d?E:D]);C.fireWith(F,[M,A]);n&&(u.trigger("ajaxComplete",
[M,r]),--l.active||l.event.trigger("ajaxStop"))}}"object"===typeof a&&(b=a,a=c);var b=b||{},f,d,h,g,j,n,w,E,r=l.ajaxSetup({},b),F=r.context||r,u=r.context&&(F.nodeType||F.jquery)?l(F):l.event,m=l.Deferred(),C=l.Callbacks("once memory"),p=r.statusCode||{},D={},ba={},q=0,A="canceled",M={readyState:0,getResponseHeader:function(a){var b;if(2===q){if(!E)for(E={};b=Ed.exec(g);)E[b[1].toLowerCase()]=b[2];b=E[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===q?g:null},setRequestHeader:function(a,
b){var c=a.toLowerCase();q||(a=ba[c]=ba[c]||a,D[a]=b);return this},overrideMimeType:function(a){q||(r.mimeType=a);return this},statusCode:function(a){var b;if(a)if(2>q)for(b in a)p[b]=[p[b],a[b]];else M.always(a[M.status]);return this},abort:function(a){a=a||A;w&&w.abort(a);k(0,a);return this}};m.promise(M).complete=C.add;M.success=M.done;M.error=M.fail;r.url=((a||r.url||Sa)+"").replace(Dd,"").replace(Gd,cb[1]+"//");r.type=b.method||b.type||r.method||r.type;r.dataTypes=l.trim(r.dataType||"*").toLowerCase().match(fa)||
[""];null==r.crossDomain&&(f=Gc.exec(r.url.toLowerCase()),r.crossDomain=!(!f||!(f[1]!==cb[1]||f[2]!==cb[2]||(f[3]||("http:"===f[1]?"80":"443"))!==(cb[3]||("http:"===cb[1]?"80":"443")))));r.data&&(r.processData&&"string"!==typeof r.data)&&(r.data=l.param(r.data,r.traditional));P(Ic,r,b,M);if(2===q)return M;(n=r.global)&&0===l.active++&&l.event.trigger("ajaxStart");r.type=r.type.toUpperCase();r.hasContent=!Fd.test(r.type);h=r.url;r.hasContent||(r.data&&(h=r.url+=(ac.test(h)?"&":"?")+r.data,delete r.data),
!1===r.cache&&(r.url=Fc.test(h)?h.replace(Fc,"$1_="+$b++):h+(ac.test(h)?"&":"?")+"_="+$b++));r.ifModified&&(l.lastModified[h]&&M.setRequestHeader("If-Modified-Since",l.lastModified[h]),l.etag[h]&&M.setRequestHeader("If-None-Match",l.etag[h]));(r.data&&r.hasContent&&!1!==r.contentType||b.contentType)&&M.setRequestHeader("Content-Type",r.contentType);M.setRequestHeader("Accept",r.dataTypes[0]&&r.accepts[r.dataTypes[0]]?r.accepts[r.dataTypes[0]]+("*"!==r.dataTypes[0]?", "+Jc+"; q=0.01":""):r.accepts["*"]);
for(d in r.headers)M.setRequestHeader(d,r.headers[d]);if(r.beforeSend&&(!1===r.beforeSend.call(F,M,r)||2===q))return M.abort();A="abort";for(d in{success:1,error:1,complete:1})M[d](r[d]);if(w=P(Ib,r,b,M)){M.readyState=1;n&&u.trigger("ajaxSend",[M,r]);r.async&&0<r.timeout&&(j=setTimeout(function(){M.abort("timeout")},r.timeout));try{q=1,w.send(D,k)}catch(la){if(2>q)k(-1,la);else throw la;}}else k(-1,"No Transport");return M},getJSON:function(a,b,c){return l.get(a,b,c,"json")},getScript:function(a,
b){return l.get(a,c,b,"script")}});l.each(["get","post"],function(a,b){l[b]=function(a,k,f,d){l.isFunction(k)&&(d=d||f,f=k,k=c);return l.ajax({url:a,type:b,dataType:d,data:k,success:f})}});l.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){l.globalEval(a);return a}}});l.ajaxPrefilter("script",function(a){a.cache===c&&(a.cache=!1);a.crossDomain&&(a.type=
"GET",a.global=!1)});l.ajaxTransport("script",function(a){if(a.crossDomain){var b,k=R.head||l("head")[0]||R.documentElement;return{send:function(c,f){b=R.createElement("script");b.async=!0;a.scriptCharset&&(b.charset=a.scriptCharset);b.src=a.url;b.onload=b.onreadystatechange=function(a,c){if(c||!b.readyState||/loaded|complete/.test(b.readyState))b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||f(200,"success")};k.insertBefore(b,k.firstChild)},abort:function(){if(b)b.onload(c,
!0)}}}});var Kc=[],bc=/(=)\?(?=&|$)|\?\?/;l.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Kc.pop()||l.expando+"_"+$b++;this[a]=!0;return a}});l.ajaxPrefilter("json jsonp",function(b,k,f){var d,h,g,j=!1!==b.jsonp&&(bc.test(b.url)?"url":"string"===typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&bc.test(b.data)&&"data");if(j||"jsonp"===b.dataTypes[0])return d=b.jsonpCallback=l.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,j?b[j]=b[j].replace(bc,
"$1"+d):!1!==b.jsonp&&(b.url+=(ac.test(b.url)?"&":"?")+b.jsonp+"="+d),b.converters["script json"]=function(){g||l.error(d+" was not called");return g[0]},b.dataTypes[0]="json",h=a[d],a[d]=function(){g=arguments},f.always(function(){a[d]=h;b[d]&&(b.jsonpCallback=k.jsonpCallback,Kc.push(d));g&&l.isFunction(h)&&h(g[0]);g=h=c}),"script"});var jb,pb,Hd=0,cc=a.ActiveXObject&&function(){for(var a in jb)jb[a](c,!0)};l.ajaxSettings.xhr=a.ActiveXObject?function(){var b;if(!(b=!this.isLocal&&w()))a:{try{b=new a.ActiveXObject("Microsoft.XMLHTTP");
break a}catch(c){}b=void 0}return b}:w;pb=l.ajaxSettings.xhr();l.support.cors=!!pb&&"withCredentials"in pb;(pb=l.support.ajax=!!pb)&&l.ajaxTransport(function(b){if(!b.crossDomain||l.support.cors){var k;return{send:function(f,d){var h,g,j=b.xhr();b.username?j.open(b.type,b.url,b.async,b.username,b.password):j.open(b.type,b.url,b.async);if(b.xhrFields)for(g in b.xhrFields)j[g]=b.xhrFields[g];b.mimeType&&j.overrideMimeType&&j.overrideMimeType(b.mimeType);!b.crossDomain&&!f["X-Requested-With"]&&(f["X-Requested-With"]=
"XMLHttpRequest");try{for(g in f)j.setRequestHeader(g,f[g])}catch(n){}j.send(b.hasContent&&b.data||null);k=function(a,f){var g,n,w,r;try{if(k&&(f||4===j.readyState))if(k=c,h&&(j.onreadystatechange=l.noop,cc&&delete jb[h]),f)4!==j.readyState&&j.abort();else{r={};g=j.status;n=j.getAllResponseHeaders();"string"===typeof j.responseText&&(r.text=j.responseText);try{w=j.statusText}catch(E){w=""}!g&&b.isLocal&&!b.crossDomain?g=r.text?200:404:1223===g&&(g=204)}}catch(F){f||d(-1,F)}r&&d(g,w,r,n)};b.async?
4===j.readyState?setTimeout(k):(h=++Hd,cc&&(jb||(jb={},l(a).unload(cc)),jb[h]=k),j.onreadystatechange=k):k()},abort:function(){k&&k(c,!0)}}}});var db,Gb,Id=/^(?:toggle|show|hide)$/,Lc=RegExp("^(?:([+-])=|)("+ma+")([a-z%]*)$","i"),Jd=/queueHooks$/,rb=[function(a,b,c){var k,f,d,h,g,j=this,n={},w=a.style,r=a.nodeType&&y(a),E=l._data(a,"fxshow");c.queue||(h=l._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,g=h.empty.fire,h.empty.fire=function(){h.unqueued||g()}),h.unqueued++,j.always(function(){j.always(function(){h.unqueued--;
l.queue(a,"fx").length||h.empty.fire()})}));if(1===a.nodeType&&("height"in b||"width"in b))c.overflow=[w.overflow,w.overflowX,w.overflowY],"inline"===l.css(a,"display")&&"none"===l.css(a,"float")&&(!l.support.inlineBlockNeedsLayout||"inline"===H(a.nodeName)?w.display="inline-block":w.zoom=1);c.overflow&&(w.overflow="hidden",l.support.shrinkWrapBlocks||j.always(function(){w.overflow=c.overflow[0];w.overflowX=c.overflow[1];w.overflowY=c.overflow[2]}));for(k in b)if(f=b[k],Id.exec(f)&&(delete b[k],d=
d||"toggle"===f,f!==(r?"hide":"show")))n[k]=E&&E[k]||l.style(a,k);if(!l.isEmptyObject(n))for(k in E?"hidden"in E&&(r=E.hidden):E=l._data(a,"fxshow",{}),d&&(E.hidden=!r),r?l(a).show():j.done(function(){l(a).hide()}),j.done(function(){var b;l._removeData(a,"fxshow");for(b in n)l.style(a,b,n[b])}),n)b=U(r?E[k]:0,k,j),k in E||(E[k]=b.start,r&&(b.end=b.start,b.start="width"===k||"height"===k?1:0))}],lb={"*":[function(a,b){var c=this.createTween(a,b),k=c.cur(),f=Lc.exec(b),d=f&&f[3]||(l.cssNumber[a]?"":
"px"),h=(l.cssNumber[a]||"px"!==d&&+k)&&Lc.exec(l.css(c.elem,a)),g=1,j=20;if(h&&h[3]!==d){d=d||h[3];f=f||[];h=+k||1;do g=g||".5",h/=g,l.style(c.elem,a,h+d);while(g!==(g=c.cur()/k)&&1!==g&&--j)}f&&(h=c.start=+h||+k||0,c.unit=d,c.end=f[1]?h+(f[1]+1)*f[2]:+f[2]);return c}]};l.Animation=l.extend(V,{tweener:function(a,b){l.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,k=0,f=a.length;k<f;k++)c=a[k],lb[c]=lb[c]||[],lb[c].unshift(b)},prefilter:function(a,b){b?rb.unshift(a):rb.push(a)}});l.Tween=M;
M.prototype={constructor:M,init:function(a,b,c,k,f,d){this.elem=a;this.prop=c;this.easing=f||"swing";this.options=b;this.start=this.now=this.cur();this.end=k;this.unit=d||(l.cssNumber[c]?"":"px")},cur:function(){var a=M.propHooks[this.prop];return a&&a.get?a.get(this):M.propHooks._default.get(this)},run:function(a){var b,c=M.propHooks[this.prop];this.pos=this.options.duration?b=l.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*b+this.start;
this.options.step&&this.options.step.call(this.elem,this.now,this);c&&c.set?c.set(this):M.propHooks._default.set(this);return this}};M.prototype.init.prototype=M.prototype;M.propHooks={_default:{get:function(a){if(null!=a.elem[a.prop]&&(!a.elem.style||null==a.elem.style[a.prop]))return a.elem[a.prop];a=l.css(a.elem,a.prop,"");return!a||"auto"===a?0:a},set:function(a){if(l.fx.step[a.prop])l.fx.step[a.prop](a);else a.elem.style&&(null!=a.elem.style[l.cssProps[a.prop]]||l.cssHooks[a.prop])?l.style(a.elem,
a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};l.each(["toggle","show","hide"],function(a,b){var c=l.fn[b];l.fn[b]=function(a,k,f){return null==a||"boolean"===typeof a?c.apply(this,arguments):this.animate(G(b,!0),a,k,f)}});l.fn.extend({fadeTo:function(a,b,c,k){return this.filter(y).css("opacity",0).show().end().animate({opacity:b},a,c,k)},animate:function(a,b,c,k){var f=l.isEmptyObject(a),
d=l.speed(b,c,k),b=function(){var b=V(this,l.extend({},a),d);(f||l._data(this,"finish"))&&b.stop(!0)};b.finish=b;return f||!1===d.queue?this.each(b):this.queue(d.queue,b)},stop:function(a,b,k){var f=function(a){var b=a.stop;delete a.stop;b(k)};"string"!==typeof a&&(k=b,b=a,a=c);b&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",d=l.timers,h=l._data(this);if(c)h[c]&&h[c].stop&&f(h[c]);else for(c in h)h[c]&&(h[c].stop&&Jd.test(c))&&f(h[c]);for(c=d.length;c--;)if(d[c].elem===
this&&(null==a||d[c].queue===a))d[c].anim.stop(k),b=!1,d.splice(c,1);(b||!k)&&l.dequeue(this,a)})},finish:function(a){!1!==a&&(a=a||"fx");return this.each(function(){var b,c=l._data(this),k=c[a+"queue"];b=c[a+"queueHooks"];var f=l.timers,d=k?k.length:0;c.finish=!0;l.queue(this,a,[]);b&&b.stop&&b.stop.call(this,!0);for(b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<d;b++)k[b]&&k[b].finish&&k[b].finish.call(this);delete c.finish})}});l.each({slideDown:G("show"),
slideUp:G("hide"),slideToggle:G("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){l.fn[a]=function(a,c,k){return this.animate(b,a,c,k)}});l.speed=function(a,b,c){var k=a&&"object"===typeof a?l.extend({},a):{complete:c||!c&&b||l.isFunction(a)&&a,duration:a,easing:c&&b||b&&!l.isFunction(b)&&b};k.duration=l.fx.off?0:"number"===typeof k.duration?k.duration:k.duration in l.fx.speeds?l.fx.speeds[k.duration]:l.fx.speeds._default;if(null==k.queue||!0===
k.queue)k.queue="fx";k.old=k.complete;k.complete=function(){l.isFunction(k.old)&&k.old.call(this);k.queue&&l.dequeue(this,k.queue)};return k};l.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}};l.timers=[];l.fx=M.prototype.init;l.fx.tick=function(){var a,b=l.timers,k=0;for(db=l.now();k<b.length;k++)a=b[k],!a()&&b[k]===a&&b.splice(k--,1);b.length||l.fx.stop();db=c};l.fx.timer=function(a){a()&&l.timers.push(a)&&l.fx.start()};l.fx.interval=13;l.fx.start=function(){Gb||
(Gb=setInterval(l.fx.tick,l.fx.interval))};l.fx.stop=function(){clearInterval(Gb);Gb=null};l.fx.speeds={slow:600,fast:200,_default:400};l.fx.step={};l.expr&&l.expr.filters&&(l.expr.filters.animated=function(a){return l.grep(l.timers,function(b){return a===b.elem}).length});l.fn.offset=function(a){if(arguments.length)return a===c?this:this.each(function(b){l.offset.setOffset(this,a,b)});var b,k,f={top:0,left:0},d=(k=this[0])&&k.ownerDocument;if(d){b=d.documentElement;if(!l.contains(b,k))return f;typeof k.getBoundingClientRect!==
ia&&(f=k.getBoundingClientRect());k=X(d);return{top:f.top+(k.pageYOffset||b.scrollTop)-(b.clientTop||0),left:f.left+(k.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}}};l.offset={setOffset:function(a,b,c){var k=l.css(a,"position");"static"===k&&(a.style.position="relative");var f=l(a),d=f.offset(),h=l.css(a,"top"),g=l.css(a,"left"),j={},n={};("absolute"===k||"fixed"===k)&&-1<l.inArray("auto",[h,g])?(n=f.position(),k=n.top,g=n.left):(k=parseFloat(h)||0,g=parseFloat(g)||0);l.isFunction(b)&&(b=b.call(a,
c,d));null!=b.top&&(j.top=b.top-d.top+k);null!=b.left&&(j.left=b.left-d.left+g);"using"in b?b.using.call(a,j):f.css(j)}};l.fn.extend({position:function(){if(this[0]){var a,b,c={top:0,left:0},k=this[0];"fixed"===l.css(k,"position")?b=k.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),l.nodeName(a[0],"html")||(c=a.offset()),c.top+=l.css(a[0],"borderTopWidth",!0),c.left+=l.css(a[0],"borderLeftWidth",!0));return{top:b.top-c.top-l.css(k,"marginTop",!0),left:b.left-c.left-l.css(k,"marginLeft",
!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Ha;a&&!l.nodeName(a,"html")&&"static"===l.css(a,"position");)a=a.offsetParent;return a||Ha})}});l.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var k=/Y/.test(b);l.fn[a]=function(f){return l.access(this,function(a,f,d){var h=X(a);if(d===c)return h?b in h?h[b]:h.document.documentElement[f]:a[f];h?h.scrollTo(!k?d:l(h).scrollLeft(),k?d:l(h).scrollTop()):a[f]=d},a,f,arguments.length,null)}});
l.each({Height:"height",Width:"width"},function(a,b){l.each({padding:"inner"+a,content:b,"":"outer"+a},function(k,f){l.fn[f]=function(f,d){var h=arguments.length&&(k||"boolean"!==typeof f),g=k||(!0===f||!0===d?"margin":"border");return l.access(this,function(b,k,f){return l.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(k=b.documentElement,Math.max(b.body["scroll"+a],k["scroll"+a],b.body["offset"+a],k["offset"+a],k["client"+a])):f===c?l.css(b,k,g):l.style(b,k,f,g)},b,h?f:c,h,null)}})});
l.fn.size=function(){return this.length};l.fn.andSelf=l.fn.addBack;"object"===typeof module&&module&&"object"===typeof module.exports?module.exports=l:(a.jQuery=a.$=l,"function"===typeof define&&define.amd&&define("jquery",[],function(){return l}))})(window);if("undefined"===typeof jQuery)throw Error("Bootstrap requires jQuery");
+function(a){a.fn.emulateTransitionEnd=function(c){var g=!1,b=this;a(this).one(a.support.transition.end,function(){g=!0});setTimeout(function(){g||a(b).trigger(a.support.transition.end)},c);return this};a(function(){var c=a.support,g;a:{g=document.createElement("bootstrap");var b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},f;for(f in b)if(void 0!==g.style[f]){g={end:b[f]};break a}g=void 0}c.transition=
g})}(jQuery);
+function(a){var c=function(b){a(b).on("click",'[data-dismiss="alert"]',this.close)};c.prototype.close=function(b){function c(){p.trigger("closed.bs.alert").remove()}var d=a(this),g=d.attr("data-target");g||(g=(g=d.attr("href"))&&g.replace(/.*(?=#[^\s]*$)/,""));var p=a(g);b&&b.preventDefault();p.length||(p=d.hasClass("alert")?d:d.parent());p.trigger(b=a.Event("close.bs.alert"));b.isDefaultPrevented()||(p.removeClass("in"),a.support.transition&&p.hasClass("fade")?p.one(a.support.transition.end,c).emulateTransitionEnd(150):
c())};var g=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var f=a(this),d=f.data("bs.alert");d||f.data("bs.alert",d=new c(this));"string"==typeof b&&d[b].call(f)})};a.fn.alert.Constructor=c;a.fn.alert.noConflict=function(){a.fn.alert=g;return this};a(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',c.prototype.close)}(jQuery);
+function(a){var c=function(b,f){this.$element=a(b);this.options=a.extend({},c.DEFAULTS,f)};c.DEFAULTS={loadingText:"loading..."};c.prototype.setState=function(a){var c=this.$element,d=c.is("input")?"val":"html",g=c.data(),a=a+"Text";g.resetText||c.data("resetText",c[d]());c[d](g[a]||this.options[a]);setTimeout(function(){"loadingText"==a?c.addClass("disabled").attr("disabled","disabled"):c.removeClass("disabled").removeAttr("disabled")},0)};c.prototype.toggle=function(){var a=this.$element.closest('[data-toggle="buttons"]'),
c=!0;if(a.length){var d=this.$element.find("input");"radio"===d.prop("type")&&(d.prop("checked")&&this.$element.hasClass("active")?c=!1:a.find(".active").removeClass("active"));c&&d.prop("checked",!this.$element.hasClass("active")).trigger("change")}c&&this.$element.toggleClass("active")};var g=a.fn.button;a.fn.button=function(b){return this.each(function(){var f=a(this),d=f.data("bs.button"),g="object"==typeof b&&b;d||f.data("bs.button",d=new c(this,g));"toggle"==b?d.toggle():b&&d.setState(b)})};
a.fn.button.Constructor=c;a.fn.button.noConflict=function(){a.fn.button=g;return this};a(document).on("click.bs.button.data-api","[data-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn"));c.button("toggle");b.preventDefault()})}(jQuery);
+function(a){var c=function(b,c){this.$element=a(b);this.$indicators=this.$element.find(".carousel-indicators");this.options=c;this.paused=this.sliding=this.interval=this.$active=this.$items=null;"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};c.DEFAULTS={interval:5E3,pause:"hover",wrap:!0};c.prototype.cycle=function(b){b||(this.paused=!1);this.interval&&clearInterval(this.interval);this.options.interval&&!this.paused&&
(this.interval=setInterval(a.proxy(this.next,this),this.options.interval));return this};c.prototype.getActiveIndex=function(){this.$active=this.$element.find(".item.active");this.$items=this.$active.parent().children();return this.$items.index(this.$active)};c.prototype.to=function(b){var c=this,d=this.getActiveIndex();if(!(b>this.$items.length-1||0>b))return this.sliding?this.$element.one("slid.bs.carousel",function(){c.to(b)}):d==b?this.pause().cycle():this.slide(b>d?"next":"prev",a(this.$items[b]))};
c.prototype.pause=function(b){b||(this.paused=!0);this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle(!0));this.interval=clearInterval(this.interval);return this};c.prototype.next=function(){if(!this.sliding)return this.slide("next")};c.prototype.prev=function(){if(!this.sliding)return this.slide("prev")};c.prototype.slide=function(b,c){var d=this.$element.find(".item.active"),g=c||d[b](),p=this.interval,m="next"==b?"left":
"right",q="next"==b?"first":"last",t=this;if(!g.length){if(!this.options.wrap)return;g=this.$element.find(".item")[q]()}this.sliding=!0;p&&this.pause();q=a.Event("slide.bs.carousel",{relatedTarget:g[0],direction:m});if(!g.hasClass("active")){this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var b=a(t.$indicators.children()[t.getActiveIndex()]);b&&b.addClass("active")}));if(a.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(q);
if(q.isDefaultPrevented())return;g.addClass(b);g[0].offsetWidth;d.addClass(m);g.addClass(m);d.one(a.support.transition.end,function(){g.removeClass([b,m].join(" ")).addClass("active");d.removeClass(["active",m].join(" "));t.sliding=!1;setTimeout(function(){t.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(600)}else{this.$element.trigger(q);if(q.isDefaultPrevented())return;d.removeClass("active");g.addClass("active");this.sliding=!1;this.$element.trigger("slid.bs.carousel")}p&&this.cycle();
return this}};var g=a.fn.carousel;a.fn.carousel=function(b){return this.each(function(){var f=a(this),d=f.data("bs.carousel"),g=a.extend({},c.DEFAULTS,f.data(),"object"==typeof b&&b),p="string"==typeof b?b:g.slide;d||f.data("bs.carousel",d=new c(this,g));if("number"==typeof b)d.to(b);else if(p)d[p]();else g.interval&&d.pause().cycle()})};a.fn.carousel.Constructor=c;a.fn.carousel.noConflict=function(){a.fn.carousel=g;return this};a(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",
function(b){var c=a(this),d,g=a(c.attr("data-target")||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));d=a.extend({},g.data(),c.data());var p=c.attr("data-slide-to");p&&(d.interval=!1);g.carousel(d);(p=c.attr("data-slide-to"))&&g.data("bs.carousel").to(p);b.preventDefault()});a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var b=a(this);b.carousel(b.data())})})}(jQuery);
+function(a){var c=function(b,f){this.$element=a(b);this.options=a.extend({},c.DEFAULTS,f);this.transitioning=null;this.options.parent&&(this.$parent=a(this.options.parent));this.options.toggle&&this.toggle()};c.DEFAULTS={toggle:!0};c.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"};c.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b=a.Event("show.bs.collapse");this.$element.trigger(b);if(!b.isDefaultPrevented()){if((b=this.$parent&&
this.$parent.find("> .panel > .in"))&&b.length){var c=b.data("bs.collapse");if(c&&c.transitioning)return;b.collapse("hide");c||b.data("bs.collapse",null)}var d=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[d](0);this.transitioning=1;b=function(){this.$element.removeClass("collapsing").addClass("in")[d]("auto");this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return b.call(this);c=a.camelCase(["scroll",d].join("-"));this.$element.one(a.support.transition.end,
a.proxy(b,this)).emulateTransitionEnd(350)[d](this.$element[0][c])}}};c.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");this.$element.trigger(b);if(!b.isDefaultPrevented()){b=this.dimension();this.$element[b](this.$element[b]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse").removeClass("in");this.transitioning=1;var c=function(){this.transitioning=0;this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};
if(!a.support.transition)return c.call(this);this.$element[b](0).one(a.support.transition.end,a.proxy(c,this)).emulateTransitionEnd(350)}}};c.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var g=a.fn.collapse;a.fn.collapse=function(b){return this.each(function(){var f=a(this),d=f.data("bs.collapse"),g=a.extend({},c.DEFAULTS,f.data(),"object"==typeof b&&b);d||f.data("bs.collapse",d=new c(this,g));if("string"==typeof b)d[b]()})};a.fn.collapse.Constructor=c;a.fn.collapse.noConflict=
function(){a.fn.collapse=g;return this};a(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(b){var c=a(this),d,b=c.attr("data-target")||b.preventDefault()||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"");d=a(b);var g=(b=d.data("bs.collapse"))?"toggle":c.data(),p=c.attr("data-parent"),m=p&&a(p);if(!b||!b.transitioning)m&&m.find('[data-toggle=collapse][data-parent="'+p+'"]').not(c).addClass("collapsed"),c[d.hasClass("in")?"addClass":"removeClass"]("collapsed");d.collapse(g)})}(jQuery);
+function(a){function c(){a(b).remove();a(f).each(function(b){var c=g(a(this));c.hasClass("open")&&(c.trigger(b=a.Event("hide.bs.dropdown")),b.isDefaultPrevented()||c.removeClass("open").trigger("hidden.bs.dropdown"))})}function g(b){var c=b.attr("data-target");c||(c=(c=b.attr("href"))&&/#/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));return(c=c&&a(c))&&c.length?c:b.parent()}var b=".dropdown-backdrop",f="[data-toggle=dropdown]",d=function(b){a(b).on("click.bs.dropdown",this.toggle)};d.prototype.toggle=
function(b){var f=a(this);if(!f.is(".disabled, :disabled")){var d=g(f),b=d.hasClass("open");c();if(!b){if("ontouchstart"in document.documentElement&&!d.closest(".navbar-nav").length)a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",c);d.trigger(b=a.Event("show.bs.dropdown"));if(b.isDefaultPrevented())return;d.toggleClass("open").trigger("shown.bs.dropdown");f.focus()}return!1}};d.prototype.keydown=function(b){if(/(38|40|27)/.test(b.keyCode)){var c=a(this);b.preventDefault();b.stopPropagation();
if(!c.is(".disabled, :disabled")){var d=g(c),j=d.hasClass("open");if(!j||j&&27==b.keyCode)return 27==b.which&&d.find(f).focus(),c.click();c=a("[role=menu] li:not(.divider):visible a",d);c.length&&(d=c.index(c.filter(":focus")),38==b.keyCode&&0<d&&d--,40==b.keyCode&&d<c.length-1&&d++,~d||(d=0),c.eq(d).focus())}}};var j=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),f=c.data("bs.dropdown");f||c.data("bs.dropdown",f=new d(this));"string"==typeof b&&f[b].call(c)})};
a.fn.dropdown.Constructor=d;a.fn.dropdown.noConflict=function(){a.fn.dropdown=j;return this};a(document).on("click.bs.dropdown.data-api",c).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,d.prototype.toggle).on("keydown.bs.dropdown.data-api",f+", [role=menu]",d.prototype.keydown)}(jQuery);
+function(a){var c=function(b,c){this.options=c;this.$element=a(b);this.$backdrop=this.isShown=null;this.options.remote&&this.$element.load(this.options.remote)};c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};c.prototype.toggle=function(a){return this[!this.isShown?"show":"hide"](a)};c.prototype.show=function(b){var c=this,d=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(d);!this.isShown&&!d.isDefaultPrevented()&&(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",
'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var d=a.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(document.body);c.$element.show();d&&c.$element[0].offsetWidth;c.$element.addClass("in").attr("aria-hidden",!1);c.enforceFocus();var g=a.Event("shown.bs.modal",{relatedTarget:b});d?c.$element.find(".modal-dialog").one(a.support.transition.end,function(){c.$element.focus().trigger(g)}).emulateTransitionEnd(300):c.$element.focus().trigger(g)}))};
c.prototype.hide=function(b){b&&b.preventDefault();b=a.Event("hide.bs.modal");this.$element.trigger(b);this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one(a.support.transition.end,a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())};c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",
a.proxy(function(a){this.$element[0]!==a.target&&!this.$element.has(a.target).length&&this.$element.focus()},this))};c.prototype.escape=function(){if(this.isShown&&this.options.keyboard)this.$element.on("keyup.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this));else this.isShown||this.$element.off("keyup.dismiss.bs.modal")};c.prototype.hideModal=function(){var a=this;this.$element.hide();this.backdrop(function(){a.removeBackdrop();a.$element.trigger("hidden.bs.modal")})};c.prototype.removeBackdrop=
function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};c.prototype.backdrop=function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body);this.$element.on("click.dismiss.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this));d&&
this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");b&&(d?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b())}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()):b&&b()};var g=a.fn.modal;a.fn.modal=function(b,f){return this.each(function(){var d=a(this),g=d.data("bs.modal"),p=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&
b);g||d.data("bs.modal",g=new c(this,p));if("string"==typeof b)g[b](f);else p.show&&g.show(f)})};a.fn.modal.Constructor=c;a.fn.modal.noConflict=function(){a.fn.modal=g;return this};a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),g=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),d=g.data("modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},g.data(),c.data());b.preventDefault();g.modal(d,this).one("hide",function(){c.is(":visible")&&
c.focus()})});a(document).on("show.bs.modal",".modal",function(){a(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){a(document.body).removeClass("modal-open")})}(jQuery);
+function(a){var c=function(a,c){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",a,c)};c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1};c.prototype.init=function(b,c,d){this.enabled=!0;this.type=b;this.$element=a(c);this.options=this.getOptions(d);b=this.options.trigger.split(" ");
for(c=b.length;c--;)if(d=b[c],"click"==d)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=d){var g="hover"==d?"mouseleave":"blur";this.$element.on(("hover"==d?"mouseenter":"focus")+"."+this.type,this.options.selector,a.proxy(this.enter,this));this.$element.on(g+"."+this.type,this.options.selector,a.proxy(this.leave,this))}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};c.prototype.getDefaults=
function(){return c.DEFAULTS};c.prototype.getOptions=function(b){b=a.extend({},this.getDefaults(),this.$element.data(),b);b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay});return b};c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();this._options&&a.each(this._options,function(a,g){c[a]!=g&&(b[a]=g)});return b};c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);
clearTimeout(c.timeout);c.hoverState="in";if(!c.options.delay||!c.options.delay.show)return c.show();c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)};c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(c.timeout);c.hoverState="out";if(!c.options.delay||!c.options.delay.hide)return c.hide();c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)};
c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled&&(this.$element.trigger(b),!b.isDefaultPrevented())){var c=this.tip();this.setContent();this.options.animation&&c.addClass("fade");var b="function"==typeof this.options.placement?this.options.placement.call(this,c[0],this.$element[0]):this.options.placement,d=/\s?auto?\s?/i,g=d.test(b);g&&(b=b.replace(d,"")||"top");c.detach().css({top:0,left:0,display:"block"}).addClass(b);this.options.container?c.appendTo(this.options.container):
c.insertAfter(this.$element);var d=this.getPosition(),p=c[0].offsetWidth,m=c[0].offsetHeight;if(g){var q=this.$element.parent(),g=b,t=document.documentElement.scrollTop||document.body.scrollTop,n="body"==this.options.container?window.innerWidth:q.outerWidth(),h="body"==this.options.container?window.innerHeight:q.outerHeight(),q="body"==this.options.container?0:q.offset().left,b="bottom"==b&&d.top+d.height+m-t>h?"top":"top"==b&&0>d.top-t-m?"bottom":"right"==b&&d.right+p>n?"left":"left"==b&&d.left-
p<q?"right":b;c.removeClass(g).addClass(b)}c=this.getCalculatedOffset(b,d,p,m);this.applyPlacement(c,b);this.$element.trigger("shown.bs."+this.type)}};c.prototype.applyPlacement=function(a,c){var d,g=this.tip(),p=g[0].offsetWidth,m=g[0].offsetHeight,q=parseInt(g.css("margin-top"),10),t=parseInt(g.css("margin-left"),10);isNaN(q)&&(q=0);isNaN(t)&&(t=0);a.top+=q;a.left+=t;g.offset(a).addClass("in");q=g[0].offsetWidth;t=g[0].offsetHeight;"top"==c&&t!=m&&(d=!0,a.top=a.top+m-t);/bottom|top/.test(c)?(m=
0,0>a.left&&(m=-2*a.left,a.left=0,g.offset(a),q=g[0].offsetWidth),this.replaceArrow(m-p+q,q,"left")):this.replaceArrow(t-m,t,"top");d&&g.offset(a)};c.prototype.replaceArrow=function(a,c,d){this.arrow().css(d,a?50*(1-a/c)+"%":"")};c.prototype.setContent=function(){var a=this.tip(),c=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](c);a.removeClass("fade in top bottom left right")};c.prototype.hide=function(){function b(){"in"!=c.hoverState&&d.detach()}var c=this,d=this.tip(),
g=a.Event("hide.bs."+this.type);this.$element.trigger(g);if(!g.isDefaultPrevented())return d.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d.one(a.support.transition.end,b).emulateTransitionEnd(150):b(),this.$element.trigger("hidden.bs."+this.type),this};c.prototype.fixTitle=function(){var a=this.$element;if(a.attr("title")||"string"!=typeof a.attr("data-original-title"))a.attr("data-original-title",a.attr("title")||"").attr("title","")};c.prototype.hasContent=function(){return this.getTitle()};
c.prototype.getPosition=function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())};c.prototype.getCalculatedOffset=function(a,c,d,g){return"bottom"==a?{top:c.top+c.height,left:c.left+c.width/2-d/2}:"top"==a?{top:c.top-g,left:c.left+c.width/2-d/2}:"left"==a?{top:c.top+c.height/2-g/2,left:c.left-d}:{top:c.top+c.height/2-g/2,left:c.left+c.width}};c.prototype.getTitle=function(){var a=
this.$element,c=this.options;return a.attr("data-original-title")||("function"==typeof c.title?c.title.call(a[0]):c.title)};c.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)};c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};c.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.options=this.$element=null)};c.prototype.enable=function(){this.enabled=!0};c.prototype.disable=function(){this.enabled=!1};
c.prototype.toggleEnabled=function(){this.enabled=!this.enabled};c.prototype.toggle=function(b){b=b?a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;b.tip().hasClass("in")?b.leave(b):b.enter(b)};c.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var g=a.fn.tooltip;a.fn.tooltip=function(b){return this.each(function(){var f=a(this),d=f.data("bs.tooltip"),g="object"==typeof b&&b;d||f.data("bs.tooltip",d=new c(this,g));
if("string"==typeof b)d[b]()})};a.fn.tooltip.Constructor=c;a.fn.tooltip.noConflict=function(){a.fn.tooltip=g;return this}}(jQuery);
+function(a){var c=function(a,c){this.init("popover",a,c)};if(!a.fn.tooltip)throw Error("Popover requires tooltip.js");c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype);c.prototype.constructor=c;c.prototype.getDefaults=function(){return c.DEFAULTS};c.prototype.setContent=
function(){var a=this.tip(),c=this.getTitle(),d=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](c);a.find(".popover-content")[this.options.html?"html":"text"](d);a.removeClass("fade top bottom left right in");a.find(".popover-title").html()||a.find(".popover-title").hide()};c.prototype.hasContent=function(){return this.getTitle()||this.getContent()};c.prototype.getContent=function(){var a=this.$element,c=this.options;return a.attr("data-content")||("function"==typeof c.content?
c.content.call(a[0]):c.content)};c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};c.prototype.tip=function(){this.$tip||(this.$tip=a(this.options.template));return this.$tip};var g=a.fn.popover;a.fn.popover=function(b){return this.each(function(){var f=a(this),d=f.data("bs.popover"),g="object"==typeof b&&b;d||f.data("bs.popover",d=new c(this,g));if("string"==typeof b)d[b]()})};a.fn.popover.Constructor=c;a.fn.popover.noConflict=function(){a.fn.popover=g;return this}}(jQuery);
+function(a){function c(b,f){var d,g=a.proxy(this.process,this);this.$element=a(b).is("body")?a(window):a(b);this.$body=a("body");this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",g);this.options=a.extend({},c.DEFAULTS,f);this.selector=(this.options.target||(d=a(b).attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a";this.offsets=a([]);this.targets=a([]);this.activeTarget=null;this.refresh();this.process()}c.DEFAULTS={offset:10};c.prototype.refresh=function(){var b=
this.$element[0]==window?"offset":"position";this.offsets=a([]);this.targets=a([]);var c=this;this.$body.find(this.selector).map(function(){var d=a(this),d=d.data("target")||d.attr("href"),g=/^#\w/.test(d)&&a(d);return g&&g.length&&[[g[b]().top+(!a.isWindow(c.$scrollElement.get(0))&&c.$scrollElement.scrollTop()),d]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){c.offsets.push(this[0]);c.targets.push(this[1])})};c.prototype.process=function(){var a=this.$scrollElement.scrollTop()+this.options.offset,
c=(this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight)-this.$scrollElement.height(),d=this.offsets,g=this.targets,p=this.activeTarget,m;if(a>=c)return p!=(m=g.last()[0])&&this.activate(m);for(m=d.length;m--;)p!=g[m]&&a>=d[m]&&(!d[m+1]||a<=d[m+1])&&this.activate(g[m])};c.prototype.activate=function(b){this.activeTarget=b;a(this.selector).parents(".active").removeClass("active");b=a(this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]').parents("li").addClass("active");
b.parent(".dropdown-menu").length&&(b=b.closest("li.dropdown").addClass("active"));b.trigger("activate.bs.scrollspy")};var g=a.fn.scrollspy;a.fn.scrollspy=function(b){return this.each(function(){var f=a(this),d=f.data("bs.scrollspy"),g="object"==typeof b&&b;d||f.data("bs.scrollspy",d=new c(this,g));if("string"==typeof b)d[b]()})};a.fn.scrollspy.Constructor=c;a.fn.scrollspy.noConflict=function(){a.fn.scrollspy=g;return this};a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=
a(this);b.scrollspy(b.data())})})}(jQuery);
+function(a){var c=function(b){this.element=a(b)};c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");d||(d=(d=b.attr("href"))&&d.replace(/.*(?=#[^\s]*$)/,""));if(!b.parent("li").hasClass("active")){var g=c.find(".active:last a")[0],p=a.Event("show.bs.tab",{relatedTarget:g});b.trigger(p);p.isDefaultPrevented()||(d=a(d),this.activate(b.parent("li"),c),this.activate(d,d.parent(),function(){b.trigger({type:"shown.bs.tab",relatedTarget:g})}))}};c.prototype.activate=
function(b,c,d){function g(){p.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");b.addClass("active");m?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade");b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active");d&&d()}var p=c.find("> .active"),m=d&&a.support.transition&&p.hasClass("fade");m?p.one(a.support.transition.end,g).emulateTransitionEnd(150):g();p.removeClass("in")};var g=a.fn.tab;a.fn.tab=function(b){return this.each(function(){var f=a(this),
d=f.data("bs.tab");d||f.data("bs.tab",d=new c(this));if("string"==typeof b)d[b]()})};a.fn.tab.Constructor=c;a.fn.tab.noConflict=function(){a.fn.tab=g;return this};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault();a(this).tab("show")})}(jQuery);
+function(a){var c=function(b,f){this.options=a.extend({},c.DEFAULTS,f);this.$window=a(window).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this));this.$element=a(b);this.affixed=this.unpin=null;this.checkPosition()};c.RESET="affix affix-top affix-bottom";c.DEFAULTS={offset:0};c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)};c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=
a(document).height(),f=this.$window.scrollTop(),d=this.$element.offset(),g=this.options.offset,p=g.top,m=g.bottom;"object"!=typeof g&&(m=p=g);"function"==typeof p&&(p=g.top());"function"==typeof m&&(m=g.bottom());b=null!=this.unpin&&f+this.unpin<=d.top?!1:null!=m&&d.top+this.$element.height()>=b-m?"bottom":null!=p&&f<=p?"top":!1;this.affixed!==b&&(this.unpin&&this.$element.css("top",""),this.affixed=b,this.unpin="bottom"==b?d.top-f:null,this.$element.removeClass(c.RESET).addClass("affix"+(b?"-"+b:
"")),"bottom"==b&&this.$element.offset({top:document.body.offsetHeight-m-this.$element.height()}))}};var g=a.fn.affix;a.fn.affix=function(b){return this.each(function(){var f=a(this),d=f.data("bs.affix"),g="object"==typeof b&&b;d||f.data("bs.affix",d=new c(this,g));if("string"==typeof b)d[b]()})};a.fn.affix.Constructor=c;a.fn.affix.noConflict=function(){a.fn.affix=g;return this};a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{};c.offsetBottom&&
(c.offset.bottom=c.offsetBottom);c.offsetTop&&(c.offset.top=c.offsetTop);b.affix(c)})})}(jQuery);(function(a){a.fn.menuAim=function(c){this.each(function(){var g=a(this),b=null,f=[],d=null,j=null,p=a.extend({rowSelector:"> li",submenuSelector:"*",submenuDirection:"right",tolerance:75,enter:a.noop,exit:a.noop,activate:a.noop,deactivate:a.noop,exitMenu:a.noop},c),m=function(a){a!=b&&(b&&p.deactivate(b),p.activate(a),b=a)},q=function(a){var b=t();b?j=setTimeout(function(){q(a)},b):m(a)},t=function(){function c(a,b){return(b.y-a.y)/(b.x-a.x)}if(!b||!a(b).is(p.submenuSelector))return 0;var h=g.offset(),
j={x:h.left,y:h.top-p.tolerance},m={x:h.left+g.outerWidth(),y:j.y},D={x:h.left,y:h.top+g.outerHeight()+p.tolerance},q={x:h.left+g.outerWidth(),y:D.y},u=f[f.length-1],A=f[0];if(!u)return 0;A||(A=u);if(A.x<h.left||(A.x>q.x||A.y<h.top||A.y>q.y)||d&&u.x==d.x&&u.y==d.y)return 0;var B=m,h=q;"left"==p.submenuDirection?(B=D,h=j):"below"==p.submenuDirection?(B=q,h=D):"above"==p.submenuDirection&&(B=j,h=m);j=c(u,B);m=c(u,h);B=c(A,B);A=c(A,h);if(j<B&&m>A)return d=u,300;d=null;return 0};g.mouseleave(function(){j&&
clearTimeout(j);p.exitMenu(this)&&(b&&p.deactivate(b),b=null)}).find(p.rowSelector).mouseenter(function(){j&&clearTimeout(j);p.enter(this);q(this)}).mouseleave(function(){p.exit(this)}).click(function(){m(this)});a(document).mousemove(function(a){f.push({x:a.pageX,y:a.pageY});3<f.length&&f.shift()})});return this}})(jQuery);var MobileEsp={initCompleted:!1,isWebkit:!1,isMobilePhone:!1,isIphone:!1,isAndroid:!1,isAndroidPhone:!1,isTierTablet:!1,isTierIphone:!1,isTierRichCss:!1,isTierGenericMobile:!1,engineWebKit:"webkit",deviceIphone:"iphone",deviceIpod:"ipod",deviceIpad:"ipad",deviceMacPpc:"macintosh",deviceAndroid:"android",deviceGoogleTV:"googletv",deviceHtcFlyer:"htc_flyer",deviceWinPhone7:"windows phone os 7",deviceWinPhone8:"windows phone 8",deviceWinMob:"windows ce",deviceWindows:"windows",deviceIeMob:"iemobile",
devicePpc:"ppc",enginePie:"wm5 pie",deviceBB:"blackberry",deviceBB10:"bb10",vndRIM:"vnd.rim",deviceBBStorm:"blackberry95",deviceBBBold:"blackberry97",deviceBBBoldTouch:"blackberry 99",deviceBBTour:"blackberry96",deviceBBCurve:"blackberry89",deviceBBCurveTouch:"blackberry 938",deviceBBTorch:"blackberry 98",deviceBBPlaybook:"playbook",deviceSymbian:"symbian",deviceSymbos:"symbos",deviceS60:"series60",deviceS70:"series70",deviceS80:"series80",deviceS90:"series90",devicePalm:"palm",deviceWebOS:"webos",
deviceWebOShp:"hpwos",engineBlazer:"blazer",engineXiino:"xiino",deviceNuvifone:"nuvifone",deviceBada:"bada",deviceTizen:"tizen",deviceMeego:"meego",deviceKindle:"kindle",engineSilk:"silk-accelerated",vndwap:"vnd.wap",wml:"wml",deviceTablet:"tablet",deviceBrew:"brew",deviceDanger:"danger",deviceHiptop:"hiptop",devicePlaystation:"playstation",devicePlaystationVita:"vita",deviceNintendoDs:"nitro",deviceNintendo:"nintendo",deviceWii:"wii",deviceXbox:"xbox",deviceArchos:"archos",engineOpera:"opera",engineNetfront:"netfront",
engineUpBrowser:"up.browser",engineOpenWeb:"openweb",deviceMidp:"midp",uplink:"up.link",engineTelecaQ:"teleca q",engineObigo:"obigo",devicePda:"pda",mini:"mini",mobile:"mobile",mobi:"mobi",maemo:"maemo",linux:"linux",mylocom2:"sony/com",manuSonyEricsson:"sonyericsson",manuericsson:"ericsson",manuSamsung1:"sec-sgh",manuSony:"sony",manuHtc:"htc",svcDocomo:"docomo",svcKddi:"kddi",svcVodafone:"vodafone",disUpdate:"update",uagent:"",InitDeviceScan:function(){this.initCompleted=!1;navigator&&navigator.userAgent&&
(this.uagent=navigator.userAgent.toLowerCase());this.isWebkit=this.DetectWebkit();this.isIphone=this.DetectIphone();this.isAndroid=this.DetectAndroid();this.isAndroidPhone=this.DetectAndroidPhone();this.isTierIphone=this.DetectTierIphone();this.isTierTablet=this.DetectTierTablet();this.isMobilePhone=this.DetectMobileQuick();this.isTierRichCss=this.DetectTierRichCss();this.isTierGenericMobile=this.DetectTierOtherPhones();this.initCompleted=!0},DetectIphone:function(){return this.initCompleted||this.isIphone?
this.isIphone:-1<this.uagent.search(this.deviceIphone)?this.DetectIpad()||this.DetectIpod()?!1:!0:!1},DetectIpod:function(){return-1<this.uagent.search(this.deviceIpod)?!0:!1},DetectIphoneOrIpod:function(){return this.DetectIphone()||this.DetectIpod()?!0:!1},DetectIpad:function(){return-1<this.uagent.search(this.deviceIpad)&&this.DetectWebkit()?!0:!1},DetectIos:function(){return this.DetectIphoneOrIpod()||this.DetectIpad()?!0:!1},DetectAndroid:function(){return this.initCompleted||this.isAndroid?
this.isAndroid:-1<this.uagent.search(this.deviceAndroid)||this.DetectGoogleTV()?!0:-1<this.uagent.search(this.deviceHtcFlyer)?!0:!1},DetectAndroidPhone:function(){return this.initCompleted||this.isAndroidPhone?this.isAndroidPhone:this.DetectAndroid()&&-1<this.uagent.search(this.mobile)||this.DetectOperaAndroidPhone()?!0:-1<this.uagent.search(this.deviceHtcFlyer)?!0:!1},DetectAndroidTablet:function(){return!this.DetectAndroid()||this.DetectOperaMobile()||-1<this.uagent.search(this.deviceHtcFlyer)?
!1:-1<this.uagent.search(this.mobile)?!1:!0},DetectAndroidWebKit:function(){return this.DetectAndroid()&&this.DetectWebkit()?!0:!1},DetectGoogleTV:function(){return-1<this.uagent.search(this.deviceGoogleTV)?!0:!1},DetectWebkit:function(){return this.initCompleted||this.isWebkit?this.isWebkit:-1<this.uagent.search(this.engineWebKit)?!0:!1},DetectWindowsPhone:function(){return this.DetectWindowsPhone7()||this.DetectWindowsPhone8()?!0:!1},DetectWindowsPhone7:function(){return-1<this.uagent.search(this.deviceWinPhone7)?
!0:!1},DetectWindowsPhone8:function(){return-1<this.uagent.search(this.deviceWinPhone8)?!0:!1},DetectWindowsMobile:function(){return this.DetectWindowsPhone()?!1:-1<this.uagent.search(this.deviceWinMob)||(-1<this.uagent.search(this.deviceIeMob)||-1<this.uagent.search(this.enginePie))||-1<this.uagent.search(this.devicePpc)&&!(-1<this.uagent.search(this.deviceMacPpc))?!0:-1<this.uagent.search(this.manuHtc)&&-1<this.uagent.search(this.deviceWindows)?!0:!1},DetectBlackBerry:function(){return-1<this.uagent.search(this.deviceBB)||
-1<this.uagent.search(this.vndRIM)?!0:this.DetectBlackBerry10Phone()?!0:!1},DetectBlackBerry10Phone:function(){return-1<this.uagent.search(this.deviceBB10)&&-1<this.uagent.search(this.mobile)?!0:!1},DetectBlackBerryTablet:function(){return-1<this.uagent.search(this.deviceBBPlaybook)?!0:!1},DetectBlackBerryWebKit:function(){return this.DetectBlackBerry()&&-1<this.uagent.search(this.engineWebKit)?!0:!1},DetectBlackBerryTouch:function(){return this.DetectBlackBerry()&&(-1<this.uagent.search(this.deviceBBStorm)||
-1<this.uagent.search(this.deviceBBTorch)||-1<this.uagent.search(this.deviceBBBoldTouch)||-1<this.uagent.search(this.deviceBBCurveTouch))?!0:!1},DetectBlackBerryHigh:function(){return this.DetectBlackBerryWebKit()?!1:this.DetectBlackBerry()&&(this.DetectBlackBerryTouch()||-1<this.uagent.search(this.deviceBBBold)||-1<this.uagent.search(this.deviceBBTour)||-1<this.uagent.search(this.deviceBBCurve))?!0:!1},DetectBlackBerryLow:function(){return this.DetectBlackBerry()?this.DetectBlackBerryHigh()||this.DetectBlackBerryWebKit()?
!1:!0:!1},DetectS60OssBrowser:function(){return this.DetectWebkit()?-1<this.uagent.search(this.deviceS60)||-1<this.uagent.search(this.deviceSymbian)?!0:!1:!1},DetectSymbianOS:function(){return-1<this.uagent.search(this.deviceSymbian)||-1<this.uagent.search(this.deviceS60)||-1<this.uagent.search(this.deviceSymbos)&&this.DetectOperaMobile||-1<this.uagent.search(this.deviceS70)||-1<this.uagent.search(this.deviceS80)||-1<this.uagent.search(this.deviceS90)?!0:!1},DetectPalmOS:function(){return this.DetectPalmWebOS()?
!1:-1<this.uagent.search(this.devicePalm)||-1<this.uagent.search(this.engineBlazer)||-1<this.uagent.search(this.engineXiino)?!0:!1},DetectPalmWebOS:function(){return-1<this.uagent.search(this.deviceWebOS)?!0:!1},DetectWebOSTablet:function(){return-1<this.uagent.search(this.deviceWebOShp)&&-1<this.uagent.search(this.deviceTablet)?!0:!1},DetectOperaMobile:function(){return-1<this.uagent.search(this.engineOpera)&&(-1<this.uagent.search(this.mini)||-1<this.uagent.search(this.mobi))?!0:!1},DetectOperaAndroidPhone:function(){return-1<
this.uagent.search(this.engineOpera)&&-1<this.uagent.search(this.deviceAndroid)&&-1<this.uagent.search(this.mobi)?!0:!1},DetectOperaAndroidTablet:function(){return-1<this.uagent.search(this.engineOpera)&&-1<this.uagent.search(this.deviceAndroid)&&-1<this.uagent.search(this.deviceTablet)?!0:!1},DetectKindle:function(){return-1<this.uagent.search(this.deviceKindle)&&!this.DetectAndroid()?!0:!1},DetectAmazonSilk:function(){return-1<this.uagent.search(this.engineSilk)?!0:!1},DetectGarminNuvifone:function(){return-1<
this.uagent.search(this.deviceNuvifone)?!0:!1},DetectBada:function(){return-1<this.uagent.search(this.deviceBada)?!0:!1},DetectTizen:function(){return-1<this.uagent.search(this.deviceTizen)?!0:!1},DetectMeego:function(){return-1<this.uagent.search(this.deviceMeego)?!0:!1},DetectDangerHiptop:function(){return-1<this.uagent.search(this.deviceDanger)||-1<this.uagent.search(this.deviceHiptop)?!0:!1},DetectSonyMylo:function(){return-1<this.uagent.search(this.manuSony)&&(-1<this.uagent.search(this.qtembedded)||
-1<this.uagent.search(this.mylocom2))?!0:!1},DetectMaemoTablet:function(){return-1<this.uagent.search(this.maemo)?!0:-1<this.uagent.search(this.linux)&&-1<this.uagent.search(this.deviceTablet)&&!this.DetectWebOSTablet()&&!this.DetectAndroid()?!0:!1},DetectArchos:function(){return-1<this.uagent.search(this.deviceArchos)?!0:!1},DetectGameConsole:function(){return this.DetectSonyPlaystation()||this.DetectNintendo()||this.DetectXbox()?!0:!1},DetectSonyPlaystation:function(){return-1<this.uagent.search(this.devicePlaystation)?
!0:!1},DetectGamingHandheld:function(){return-1<this.uagent.search(this.devicePlaystation)&&-1<this.uagent.search(this.devicePlaystationVita)?!0:!1},DetectNintendo:function(){return-1<this.uagent.search(this.deviceNintendo)||-1<this.uagent.search(this.deviceWii)||-1<this.uagent.search(this.deviceNintendoDs)?!0:!1},DetectXbox:function(){return-1<this.uagent.search(this.deviceXbox)?!0:!1},DetectBrewDevice:function(){return-1<this.uagent.search(this.deviceBrew)?!0:!1},DetectSmartphone:function(){return this.DetectTierIphone()||
this.DetectS60OssBrowser()||this.DetectSymbianOS()||this.DetectWindowsMobile()||this.DetectBlackBerry()||this.DetectPalmOS()?!0:!1},DetectMobileQuick:function(){return this.DetectTierTablet()?!1:this.initCompleted||this.isMobilePhone?this.isMobilePhone:this.DetectSmartphone()||-1<this.uagent.search(this.mobile)||this.DetectKindle()||this.DetectAmazonSilk()||-1<this.uagent.search(this.deviceMidp)||this.DetectBrewDevice()||this.DetectOperaMobile()||this.DetectArchos()||-1<this.uagent.search(this.engineObigo)||
-1<this.uagent.search(this.engineNetfront)||-1<this.uagent.search(this.engineUpBrowser)||-1<this.uagent.search(this.engineOpenWeb)?!0:!1},DetectMobileLong:function(){return this.DetectMobileQuick()||this.DetectGameConsole()||(this.DetectDangerHiptop()||this.DetectMaemoTablet()||this.DetectSonyMylo()||this.DetectGarminNuvifone())||-1<this.uagent.search(this.devicePda)&&!(-1<this.uagent.search(this.disUpdate))||-1<this.uagent.search(this.manuSamsung1)||-1<this.uagent.search(this.manuSonyEricsson)||
-1<this.uagent.search(this.manuericsson)||-1<this.uagent.search(this.svcDocomo)||-1<this.uagent.search(this.svcKddi)||-1<this.uagent.search(this.svcVodafone)?!0:!1},DetectTierTablet:function(){return this.initCompleted||this.isTierTablet?this.isTierTablet:this.DetectIpad()||this.DetectAndroidTablet()||this.DetectBlackBerryTablet()||this.DetectWebOSTablet()?!0:!1},DetectTierIphone:function(){return this.initCompleted||this.isTierIphone?this.isTierIphone:this.DetectIphoneOrIpod()||this.DetectAndroidPhone()||
this.DetectWindowsPhone()||this.DetectBlackBerry10Phone()||this.DetectPalmWebOS()||this.DetectBada()||this.DetectTizen()||this.DetectGamingHandheld()?!0:this.DetectBlackBerryWebKit()&&this.DetectBlackBerryTouch()?!0:!1},DetectTierRichCss:function(){return this.initCompleted||this.isTierRichCss?this.isTierRichCss:this.DetectTierIphone()||(this.DetectKindle()||this.DetectTierTablet())||!this.DetectMobileQuick()?!1:this.DetectWebkit()?!0:this.DetectS60OssBrowser()||this.DetectBlackBerryHigh()||this.DetectWindowsMobile()||
-1<this.uagent.search(this.engineTelecaQ)?!0:!1},DetectTierOtherPhones:function(){return this.initCompleted||this.isTierGenericMobile?this.isTierGenericMobile:this.DetectTierIphone()||this.DetectTierRichCss()||this.DetectTierTablet()?!1:this.DetectMobileLong()?!0:!1}};MobileEsp.InitDeviceScan();/*

 Regula: An annotation-based form-validation framework in Javascript
 Version 1.3.1-SNAPSHOT

 Written By Vivin Paliath (http://vivin.net)
 License: BSD License
 Copyright (C) 2010-2013

 Other licenses:

 DOMUtils#getElementsByAttribute
 Author: Robert Nyman
 Copyright Robert Nyman, http://www.robertnyman.com
 Free to use if this text is included
*/
(function(a,c){"function"===typeof define&&define.amd?define("utils/MapUtils",c):("undefined"===typeof a.regulaModules&&(a.regulaModules={}),a.regulaModules.MapUtils=c())})(this,function(){return{iterateOverMap:function(a,c){var g=0,b;for(b in a)a.hasOwnProperty(b)&&"__size__"!==b&&(c.call(a,b,a[b],g),g++)},exists:function(a,c){for(var g=!1,b=0;!g&&b<a.length;)g=c==a[b],b++;return g},put:function(a,c,g){a.__size__||(a.__size__=0);a[c]||a.__size__++;a[c]=g},isEmpty:function(a){for(var c in a)if(a.hasOwnProperty(c))return!1;
return!0}}});
(function(a,c){"function"===typeof define&&define.amd?define("utils/DOMUtils",c):("undefined"===typeof a.regulaModules&&(a.regulaModules={}),a.regulaModules.DOMUtils=c())})(this,function(){return{friendlyInputNames:{form:"The form",select:"The select box",textarea:"The text area",checkbox:"The checkbox",radio:"The radio button",text:"The text field",password:"The password",email:"The email",url:"The URL",number:"The number",datetime:"The datetime","datetime-local":"The local datetime",date:"The date",
month:"The month",time:"The time",week:"The week",range:"The range",tel:"The telephone number",color:"The color"},getElementsByAttribute:function(a,c,g,b){for(var a="*"==c&&a.all?a.all:a.getElementsByTagName(c),c=[],f="undefined"!==typeof b?RegExp("(^|\\s)"+b+"(\\s|$)"):null,d,j,p=0;p<a.length;p++)d=a[p],j=d.getAttribute&&d.getAttribute(g),"string"==typeof j&&0<j.length&&("undefined"===typeof b||f&&f.test(j))&&c.push(d);return c},getAttributeValueForElement:function(a,c){var g=a.getAttribute&&a.getAttribute(c)||
null;if(!g)for(var b=a.attributes,f=0;f<b.length;f++)b[f].nodeName===c&&(g=b[f].nodeValue);return g},generateRandomId:function(){return"regula-generated-"+Math.floor(1E6*Math.random())},supportsHTML5Validation:function(){return"function"===typeof document.createElement("input").checkValidity}}});
(function(a,c){"function"===typeof define&&define.amd?define("service/GroupService",c):("undefined"===typeof a.regulaModules&&(a.regulaModules={}),a.regulaModules.GroupService=c())})(this,function(){return{Group:{Default:0},ReverseGroup:{"0":"Default"},deletedGroupIndices:[],firstCustomGroupIndex:1}});
(function(a,c){"function"===typeof define&&define.amd?define("utils/ArrayUtils",c):("undefined"===typeof a.regulaModules&&(a.regulaModules={}),a.regulaModules.ArrayUtils=c())})(this,function(){return{explode:function(a,c){for(var g="",b=0;b<a.length;b++)g+=a[b]+c;return g.replace(RegExp(c+"$"),"")}}});
(function(a,c){"function"===typeof define&&define.amd?define("service/ExceptionService",["utils/ArrayUtils"],c):("undefined"===typeof a.regulaModules&&(a.regulaModules={}),a.regulaModules.ExceptionService=c(a.regulaModules.ArrayUtils))})(this,function(a){var c={IllegalArgumentException:function(a){this.name="IllegalArgumentException";this.message=a},ConstraintDefinitionException:function(a){this.name="ConstraintDefinitionException";this.message=a},BindException:function(a){this.name="BindException";
this.message=a},MissingFeatureException:function(a){this.name="MissingFeatureException";this.message=a}},g;for(g in c)if(c.hasOwnProperty(g)){var b=c[g];b.prototype=Error();b.prototype.constructor=b}return{Exception:c,generateExceptionMessage:function(a,b,c){var g="";null!=a?(g=a.id,g=""==b||null==b||void 0==b?g+": ":g+("."+b+": ")):""!=b&&(null!=b&&void 0!=b)&&(g="@"+b+": ");return g+c},explodeParameters:function(b){var c="Function received: {",g;for(g in b)b.hasOwnProperty(g)&&("string"==typeof b[g]?
c+=g+": "+b[g]+", ":b[g]instanceof Array&&(c+=g+": ["+a.explode(b[g],", ")+"], "));return c=c.replace(/, $/,"")+"}"}}});
(function(a,c){"function"===typeof define&&define.amd?define("service/ValidationService",["utils/DOMUtils","utils/MapUtils","service/GroupService","service/ExceptionService","utils/ArrayUtils"],c):("undefined"===typeof a.regulaModules&&(a.regulaModules={}),a.regulaModules.ValidationService=c(a.regulaModules.DOMUtils,a.regulaModules.MapUtils,a.regulaModules.GroupService,a.regulaModules.ExceptionService,a.regulaModules.ArrayUtils))})(this,function(a,c,g,b,f){function d(a,c){var d=c[a],f=a.replace(/(^[A-Z]+)/,
function(a){return a.toLowerCase()});U[f]=d.async?function(c,f,h){if("undefined"===typeof h)throw new b.Exception.IllegalArgumentException(a+" is an asynchronous constraint, but you have not provided a callback.");return d.validator.call(c,f,U,h)}:function(a,b){return d.validator.call(a,b,U)}}function j(a,b){var c=N.validateEmptyFields;"undefined"!==typeof b.ignoreEmpty&&(c=!b.ignoreEmpty);return!(V.blank.call(a)&&!c)}function p(a){var b={YMD:{Year:0,Month:1,Day:2},MDY:{Month:0,Day:1,Year:2},DMY:{Day:0,
Month:1,Year:2}}[a.format],c=a.separator;"undefined"===typeof a.separator&&(c=/\//.test(this.value)?"/":/\./.test(this.value)?".":/ /.test(this.value)?" ":/[^0-9]+/);var d=this.value.split(c),f=new Date(d[b.Year],d[b.Month]-1,d[b.Day]),d=new Date;"undefined"!==typeof a.date&&(d=a.date.split(c),d=new Date(d[b.Year],d[b.Month]-1,d[b.Day]));return{dateToValidate:f,dateToTestAgainst:d}}function m(){return!this.validity.typeMismatch}function q(a){var b={asyncContexts:[],syncContexts:[]},c;for(c in r)if(r.hasOwnProperty(c)){var d=
r[c],f;for(f in d)if(d.hasOwnProperty(f))if(document.getElementById(f)){var h=d[f],g;for(g in h)if(h.hasOwnProperty(g)){var j=v(c,f,g);j.async?b.asyncContexts.push(j):b.syncContexts.push(j)}}else delete d[f]}b=A(b);return J(b,a)}function t(a){var b={asyncContexts:[],syncContexts:[]},c;for(c in r)if(r.hasOwnProperty(c)){var d=r[c],f;for(f in d)if(d.hasOwnProperty(f)&&d[f][a.constraintType]){var h=v(c,f,a.constraintType);h.async?b.asyncContexts.push(h):b.syncContexts.push(h)}}b=A(b);return J(b,a)}function n(a){var c=
[],d={asyncContexts:[],syncContexts:[]},h;for(h in r)if(r.hasOwnProperty(h))for(var g=r[h],j=0;j<a.elementIds.length;j++){var n=a.elementIds[j],w=g[n];if("undefined"!==typeof w)for(var u in w){if(w.hasOwnProperty(u)){var k=v(h,n,u);k.async?d.asyncContexts.push(k):d.syncContexts.push(k)}}else c.push(n)}if(0<c.length)throw new b.Exception.IllegalArgumentException("No constraints have been bound to the specified elements: "+f.explode(c)+". "+b.explodeParameters(a));d=A(d);return J(d,a)}function h(a){var c=
[],d={asyncContexts:[],syncContexts:[]},h;for(h in r)if(r.hasOwnProperty(h))for(var g=r[h],j=0;j<a.elementIds.length;j++){var n=a.elementIds[j];"undefined"!==typeof g[n]?(n=v(h,n,a.constraintType),n.async?d.asyncContexts.push(n):d.syncContexts.push(n)):c.push(n)}if(0<c.length)throw new b.Exception.IllegalArgumentException("No constraints have been bound to the specified elements: "+f.explode(c)+". "+b.explodeParameters(a));d=A(d);return J(d,a)}function x(a){for(var c=!1,d={groupedContexts:{}},f=0;f<
a.groups.length;){var h=a.groups[f],g=r[h];if("undefined"!==typeof g)for(var j in g){if(g.hasOwnProperty(j)){var n=g[j],w;for(w in n)if(n.hasOwnProperty(w)){var k=v(h,j,w);d.groupedContexts[h]||(d.groupedContexts[h]={asyncContexts:[],syncContexts:[]});k.async?(c=!0,d.groupedContexts[h].asyncContexts.push(k)):d.groupedContexts[h].syncContexts.push(k)}}}else throw new b.Exception.IllegalArgumentException("Undefined group in group list. "+b.explodeParameters(a));f++}d=B(d);a.groups=d.groups;d=d.uniqueConstraintsToValidate;
return y(a,d,c)}function z(a){for(var c=!1,d={groupedContexts:{}},f=0;f<a.groups.length;){var h=a.groups[f],g=r[h];if("undefined"!==typeof g){var j=!1,n;for(n in g)if(g.hasOwnProperty(n)&&g[n][a.constraintType]){var j=!0,w=v(h,n,a.constraintType);d.groupedContexts[h]||(d.groupedContexts[h]={asyncContexts:[],syncContexts:[]});w.async?(c=!0,d.groupedContexts[h].asyncContexts.push(w)):d.groupedContexts[h].syncContexts.push(w)}if(!j)throw new b.Exception.IllegalArgumentException("Constraint "+a.constraintType+
" has not been bound to any element under group "+h+". "+b.explodeParameters(a));}else throw new b.Exception.IllegalArgumentException("Undefined group in group list. "+b.explodeParameters(a));f++}d=B(d);a.groups=d.groups;d=d.uniqueConstraintsToValidate;return y(a,d,c)}function D(a){for(var c=[],d=[],h=!1,g={groupedContexts:{}},j=0;j<a.groups.length;){var n=a.groups[j],w=r[n];if(w)for(var u=0;u<a.elementIds.length;u++){var k=a.elementIds[u],E=w[k];if(E)for(var m in E){if(E.hasOwnProperty(m)){var F=
v(n,k,m);g.groupedContexts[n]||(g.groupedContexts[n]={asyncContexts:[],syncContexts:[]});F.async?(h=!0,g.groupedContexts[n].asyncContexts.push(F)):g.groupedContexts[n].syncContexts.push(F)}}else c.push(n),d.push(k)}else throw new b.Exception.IllegalArgumentException("Undefined group in group list. "+b.explodeParameters(a));j++}if(0<c.length)throw new b.Exception.IllegalArgumentException("The following elements: "+f.explode(d)+" were not found in one or more of the following group(s): ["+f.explode(c,
",").replace(/,/g,", ")+"]. "+b.explodeParameters(a));c=B(g);a.groups=c.groups;g=c.uniqueConstraintsToValidate;return y(a,g,h)}function S(a){for(var b=!1,c={groupedContexts:{}},d=0;d<a.groups.length;){for(var f=a.groups[d],h=0;h<a.elementIds.length;h++){var g=v(f,a.elementIds[h],a.constraintType);c.groupedContexts[f]||(c.groupedContexts[f]={asyncContexts:[],syncContexts:[]});g.async?(b=!0,c.groupedContexts[f].asyncContexts.push(g)):c.groupedContexts[f].syncContexts.push(g)}d++}c=B(c);a.groups=c.groups;
c=c.uniqueConstraintsToValidate;return y(a,c,b)}function u(a){var b=!0;w[a.elementId]||(w[a.elementId]={});var c=document.getElementById(a.elementId),d=c.name.replace(/\s/g,"");"undefined"!==typeof c.type&&"radio"===c.type.toLowerCase()&&""!==d?C[d]||(C[d]={}):C[d]={};!w[a.elementId][a.elementConstraint]&&!C[d][a.elementConstraint]&&(b=!1,w[a.elementId][a.elementConstraint]=!0,"undefined"!==typeof c.type&&("radio"===c.type.toLowerCase()&&""!==d)&&(C[d][a.elementConstraint]=!0));return b}function A(a){for(var b=
{asyncContexts:[],syncContexts:[]},c=0;c<a.syncContexts.length;c++){var d=a.syncContexts[c];u(d)||b.syncContexts.push(d)}for(c=0;c<a.asyncContexts.length;c++)d=a.asyncContexts[c],u(d)||b.asyncContexts.push(d);return b}function B(a){var b=[],c={groupedContexts:{}},d;for(d in a.groupedContexts)if(a.groupedContexts.hasOwnProperty(d)){for(var f=0;f<a.groupedContexts[d].syncContexts.length;f++){var h=a.groupedContexts[d].syncContexts[f];u(h)||(c.groupedContexts[d]||(c.groupedContexts[d]={asyncContexts:[],
syncContexts:[]}),c.groupedContexts[d].syncContexts.push(h),-1==b.indexOf(d)&&b.push(d))}for(f=0;f<a.groupedContexts[d].asyncContexts.length;f++)h=a.groupedContexts[d].asyncContexts[f],u(h)||(c.groupedContexts[d]||(c.groupedContexts[d]={asyncContexts:[],syncContexts:[]}),c.groupedContexts[d].asyncContexts.push(h),-1==b.indexOf(d)&&b.push(d))}return{groups:b,uniqueConstraintsToValidate:c}}function J(a,c){var d=[];if(0<a.syncContexts.length){for(var f=[],h=0;h<a.syncContexts.length;){var g=a.syncContexts[h];
(g=K(g.group,g.elementId,g.elementConstraint,g.params))&&f.push(g);h++}d=f}if(0<a.asyncContexts.length){if(!c.callback)throw new b.Exception.IllegalArgumentException("One or more constraints to be validated are asynchronous, but a callback has not been provided.");for(var f=function(b){n++;b&&j.push(b);n===a.asyncContexts.length&&(b=j,d=0<d.length?d.concat(b):b,c.callback(d))},j=[],n=0,h=0;h<a.asyncContexts.length;h++)g=a.asyncContexts[h],I(g.group,g.elementId,g.elementConstraint,g.params,f)}return d}
function y(a,c,d){for(var f,h=a.groups,g=a.independent,j=[],n=0,w=!0;n<h.length&&w;){for(var w=c.groupedContexts[h[n]].syncContexts,k=0;k<w.length;k++){var r=w[k];(r=K(r.group,r.elementId,r.elementConstraint,r.params))&&j.push(r)}n++;w=0==j.length||g&&0!=j.length}f=j;if(d){if(!a.callback)throw new b.Exception.IllegalArgumentException("One or more constraints to be validated are asynchronous, but a callback has not been provided.");!a.independent&&0<f.length&&(d=f[0].group,h=c.groupedContexts[d],c.groupedContexts=
{},c.groupedContexts[d]=h);var u=a.groups,F=a.independent,m=[],C=!0;(function Ia(b){if(b<u.length&&C){for(var k=c.groupedContexts[u[b]].asyncContexts,d=0,h=0;h<k.length;h++){var g=k[h];I(g.group,g.elementId,g.elementConstraint,g.params,j)}var j=function(a){d++;a&&m.push(a);d===k.length&&(C=0===m.length||F&&0!=m.length,Ia(++b))}}else f=0<f.length?f.concat(m):m,a.callback(f)})(0)}return f}function v(a,c,d){var f=r[a];if(!f)throw new b.Exception.IllegalArgumentException("Undefined group in group list (group: "+
a+", elementId: "+c+", constraint: "+d+")");f=f[c];if(!f)throw new b.Exception.IllegalArgumentException("No constraints have been defined for the element with id: "+c+" in group "+a);f=f[d];if(!f)throw new b.Exception.IllegalArgumentException("Constraint "+d+" in group "+a+" hasn't been bound to the element with id "+c);return{group:a,elementId:c,elementConstraint:d,params:f,async:P[d].async}}function K(a,b,c,d){var f,h=Q(a,b,c,d),g="";h.constraintPassed||(g=O(b,c,d),f={group:a,constraintName:c,formSpecific:P[c].formSpecific,
custom:P[c].custom,compound:P[c].compound,async:P[c].async,composingConstraintViolations:h.composingConstraintViolations||[],constraintParameters:d,failingElements:h.failingElements,message:g});if(N.enableHTML5Validation)for(a=0;a<h.failingElements.length;a++)h.failingElements[a].setCustomValidity("");return f}function I(a,b,c,d,f){var h;H(a,b,c,d,function(g){var j="";g.constraintPassed||(j=O(b,c,d),h={group:a,constraintName:c,formSpecific:P[c].formSpecific,custom:P[c].custom,compound:P[c].compound,
async:P[c].async,composingConstraintViolations:g.composingConstraintViolations||[],constraintParameters:d,failingElements:g.failingElements,message:j});if(N.enableHTML5Validation)for(j=0;j<g.failingElements.length;j++)g.failingElements[j].setCustomValidity("");f(h)})}function Q(b,c,d,f){var h=!1,g=[],j=document.getElementById(c),c=[];P[d].formSpecific?(g=P[d].validator.call(j,f,U),h=0==g.length):(P[d].compound?(c=P[d].validator.call(j,f,b,P[d],null),h=0==c.length):h=P[d].validator.call(j,f,U),h||
g.push(j));b=j.name.replace(/\s/g,"");"undefined"!==typeof j.type&&("radio"===j.type.toLowerCase()&&""!==b)&&(g=a.getElementsByAttribute(document.body,"input","name",b.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")));h={constraintName:d,constraintPassed:h,failingElements:g};P[d].reportAsSingleViolation||(h.composingConstraintViolations=c);return h}function H(b,c,d,f,h){function g(b,c,k,f){var h=j.name.replace(/\s/g,"");"undefined"!==typeof j.type&&("radio"===j.type.toLowerCase()&&""!==h)&&
(k=a.getElementsByAttribute(document.body,"input","name",h));b={constraintName:d,constraintPassed:b,failingElements:k};P[d].reportAsSingleViolation||(b.composingConstraintViolations=c);f(b)}var j=document.getElementById(c);P[d].formSpecific?P[d].validator.call(j,f,U,function(a){g(0===a.length,null,a,h)}):P[d].compound?P[d].validator.call(j,f,b,P[d],function(a){var b=[],c=0===a.length;c||b.push(j);g(c,a,b,h)}):P[d].validator.call(j,f,U,function(a){var b=[];a||b.push(j);g(a,null,b,h)})}function O(b,
c,d){var b=document.getElementById(b),f="",f=d.message?d.message:d.msg?d.msg:P[c].defaultMessage,h;for(h in d)if(d.hasOwnProperty(h))var g=RegExp("{"+h+"}","g"),f=f.replace(g,d[h]);if(P[c].compound&&"undefined"!==typeof P[c].composingConstraints)for(d=0;d<P[c].composingConstraints.length;d++){var j=P[c].composingConstraints[d];for(h in j.params)j.params.hasOwnProperty(h)&&(g=RegExp("{"+h+"}","g"),f=f.replace(g,j.params[h]))}/{label}/.test(f)&&((c=a.friendlyInputNames[b.tagName.toLowerCase()])||(c=
a.friendlyInputNames[b.type.toLowerCase()]),f=f.replace(/{label}/,c),f=f.replace(/{flags}/g,""));return f=f.replace(/\\\"/g,'"')}var N={},L={},P={},r={},w={},C={},U={},V={checked:function(){var b=!1;if("radio"===this.type.toLowerCase()&&""!==this.name.replace(/\s/g,""))for(var c=a.getElementsByAttribute(document.body,"input","name",this.name.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")),d=0;d<c.length&&!b;)b=c[d].checked,d++;else b=this.checked;return b},selected:function(){return 0<this.selectedIndex},
max:function(a){var b=!0;j(this,a)&&(b=parseFloat(this.value)<=parseFloat(a.value));return b},min:function(a){var b=!0;j(this,a)&&(b=parseFloat(this.value)>=parseFloat(a.value));return b},range:function(a){var b=!0;j(this,a)&&(b=""!=this.value.replace(/\s/g,"")&&parseFloat(this.value)<=parseFloat(a.max)&&parseFloat(this.value)>=parseFloat(a.min));return b},notBlank:function(){return""!=this.value.replace(/\s/g,"")},blank:function(){return""===this.value.replace(/\s/g,"")},matches:function(a){var b=
!0;j(this,a)&&(b="string"===typeof a.regex?a.regex.replace(/^\//,"").replace(/\/$/,""):a.regex,b=("undefined"!==typeof a.flags?RegExp(b.toString().replace(/^\//,"").replace(/\/[^\/]*$/,""),a.flags):RegExp(b)).test(this.value));return b},email:function(a){var b=!0;j(this,a)&&(b=/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i.test(this.value));return b},alpha:function(a){var b=!0;j(this,a)&&(b=/^[A-Za-z]+$/.test(this.value));
return b},numeric:function(a){var b=!0;j(this,a)&&(b=/^[0-9]+$/.test(this.value));return b},integer:function(a){var b=!0;j(this,a)&&(b=/^-?[0-9]+$/.test(this.value));return b},real:function(a){var b=!0;j(this,a)&&(b=/^-?([0-9]+(\.[0-9]+)?|\.[0-9]+)$/.test(this.value));return b},alphaNumeric:function(a){var b=!0;j(this,a)&&(b=/^[0-9A-Za-z]+$/.test(this.value));return b},completelyFilled:function(){for(var a=[],b=0;b<this.elements.length;b++){var c=this.elements[b];V.required.call(c)||a.push(c)}return a},
passwordsMatch:function(a){var b=[],c=document.getElementById(a.field1),a=document.getElementById(a.field2);c.value!=a.value&&(b=[c,a]);return b},required:function(){var a=!0;if(this.tagName)if("select"===this.tagName.toLowerCase())a=V.selected.call(this);else if("checkbox"===this.type.toLowerCase()||"radio"===this.type.toLowerCase())a=V.checked.call(this);else if("input"===this.tagName.toLowerCase()||"textarea"===this.tagName.toLowerCase())"button"!=this.type.toLowerCase()&&(a=V.notBlank.call(this));
return a},length:function(a){var b=!0;j(this,a)&&(b=this.value.length>=a.min&&this.value.length<=a.max);return b},digits:function(a){var b=!0;if(j(this,a)){var c=this.value.replace(/\s/g,""),d=c.split(/\./),b=!1;0<c.length&&(1==d.length&&(d[1]=""),b=0<a.integer?d[0].length<=a.integer:!0,0<a.fraction&&(b=b&&d[1].length<=a.fraction))}return b},past:function(a){var b=!0;j(this,a)&&(a=p.call(this,a),b=a.dateToValidate<a.dateToTestAgainst);return b},future:function(a){var b=!0;j(this,a)&&(a=p.call(this,
a),b=a.dateToValidate>a.dateToTestAgainst);return b},url:function(a){var b=!0;j(this,a)&&(b=/^([a-z]([a-z]|\d|\+|-|\.)*):(\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?((\[(|(v[\da-f]{1,}\.(([a-z]|\d|-|\.|_|~)|[!\$&'\(\)\*\+,;=]|:)+))\])|((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=])*)(:\d*)?)(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*|(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)){0})(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(this.value));
return b},step:function(a){var b=!0;if(j(this,a))var b=parseFloat(this.value),c=parseFloat(a.max),d=parseFloat(a.min),a=parseFloat(a.value),b=b<=c&&b>=d&&0===b%a;return b},html5Required:function(){return!this.validity.valueMissing},html5Email:m,html5URL:m,html5Number:m,html5DateTime:m,html5DateTimeLocal:m,html5Date:m,html5Month:m,html5Time:m,html5Week:m,html5Range:m,html5Tel:m,html5Color:m,html5Pattern:function(){return!this.validity.patternMismatch},html5MaxLength:function(){return!this.validity.tooLong},
html5Min:function(){return!this.validity.rangeUnderflow},html5Max:function(){return!this.validity.rangeOverflow},html5Step:function(){return!this.validity.stepMismatch}};return{Validator:V,init:function(a){N=a.config;L=a.ReverseConstraint;P=a.constraintDefinitions;r=a.boundConstraints},wrapValidatorWithEmptyCheck:function(a){return function(b,c,d){var f=!0;j(this,b)&&(f=a.call(this,b,c,d));return f}},initializePublicValidators:function(a){for(var b in a)a.hasOwnProperty(b)&&d(b,a)},compoundValidator:function(a,
b,d,f){function h(b,k){var d={},f;for(f in b)b.hasOwnProperty(f)&&"__size__"!=f&&c.put(d,f,b[f]);if(0<k.length)for(f in a)a.hasOwnProperty(f)&&"__size__"!=f&&c.put(d,f,a[f]);return d}function g(a,b,c,k){var f=L[F.constraintType],b=O(b,f,k),c={group:c,constraintName:a.constraintName,custom:P[f].custom,compound:P[f].compound,async:P[f].async,constraintParameters:F.params,failingElements:a.failingElements,message:b};d.reportAsSingleViolation||(c.composingConstraintViolations=a.composingConstraintViolations||
[]);return c}for(var n=[],w=[],r=0;r<d.composingConstraints.length;r++){var k=d.composingConstraints[r];P[L[k.constraintType]].async?w.push(k):n.push(k)}var E=null,u=this;if(j(this,a)){if(0<n.length){E=[];for(r=0;r<n.length;r++){var F=n[r],k=L[F.constraintType],m=h(F.params,d.params),k=Q(b,u.id,k,m);if(!k.constraintPassed){var C=g(k,u.id,b,m);if(N.enableHTML5Validation)for(var p=0;p<k.failingElements.length;p++)k.failingElements[p].setCustomValidity(C.message);E.push(C)}}}if(0<w.length){null===E&&
(E=[]);for(var D=0,r=0;r<w.length;r++)F=w[r],k=L[F.constraintType],m=h(F.params,d.params),H(b,u.id,k,m,A);var A=function(a){if(!a.constraintPassed){var c=g(a,u.id,b,m);if(N.enableHTML5Validation)for(var k=0;k<a.failingElements.length;k++)a.failingElements[k].setCustomValidity(c.message);E.push(c)}D++;D===w.length&&f(E)}}}else E=[];return E},validate:function(a){w={};C={};var b={"000":q,"001":t,"010":n,"011":h,100:x,101:z,110:D,111:S};if(!a||"undefined"===typeof a)a={};"undefined"===typeof a.independent&&
(a.independent=!0);"undefined"!==typeof a.constraintType&&(a.constraintType=L[a.constraintType]);if("undefined"!==typeof a.groups){var c=a.groups;a.groups=[];for(var d=0;d<c.length;d++)a.groups.push(g.ReverseGroup[c[d]])}if("undefined"!==typeof a.elements){a.elementIds=[];for(d=0;d<a.elements.length;d++)a.elementIds.push(a.elements[d].id)}else"undefined"!==typeof a.elementId&&(a.elementIds=[a.elementId]);return b[function(a){var b=a.elementIds||null,c=("undefined"===typeof a.constraintType?null:a.constraintType)||
null,a=""+(null==(a.groups||null)?"0":"1");return a=a+(null==b?"0":"1")+(null==c?"0":"1")}(a)](a)},runValidatorFor:Q,interpolateConstraintDefaultMessage:O,createPublicValidator:d}});
(function(a,c){"function"===typeof define&&define.amd?define("domain/CompositionGraph",c):("undefined"===typeof a.regulaModules&&(a.regulaModules={}),a.regulaModules.CompositionGraph=c())})(this,function(){var a={},c={visited:!1,name:"RootNode",type:-1,parents:[],children:[]};return{ROOT:-1,addNode:function(g){var b=g.type,f=g.name,g=g.parent,f="undefined"===typeof a[b]?{visited:!1,name:f,type:b,parents:[],children:[]}:a[b];null==g?c.children.push(f):(g.children.push(f),f.parents.push(g));a[b]=f},
getNodeByType:function(c){c=a[c];return"undefined"===typeof c?null:c},analyze:function(a){a=function f(a,c){var g={cycle:!1,path:c};if(a.visited)g.cycle=!0;else{a.visited=!0;for(var m=0;m<a.children.length&&!g.cycle;)g=f(a.children[m],c+"."+a.children[m].name),m++}return g}(a,a.name);a.cycle||function d(a){a.visited=!1;for(var c=0;c<a.children.length;c++)d(a.children[c])}(c);return a},getRoot:function(){return c},setRoot:function(a){c=a},clone:function(){var a={},b=function d(b,c){var m="undefined"===
typeof a[b.type]?{visited:b.visited,name:b.name,type:b.type,parents:[],children:[]}:a[b.type];null!==c&&m.parents.push(c);for(var q=0;q<b.children.length;q++)m.children.push(d(b.children[q],m));return a[b.type]=m}(c,null);return{typeToNodeMap:a,root:b}},initializeFromClone:function(g){a=g.typeToNodeMap;c=g.root}}});
(function(a,c){"function"===typeof define&&define.amd?define("service/ConstraintService",["service/ValidationService","domain/CompositionGraph","service/ExceptionService","utils/MapUtils","utils/ArrayUtils"],c):("undefined"===typeof a.regulaModules&&(a.regulaModules={}),a.regulaModules.ConstraintService=c(a.regulaModules.ValidationService,a.regulaModules.CompositionGraph,a.regulaModules.ExceptionService,a.regulaModules.MapUtils,a.regulaModules.ArrayUtils))})(this,function(a,c,g,b,f){function d(a,
b,c){var d={error:!1,message:""};c.__size__<b.params.length&&(d={error:!0,message:g.generateExceptionMessage(a,q[b.constraintType],"@"+q[b.constraintType]+" expects at least "+b.params.length+" parameter(s). However, you have provided only "+c.__size__),data:null});for(var h=[],j=0;j<b.params.length;j++){var n=b.params[j];"undefined"===typeof c[n]&&h.push(n)}0<h.length&&(d={error:!0,message:g.generateExceptionMessage(a,q[b.constraintType],"You seem to have provided some optional or required parameters for @"+
q[b.constraintType]+", but you are still missing the following "+h.length+" required parameter(s): "+f.explode(h,", ")),data:null});return d}function j(a,b){var d=c.getNodeByType(m[a]);null==d&&(c.addNode({type:m[a],name:a,parent:null}),d=c.getNodeByType(m[a]));for(var f=0;f<d.children.length;f++){for(var h=d.children[f],g=[],j=0;j<h.parents.length;j++)h.parents[j]!==d&&g.push(h.parents[j]);h.parents=g}d.children=[];for(f=0;f<b.length;f++)h=x[q[b[f].constraintType]],c.addNode({type:h.constraintType,
name:q[h.constraintType],parent:d})}function p(a,c,f){for(var h=0;h<c.length;h++){if("undefined"===typeof c[h].constraintType)throw new g.Exception.ConstraintDefinitionException("In compound constraint "+a+": A composing constraint has no constraint type specified.");var j=c[h],n=q[j.constraintType],m={__size__:0};j.params=j.params||{};for(var p in j.params)j.params.hasOwnProperty(p)&&b.put(m,p,j.params[p]);var t=0,K;for(K in j.params)j.params.hasOwnProperty(K)&&t++;j.params.__size__=t;for(j=0;j<
f.length;j++)b.put(m,f[j],null);n=d(null,x[n],m);if(n.error)throw new g.Exception.ConstraintDefinitionException("In compound constraint "+a+": "+n.message);}}for(var m={},q={},t=0,n="Checked Selected Max Min Range Between NotBlank NotEmpty Blank Empty Pattern Matches Email Alpha IsAlpha Numeric IsNumeric AlphaNumeric IsAlphaNumeric Integer Real CompletelyFilled PasswordsMatch Required Length Digits Past Future Step URL HTML5Required HTML5Email HTML5URL HTML5MaxLength HTML5Pattern HTML5Min HTML5Max HTML5Step".split(" "),
h=0;h<n.length;h++)m[n[h]]=h,q[h]=n[h];t=h;m.Between=m.Range;m.Matches=m.Pattern;m.Empty=m.Blank;m.NotEmpty=m.NotBlank;m.IsAlpha=m.Alpha;m.IsNumeric=m.Numeric;m.IsAlphaNumeric=m.AlphaNumeric;var x={Checked:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.checked,constraintType:m.Checked,custom:!1,compound:!1,params:[],defaultMessage:"{label} needs to be checked."},Selected:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.selected,constraintType:m.Selected,custom:!1,compound:!1,params:[],
defaultMessage:"{label} needs to be selected."},Max:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.max,constraintType:m.Max,custom:!1,compound:!1,params:["value"],defaultMessage:"{label} needs to be lesser than or equal to {value}."},Min:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.min,constraintType:m.Min,custom:!1,compound:!1,params:["value"],defaultMessage:"{label} needs to be greater than or equal to {value}."},Range:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.range,
constraintType:m.Range,custom:!1,compound:!1,params:["min","max"],defaultMessage:"{label} needs to be between {min} and {max}."},NotBlank:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.notBlank,constraintType:m.NotBlank,custom:!1,compound:!1,params:[],defaultMessage:"{label} cannot be blank."},Blank:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.blank,constraintType:m.Blank,custom:!1,compound:!1,params:[],defaultMessage:"{label} needs to be blank."},Pattern:{async:!1,html5:!1,
formSpecific:!1,validator:a.Validator.matches,constraintType:m.Pattern,custom:!1,compound:!1,params:["regex"],defaultMessage:"{label} needs to match {regex}{flags}."},Email:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.email,constraintType:m.Email,custom:!1,compound:!1,params:[],defaultMessage:"{label} is not a valid email."},Alpha:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.alpha,constraintType:m.Alpha,custom:!1,compound:!1,params:[],defaultMessage:"{label} can only contain letters."},
Numeric:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.numeric,constraintType:m.Numeric,custom:!1,compound:!1,params:[],defaultMessage:"{label} can only contain numbers."},AlphaNumeric:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.alphaNumeric,constraintType:m.AlphaNumeric,custom:!1,compound:!1,params:[],defaultMessage:"{label} can only contain numbers and letters."},Integer:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.integer,constraintType:m.Integer,custom:!1,compound:!1,
params:[],defaultMessage:"{label} must be an integer."},Real:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.real,constraintType:m.Real,custom:!1,compound:!1,params:[],defaultMessage:"{label} must be a real number."},CompletelyFilled:{async:!1,html5:!1,formSpecific:!0,validator:a.Validator.completelyFilled,constraintType:m.CompletelyFilled,custom:!1,compound:!1,params:[],defaultMessage:"{label} must be completely filled."},PasswordsMatch:{async:!1,html5:!1,formSpecific:!0,validator:a.Validator.passwordsMatch,
constraintType:m.PasswordsMatch,custom:!1,compound:!1,params:["field1","field2"],defaultMessage:"Passwords do not match."},Required:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.required,constraintType:m.Required,custom:!1,compound:!1,params:[],defaultMessage:"{label} is required."},Length:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.length,constraintType:m.Length,custom:!1,compound:!1,params:["min","max"],defaultMessage:"{label} length must be between {min} and {max}."},Digits:{async:!1,
html5:!1,formSpecific:!1,validator:a.Validator.digits,constraintType:m.Digits,custom:!1,compound:!1,params:["integer","fraction"],defaultMessage:"{label} must have up to {integer} digits and {fraction} fractional digits."},Past:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.past,constraintType:m.Past,custom:!1,compound:!1,params:["format"],defaultMessage:"{label} must be in the past."},Future:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.future,constraintType:m.Future,custom:!1,
compound:!1,params:["format"],defaultMessage:"{label} must be in the future."},Step:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.step,constraintType:m.Step,custom:!1,compound:!1,params:["min","max","value"],defaultMessage:"{label} must be equal to {min} or greater, and equal to {max} or lesser, at increments of {value}."},URL:{async:!1,html5:!1,formSpecific:!1,validator:a.Validator.url,constraintType:m.URL,custom:!1,compound:!1,params:[],defaultMessage:"{label} must be a valid URL."},
HTML5Required:{async:!1,html5:!0,inputType:null,attribute:"required",formSpecific:!1,validator:a.Validator.html5Required,constraintType:m.HTML5Required,custom:!1,compound:!1,params:[],defaultMessage:"{label} is required."},HTML5Email:{async:!1,html5:!0,inputType:"email",attribute:null,formSpecific:!1,validator:a.Validator.html5Email,constraintType:m.HTML5Email,custom:!1,compound:!1,params:[],defaultMessage:"{label} is not a valid email."},HTML5Pattern:{async:!1,html5:!0,inputType:null,attribute:"pattern",
formSpecific:!1,validator:a.Validator.html5Pattern,constraintType:m.HTML5Pattern,custom:!1,compound:!1,params:["pattern"],defaultMessage:"{label} needs to match {pattern}."},HTML5URL:{async:!1,html5:!0,inputType:"url",attribute:null,formSpecific:!1,validator:a.Validator.html5URL,constraintType:m.HTML5URL,custom:!1,compound:!1,params:[],defaultMessage:"{label} is not a valid URL."},HTML5MaxLength:{async:!1,html5:!0,inputType:null,attribute:"maxlength",formSpecific:!1,validator:a.Validator.html5MaxLength,
constraintType:m.HTML5MaxLength,custom:!1,compound:!1,params:["maxlength"],defaultMessage:"{label} must be less than {maxlength} characters."},HTML5Min:{async:!1,html5:!0,inputType:null,attribute:"min",formSpecific:!1,validator:a.Validator.html5Min,constraintType:m.HTML5Min,custom:!1,compound:!1,params:["min"],defaultMessage:"{label} needs to be greater than or equal to {min}."},HTML5Max:{async:!1,html5:!0,inputType:null,attribute:"max",formSpecific:!1,validator:a.Validator.html5Max,constraintType:m.HTML5Max,
custom:!1,compound:!1,params:["max"],defaultMessage:"{label} needs to be lesser than or equal to {max}."},HTML5Step:{async:!1,html5:!0,inputType:null,attribute:"step",formSpecific:!1,validator:a.Validator.html5Step,constraintType:m.HTML5Step,custom:!1,compound:!1,params:["step"],defaultMessage:"{label} must be equal to the minimum value or greater at increments of {step}."}};return{Constraint:m,ReverseConstraint:q,firstCustomConstraintIndex:t,constraintDefinitions:x,override:function(b){var d="undefined"===
typeof b.async?x[b.name].async:b.async,f=b.validator;b.validatorRedefined&&!b.formSpecific&&(f=a.wrapValidatorWithEmptyCheck(f));var h=c.getNodeByType(b.constraintType);if(b.compound){p(b.name,b.composingConstraints,b.params);var n=c.clone();j(b.name,b.composingConstraints);var B=c.analyze(h);if(B.cycle)throw c.initializeFromClone(n),new g.Exception.ConstraintDefinitionException("regula.override: The overriding composing-constraints you have specified have created a cyclic composition: "+B.path);
d=!1;for(n=0;n<b.composingConstraints.length&&!d;)d=x[q[b.composingConstraints[n].constraintType]].async,n++}null!==h&&function y(a){for(var b=0;b<a.parents.length;b++){var f=a.parents[b];f.type!==c.ROOT&&(x[q[f.type]].async=d,y(f))}}(h);x[b.name]={async:d,formSpecific:b.formSpecific,constraintType:m[b.name],custom:!0,compound:b.compound,params:b.params,composingConstraints:b.composingConstraints,defaultMessage:b.defaultMessage,validator:f};x[b.name].custom&&b.validatorRedefined&&a.createPublicValidator(b.name,
x)},custom:function(b){m[b.name]=t;q[t++]=b.name;var c=b.validator;b.formSpecific||(c=a.wrapValidatorWithEmptyCheck(b.validator));x[b.name]={async:b.async,formSpecific:b.formSpecific,validator:c,constraintType:m[b.name],custom:!0,compound:!1,params:b.params,defaultMessage:b.defaultMessage};a.createPublicValidator(b.name,x)},compound:function(b){p(b.name,b.constraints,b.params);for(var c=!1,d=0;d<b.constraints.length&&!c;){var f=q[b.constraints[d].constraintType],c=c||x[f].async;d++}m[b.name]=t;q[t++]=
b.name;x[b.name]={async:c,formSpecific:b.formSpecific,constraintType:m[b.name],custom:!0,compound:!0,params:b.params,reportAsSingleViolation:b.reportAsSingleViolation,composingConstraints:b.constraints,defaultMessage:b.defaultMessage,validator:a.compoundValidator};a.createPublicValidator(b.name,x);j(b.name,b.constraints)},verifyConstraintDefinition:function(a,b,c){var f={successful:!0,message:"",data:null};"form"==a.tagName.toLowerCase()&&!x[b].formSpecific?f={successful:!1,message:g.generateExceptionMessage(a,
b,"@"+b+" is not a form constraint, but you are trying to bind it to a form"),data:null}:"form"!=a.tagName.toLowerCase()&&x[b].formSpecific?f={successful:!1,message:g.generateExceptionMessage(a,b,"@"+b+" is a form constraint, but you are trying to bind it to a non-form element"),data:null}:("undefined"===typeof a.type||"checkbox"!=a.type.toLowerCase()&&"radio"!=a.type.toLowerCase())&&"Checked"==b?f={successful:!1,message:g.generateExceptionMessage(a,b,"@"+b+" is only applicable to checkboxes and radio buttons. You are trying to bind it to an input element that is neither a checkbox nor a radio button."),
data:null}:"select"!=a.tagName.toLowerCase()&&"Selected"==b?f={successful:!1,message:g.generateExceptionMessage(a,b,"@"+b+" is only applicable to select boxes. You are trying to bind it to an input element that is not a select box."),data:null}:(a=d(a,x[b],c),a.error?f={successful:!1,message:a.message,data:null}:f.data=c);return f},verifyParameterCountMatches:d}});
(function(a,c){"function"===typeof define&&define.amd?define("parser/Parser",["utils/MapUtils","service/ExceptionService","service/ConstraintService"],c):("undefined"===typeof a.regulaModules&&(a.regulaModules={}),a.regulaModules.Parser=c(a.regulaModules.MapUtils,a.regulaModules.ExceptionService,a.regulaModules.ConstraintService))})(this,function(a,c,g){function b(a){return a?a.replace(/^\s+/,"").replace(/\s+$/,""):""}return{parse:function(f,d){function j(a){var b={successful:!0,message:"",data:null};
if(!/[A-Za-z_]/.test(a)||"undefined"===typeof a||null==a)b={successful:!1,message:c.generateExceptionMessage(f,D,"Invalid starting character"),data:null};return b}function p(a){var b={successful:!0,message:"",data:null};/[0-9A-Za-z_]/.test(a)||(b={successful:!1,message:c.generateExceptionMessage(f,D,"Invalid character in identifier. Can only include 0-9, A-Z, a-z, and _")+" "+b.message,data:null});return b}function m(a){var d,h=b(a.shift());0==h.length&&(h=a.shift());d={successful:!1,message:c.generateExceptionMessage(f,
D,"Invalid starting character for parameter name. Can only include A-Z, a-z, and _"),data:null};if("undefined"!==typeof h)if(d=j(h.charAt(0)),d.successful){for(var g=1;g<h.length&&d.successful;)d=p(h.charAt(g)),g++;d.successful&&(d.data=h)}else d={successful:!1,message:c.generateExceptionMessage(f,D,"Invalid starting character for parameter name. Can only include A-Z, a-z, and _")+" "+d.message,data:null};if(d.successful)if(h=d.data,g=a.shift(),"="==g){0==b(a[0]).length&&a.shift();g={successful:!0,
message:"",data:[]};if(")"==a[0])g={successful:!1,message:c.generateExceptionMessage(f,D,"Parameter value expected")+" "+g.message,data:null};else if(d=a.shift(),g={successful:!0,message:"",data:null},"-"==d?(g=q(a),g.successful&&(g.data=d+g.data)):(a.unshift(d),g={successful:!1,message:c.generateExceptionMessage(f,D,"Not a negative number"),data:null}),d=g,d.successful||(d=q(a),d.successful||(d={successful:!1,message:c.generateExceptionMessage(f,D,"Parameter value is not a number")+" "+d.message,
data:null})),g=d,d=g.message,!g.successful){var g=a.shift(),n="",u={successful:!0,message:"",data:null};if('"'==g){for(var m=!1;0<a.length&&u.successful&&!m;)'"'==a[0]?(m=!0,a.shift()):(u=x(a),n+=u.data);m||(u={successful:!1,message:c.generateExceptionMessage(f,D,"Unterminated string literal"),data:null})}else a.unshift(g),u={successful:!1,message:c.generateExceptionMessage(f,D,"Invalid quoted string"),data:null};u.successful=u.successful&&m;u.data=n;g=u;g.message=g.message+" "+d;d=g.message;if(!g.successful){m=
"";g=a.shift();n={successful:!0,message:"",data:null};if("/"==g){for(var m=g,A=!1;0<a.length&&n.successful&&!A;)"/"==a[0]?(m+=a.shift(),A=!0):(n=x(a),m+=n.data);A||(n={successful:!1,message:c.generateExceptionMessage(f,D,"Unterminated regex literal"),data:null})}else a.unshift(g),n={successful:!1,message:c.generateExceptionMessage(f,D,"Not a regular expression"),data:null};n.successful=n.successful&&A;n.data=m;g=n;g.message=g.message+" "+d;d=g.message;if(!g.successful&&(A=a.shift(),m={successful:!0,
message:"",data:null},"true"==b(A)||"false"==b(A)?m={successful:!0,message:"",data:"true"===A}:(a.unshift(A),m={successful:!1,message:c.generateExceptionMessage(f,D,"Not a boolean"),data:null}),g=m,g.message=g.message+" "+d,d=g.message,!g.successful)){A=[];m=a.shift();g={successful:!0,message:"",data:null};if("["==m)if(0==b(a[0]).length&&a.shift(),g="]"==a[0]?{successful:!0,message:"",data:""}:z(a),g.successful){A.push(g.data);for(0==b(a[0]).length&&a.shift();0<a.length&&","==a[0]&&g.successful;)a.shift(),
g=z(a),A.push(g.data),0==b(a[0]).length&&a.shift();g.data=A;m=a.shift();0==b(m).length&&a.shift();"]"!=m&&(g={successful:!1,message:c.generateExceptionMessage(f,D,"Cannot find matching closing ] in group definition")+" "+g.message,data:null})}else g={successful:!1,message:c.generateExceptionMessage(f,D,"Invalid group definition")+" "+g.message,data:null};else a.unshift(m),g={successful:!1,message:c.generateExceptionMessage(f,D,"Not a valid group definition"),data:null};g.message=g.message+" "+d;d=
g.message;g.successful||(g={successful:!1,message:c.generateExceptionMessage(f,D,"Parameter value must be a number, quoted string, regular expression, or a boolean")+" "+d,data:null})}}}d=g;d.successful?d.data={name:h,value:d.data}:d={successful:!1,message:c.generateExceptionMessage(f,D,"Invalid parameter value")+" "+d.message,data:null}}else a.unshift(g),d={successful:!1,message:c.generateExceptionMessage(f,D,"'=' expected after parameter name "+d.message),data:null};else d={successful:!1,message:c.generateExceptionMessage(f,
D,"Invalid parameter name. You might have unmatched parentheses")+" "+d.message,data:null};return d}function q(a){var b=null;if("."!=a[0]){if(b=n(a),"."==a[0]){var d=b.data,b=t(a);b.successful&&(b.data=d+b.data)}}else b=t(a);b.successful||(b={successful:!1,message:c.generateExceptionMessage(f,D,"Not a positive number")+" "+b.message,data:null});return b}function t(a){var b=a.shift(),a=n(a);a.successful?a.data=b+a.data:a={successful:!1,message:c.generateExceptionMessage(f,D,"Not a valid fraction"),
data:null};return a}function n(a){var d=b(a.shift()),g=h(d.charAt(0));if(g.successful){for(a=1;a<d.length&&g.successful;)g=h(d.charAt(a)),a++;g.successful&&(g.data=d)}else a.unshift(d),g={successful:!1,message:c.generateExceptionMessage(f,D,"Not a valid integer")+" "+g.message,data:[]};return g}function h(a){var b={successful:!0,message:"",data:null};/[0-9]/.test(a)||(b={successful:!1,message:c.generateExceptionMessage(f,D,"Not a valid digit"),data:null});return b}function x(a){var b="",c=a.shift();
"\\"==c&&(b=a.shift());return{successful:!0,message:"",data:c+b}}function z(a){var d={successful:!0,message:"",data:""},h=b(a.shift());0==h.length&&(h=a.shift());d=j(h.charAt(0));if(d.successful){for(a=1;a<h.length&&d.successful;)d=p(h.charAt(a)),a++;d.successful&&(d.data=h)}else d={successful:!1,message:c.generateExceptionMessage(f,D,"Invalid starting character for group name. Can only include A-Z, a-z, and _")+" "+d.message,data:null};return d}for(var D="",S=b(d.replace(/\s*\n\s*/g,"")),u='@()[]=,"\\/-\\.'.split(""),
A=[],B=0,J=0;J<S.length;J++)a.exists(u,S.charAt(J))&&(B=S.substring(B,J),0==B.length||A.push(B),A.push(S.charAt(J)),B=J+1);B<S.length&&(B=S.substring(B,S.length),0==B.length||A.push(B));u={successful:!0,message:"",data:null};for(S=[];0<A.length&&u.successful;){u=A;J={successful:!0,message:"",data:null};B=u.shift();0==b(B).length&&(B=u.shift());if("@"==B){var J={Between:"Range",Matches:"Pattern",Empty:"Blank",NotEmpty:"NotBlank",IsAlpha:"Alpha",IsNumeric:"Integer",IsAlphaNumeric:"AlphaNumeric"},B=
b(u.shift()),y=j(B.charAt(0));if(y.successful){for(var v=1;v<B.length&&y.successful;)y=p(B.charAt(v)),v++;y.successful&&(y.data=B)}else y={successful:!1,message:c.generateExceptionMessage(f,D,"Invalid starting character for constraint name. Can only include A-Z, a-z, and _")+" "+y.message,data:null};B=y;if(B.successful)if(D=B.data,D=J[D]?J[D]:D,g.constraintDefinitions[D]){J={successful:!0,message:"",data:{}};if("("==u[0])if(u.shift(),B={},")"==u[0])u.shift();else if(J=m(u),J.successful){a.put(B,J.data.name,
J.data.value);for(0==b(u[0]).length&&u.shift();0<u.length&&","==u[0]&&J.successful;)u.shift(),J=m(u),J.successful&&(a.put(B,J.data.name,J.data.value),0==b(u[0]).length&&u.shift());J.successful&&(y=u.shift(),0==b(y).length&&(y=u.shift()),")"!=y?J={successful:!1,message:c.generateExceptionMessage(f,D,"Cannot find matching closing ) in parameter list")+" "+J.message,data:null}:J.data=B)}else J={successful:!1,message:c.generateExceptionMessage(f,D,"Invalid parameter definition")+" "+J.message,data:null};
else void 0!==u[0]&&"@"!=u[0]&&(J={successful:!1,message:c.generateExceptionMessage(f,D,"Unexpected character '"+u[0]+"' after constraint definition")+" "+J.message,data:null});B=J;B.successful&&(B=g.verifyConstraintDefinition(f,D,B.data),B.successful&&(B.data={element:f,constraintName:D,definedParameters:B.data}))}else B={successful:!1,message:c.generateExceptionMessage(f,D,"I cannot find the specified constraint name. If this is a custom constraint, you need to define it before you bind to it")+
" "+B.message,data:null};else B={successful:!1,message:c.generateExceptionMessage(f,D,"Invalid constraint name in constraint definition")+" "+B.message,data:null};u=B}else u={successful:!1,message:c.generateExceptionMessage(f,D,"Invalid constraint. Constraint definitions need to start with '@'")+" "+J.message,data:null};u=J=u;S.push(u.data)}u.data=S;return u}}});
(function(a,c){"function"===typeof define&&define.amd?define("service/BindingService","utils/MapUtils service/GroupService utils/DOMUtils parser/Parser service/ConstraintService service/ExceptionService".split(" "),c):("undefined"===typeof a.regulaModules&&(a.regulaModules={}),a.regulaModules.BindingService=c(a.regulaModules.MapUtils,a.regulaModules.GroupService,a.regulaModules.DOMUtils,a.regulaModules.Parser,a.regulaModules.ConstraintService,a.regulaModules.ExceptionService))})(this,function(a,c,
g,b,f,d){function j(){h={Default:{}}}function p(b,d){if(a.isEmpty(h[d][b])&&(delete h[d][b],a.isEmpty(h[d]))){delete h[d];var f=c.Group[d];delete c.Group[d];delete c.ReverseGroup[f];c.deletedGroupIndices.push(f)}}function m(a){var b={successful:!0,message:"",data:null},c=null;"undefined"!==typeof a.tagName&&(c=a.tagName.toLowerCase());"form"!==c&&"select"!==c&&"textarea"!==c&&"input"!==c?b={successful:!1,message:c+"#"+a.id+" is not an input, select, textarea, or form element! Validation constraints can only be attached to input, select, textarea, or form elements.",
data:null}:"input"===c&&null===a.getAttribute("type")&&(b={successful:!1,message:c+"#"+a.id+" does not have a type attribute.",data:null});return b}function q(a){for(var c=a.element,a=null===c?g.getElementsByAttribute(document.body,"*","data-constraints"):[c],d={successful:!0,message:"",data:null},f=0;f<a.length&&d.successful;)if(c=a[f],d=m(c),d.successful){c.id||(c.id=g.generateRandomId());var h=c.getAttribute("data-constraints");if(null!==h&&(d=b.parse(c,h),d.successful&&null!==d.data)){c=d.data;
for(h=0;d.successful&&h<c.length;)d=c[h],d=n(d.element,d.constraintName,d.definedParameters),h++}f++}return d}function t(b,g){function j(b,d,g){var n=h[c.ReverseGroup[c.Group.Default]][b.id][f.ReverseConstraint[d]].groups,r=[];g.groups?r=g.groups:r.push(c.ReverseGroup[c.Group.Default]);a.exists(r,c.ReverseGroup[c.Group.Default])||r.push(c.ReverseGroup[c.Group.Default]);for(var w=g=r,u={},r=[],m=0;m<n.length;m++)r.push(n[m]),u[n[m]]=!0;for(n=0;n<w.length;n++)u[w[n]]||r.push(w[n]);n=[];for(w=0;w<r.length;w++)a.exists(g,
r[w])||n.push(r[w]);for(g=0;g<n.length;g++)r=n[g],delete h[r][b.id][f.ReverseConstraint[d]],p(b.id,r)}var m={successful:!0,message:"",data:null},u=g.element,A=b.overwriteConstraint||!1,q=b.overwriteParameters||!1,t=b.constraintType,y=b.params||{},v={__size__:0},K=y.groups;if("undefined"===typeof t)m={successful:!1,message:"regula.bind expects a valid constraint type for each constraint in constraints attribute of the options argument. "+d.explodeParameters(g),data:null};else if(y&&y.groups)if(y.groups instanceof
Array){for(var I=[],Q=0;Q<y.groups.length&&m.successful;)"string"==typeof y.groups[Q]?I.push(y.groups[Q]):"undefined"!==typeof c.ReverseGroup[y.groups[Q]]?I.push(c.ReverseGroup[y.groups[Q]]):m={successful:!1,message:"Invalid group: "+y.groups[Q]+". "+d.explodeParameters(g),data:null},Q++;m.successful&&(y.groups=I)}else m={successful:!1,message:"The groups parameter must be an array of enums or strings "+d.explodeParameters(g),data:null};if(m.successful){if(!h[c.ReverseGroup[c.Group.Default]][u.id]||
!h[c.ReverseGroup[c.Group.Default]][u.id][f.ReverseConstraint[t]]){for(var H in y)y.hasOwnProperty(H)&&a.put(v,H,y[H]);m=f.verifyConstraintDefinition(u,f.ReverseConstraint[t],v)}else if(A){for(H in y)y.hasOwnProperty(H)&&a.put(v,H,y[H]);m=f.verifyConstraintDefinition(u,f.ReverseConstraint[t],v);m.successful&&j(u,t,y)}else{A=h[c.ReverseGroup[c.Group.Default]][u.id][f.ReverseConstraint[t]];for(H in A)A.hasOwnProperty(H)&&a.put(v,H,A[H]);if(q){for(H in y)y.hasOwnProperty(H)&&a.put(v,H,y[H]);m=f.verifyConstraintDefinition(u,
f.ReverseConstraint[t],v);m.successful&&j(u,t,v)}else for(H in y)y.hasOwnProperty(H)&&(A[H]||a.put(v,H,y[H]))}m.successful&&(m=n(u,f.ReverseConstraint[t],v))}y.groups=K;return m}function n(b,g,n){var j={successful:!0,message:"",data:null};n.groups||a.put(n,"groups",[c.ReverseGroup[c.Group.Default]]);var u=n.groups;-1===u.indexOf(c.ReverseGroup[c.Group.Default])&&(u.push(c.ReverseGroup[c.Group.Default]),n.groups=u);for(var m=0;m<u.length;m++){var p=u[m];if(!h[p]){var q=-1,q=0<c.deletedGroupIndices.length?
c.deletedGroupIndices.pop():c.firstCustomGroupIndex++;c.Group[p]=q;c.ReverseGroup[q]=p;h[p]={}}h[p][b.id]||(h[p][b.id]={});h[p][b.id][g]=n}if(f.constraintDefinitions[g].html5)if(null!==b.getAttribute("type")&&null!==f.constraintDefinitions[g].inputType&&b.getAttribute("type")!==f.constraintDefinitions[g].inputType)j={successful:!1,message:d.generateExceptionMessage(b,g,"Element type of "+b.getAttribute("type")+" conflicts with type of constraint @"+g+": "+f.constraintDefinitions[g].inputType),data:null};
else if(u=f.constraintDefinitions[g].attribute,m=f.constraintDefinitions[g].inputType,null!==u&&null===b.getAttribute(u)||null!==m&&null===b.getAttribute("type")){if(g===f.ReverseConstraint[f.Constraint.HTML5Required])b.setAttribute("required","true");else{g=f.constraintDefinitions[g];for(u=0;u<g.params.length;u++)b.setAttribute(g.params[u],n[g.params[u]])}n=b.getAttribute("class");/regula-modified/.test(n)||b.setAttribute("class",n+" regula-modified")}return j}var h=null;return{initializeBoundConstraints:function(){null===
h&&j()},resetBoundConstraints:j,getBoundConstraints:function(){return h},removeElementAndGroupFromBoundConstraintsIfEmpty:p,bindAfterParsing:q,bindHTML5ValidationConstraints:function(b){var c=b.element,d={successful:!0,message:"",data:null},b=[{attribute:"required",value:null,constraint:f.Constraint.HTML5Required},{attribute:"type",value:"email",constraint:f.Constraint.HTML5Email},{attribute:"type",value:"url",constraint:f.Constraint.HTML5URL},{attribute:"pattern",value:null,constraint:f.Constraint.HTML5Pattern},
{attribute:"maxlength",value:null,constraint:f.Constraint.HTML5MaxLength},{attribute:"min",value:null,constraint:f.Constraint.HTML5Min},{attribute:"max",value:null,constraint:f.Constraint.HTML5Max},{attribute:"step",value:null,constraint:f.Constraint.HTML5Step}],h={email:f.Constraint.HTML5Email,url:f.Constraint.HTML5URL},j={};if(null===c)for(var p=0;p<b.length;p++)for(var q=b[p],h=null,h=null==q.value?g.getElementsByAttribute(document.body,"*",q.attribute):g.getElementsByAttribute(document.body,"*",
q.attribute,q.value),c=j,t=0;t<h.length;t++){var y=h[t];y.id||(y.id=g.generateRandomId());c[y.id]||(c[y.id]=[]);var v={constraint:q.constraint,params:{}};null===q.value&&(v.params[q.attribute]=g.getAttributeValueForElement(y,q.attribute));c[y.id].push(v)}else if(c.id||(c.id=g.generateRandomId()),d=m(c),d.successful){j[c.id]=[];for(p=0;p<b.length;p++)q=b[p],null===q.value?null!=g.getAttributeValueForElement(c,q.attribute)&&(t={constraint:q.constraint,params:{}},t.params[q.attribute]=g.getAttributeValueForElement(c,
q.attribute),j[c.id].push(t)):(q=g.getAttributeValueForElement(c,q.attribute),null!=q&&"undefined"!==typeof h[q]&&j[c.id].push({constraint:h[q],params:{}}))}a.iterateOverMap(j,function(a,b){for(var c=document.getElementById(a),g=0;g<b.length;g++){var h=b[g];d=n(c,f.ReverseConstraint[h.constraint],h.params)}});return d},bindFromOptions:function(a){var b={successful:!0,message:"",data:null},c=a.element,f=a.constraints||[],g=c&&c.tagName?c.tagName.toLowerCase():null;if(c)if(1!==c.nodeType)b={successful:!1,
message:"regula.bind: element attribute is expected to be an HTMLElement, but was of unexpected type: "+typeof c+". "+d.explodeParameters(a),data:null};else if("form"!=g&&"select"!=g&&"textarea"!=g&&"input"!=g)b={successful:!1,message:g+"#"+c.id+" is not an input, select, textarea, or form element! Validation constraints can only be attached to input, select, textarea, or form elements. "+d.explodeParameters(a),data:null};else if(0<f.length)for(c=0;c<f.length&&b.successful;)b=t(f[c],a),c++;else b=
q({element:c});else b={successful:!1,message:"regula.bind expects a non-null element attribute in the options argument. "+d.explodeParameters(a),data:null};return b},unbind:function(a){for(var b=0;b<a.elements.length;b++){var c=a.elements[b].id,g=a.constraints||[];if(0==g.length)for(var n in h){if(h.hasOwnProperty(n))if("undefined"!==typeof h[n][c])delete h[n][c],"Default"!==n&&p(c,n);else throw new d.Exception.IllegalArgumentException("Element with id "+c+" does not have any constraints bound to it. "+
d.explodeParameters(a));}else for(var j=0;j<g.length;j++){var m=g[j];for(n in h)if(h.hasOwnProperty(n))if("undefined"!==typeof h[n][c])delete h[n][c][f.ReverseConstraint[m]],"Default"!==n&&p(c,n);else throw new d.Exception.IllegalArgumentException("Element with id "+c+" does not have any constraints bound to it. "+d.explodeParameters(a));}}},isBound:function(a){var b=a.elementId,d=a.group,a=a.constraint,g="undefined"!==typeof h[c.ReverseGroup[c.Group.Default]][b];g&&"undefined"!==typeof d&&"undefined"===
typeof a?(d=c.ReverseGroup[d],g="undefined"!==typeof d&&"undefined"!==typeof h[d][b]):g&&"undefined"===typeof d&&"undefined"!==typeof a?(a=f.ReverseConstraint[a],g="undefined"!==typeof a&&"undefined"!==typeof h[c.ReverseGroup[c.Group.Default]][b][a]):g&&("undefined"!==typeof d&&"undefined"!==typeof a)&&(d=c.ReverseGroup[d],a=f.ReverseConstraint[a],g="undefined"!==typeof d&&"undefined"!==typeof a&&"undefined"!==typeof h[d][b]&&"undefined"!==typeof h[d][b][a]);return g}}});
(function(a,c){"function"===typeof define&&define.amd?define("regula","utils/MapUtils utils/DOMUtils service/BindingService service/ExceptionService service/ConstraintService service/ValidationService service/GroupService".split(" "),c):(a.regula=c(a.regulaModules.MapUtils,a.regulaModules.DOMUtils,a.regulaModules.BindingService,a.regulaModules.ExceptionService,a.regulaModules.ConstraintService,a.regulaModules.ValidationService,a.regulaModules.GroupService),a.regula._modules=a.regulaModules,a.regulaModules=
void 0)})(this,function(a,c,g,b,f,d,j){var p={validateEmptyFields:!0,enableHTML5Validation:!0,debug:!1};g.initializeBoundConstraints();d.initializePublicValidators(f.constraintDefinitions);return{configure:function(b){a.iterateOverMap(b,function(a,b){"undefined"!==typeof p[a]&&(p[a]=b)})},bind:function(a){var d={successful:!0,message:"",data:null};if("undefined"===typeof a||!a)g.resetBoundConstraints(),p.enableHTML5Validation&&c.supportsHTML5Validation()&&(d=g.bindHTML5ValidationConstraints({element:null})),
d.successful&&(d=g.bindAfterParsing({element:null}));else{var f=a.elements;if("undefined"===typeof f||!f)p.enableHTML5Validation&&(c.supportsHTML5Validation()&&"undefined"!==typeof a.element&&null!==a.element)&&(d=g.bindHTML5ValidationConstraints({element:a.element})),d.successful&&(d=g.bindFromOptions(a));else for(var n=0;d.successful&&n<f.length;)a.element=f[n],p.enableHTML5Validation&&c.supportsHTML5Validation()&&(d=g.bindHTML5ValidationConstraints({element:a.element})),d.successful?(d=g.bindFromOptions(a),
d.successful||(d.message="regula.bind: Element "+(n+1)+" of "+f.length+" failed: "+d.message)):d.message="regula.bind: Failed binding HTML5 validation constraints: Element "+(n+1)+" of "+f.length+" failed: "+d.message,n++}if(!d.successful)throw new b.Exception.BindException(d.message);},unbind:function(a){if("undefined"===typeof a||!a)g.resetBoundConstraints();else{if("undefined"===typeof a.elementId&&"undefined"===typeof a.elements)throw new b.Exception.IllegalArgumentException("regula.unbind requires an elementId attribute, or an elements attribute if options are provided");
if("undefined"!==typeof a.elements&&!(a.elements instanceof Array))throw new b.Exception.IllegalArgumentException("regula.unbind expects the elements attribute to be an array, if it is provided");if("undefined"===typeof a.elements&&(a.elements=[document.getElementById(a.elementId)],null===a.elements[0]))throw new b.Exception.IllegalArgumentException("Element with id "+a.elementId+" does not have any constraints bound to it. "+b.explodeParameters(a));g.unbind(a)}},isBound:function(a){if("undefined"===
typeof a)throw new b.Exception.IllegalArgumentException("regula.isBound expects options");var c=a.element,d=a.elementId;if("undefined"===typeof c&&"undefined"===typeof d)throw new b.Exception.IllegalArgumentException("regula.isBound expects at the very least, either an element or elementId attribute");if(a.hasOwnProperty("constraint")&&"undefined"===typeof a.constraint)throw new b.Exception.IllegalArgumentException("Undefined constraint was supplied as a parameter");if(a.hasOwnProperty("group")&&
"undefined"===typeof a.group)throw new b.Exception.IllegalArgumentException("Undefined group was supplied as a parameter");"undefined"!==typeof c&&(d=c.id);return g.isBound({elementId:d,group:a.group,constraint:a.constraint})},validate:function(a,c){d.init({config:p,ReverseConstraint:f.ReverseConstraint,constraintDefinitions:f.constraintDefinitions,boundConstraints:g.getBoundConstraints()});var j=[];if("undefined"!==typeof a&&"undefined"!==typeof a.groups&&!(a.groups instanceof Array))throw new b.Exception.IllegalArgumentException("regula.validate: If a groups attribute is provided, it must be an array.");
if("undefined"!==typeof a&&"undefined"!==typeof a.groups&&0==a.groups.length)throw new b.Exception.IllegalArgumentException("regula.validate: If a groups attribute is provided, it must not be empty.");if("undefined"!==typeof a&&a.hasOwnProperty("constraintType")&&"undefined"===typeof a.constraintType)throw new b.Exception.IllegalArgumentException("regula.validate: If a constraintType attribute is provided, it cannot be undefined.");"undefined"===typeof c&&"function"===typeof a&&(a={callback:a});"undefined"!==
typeof c&&(a.callback=c);if("undefined"!==typeof a&&"undefined"!==typeof a.elements)if(a.elements instanceof Array){if(0==a.elements.length)throw new b.Exception.IllegalArgumentException("regula.validate: If an elements attribute is provided, it must not be empty.");j=d.validate(a)}else throw new b.Exception.IllegalArgumentException("regula.validate: If an elements attribute is provided, it must be an array.");else j=d.validate(a);return j},custom:function(a){if(!a)throw new b.Exception.IllegalArgumentException("regula.custom expects options");
var c=a.name,d=a.formSpecific||!1,g=a.validator,h=a.params||[],j=a.defaultMessage||"",a="undefined"===typeof a.async?!1:a.async;if(c){if("string"!=typeof c)throw new b.Exception.IllegalArgumentException("regula.custom expects the name attribute in the options argument to be a string");if(0==c.replace(/\s/g,"").length)throw new b.Exception.IllegalArgumentException("regula.custom cannot accept an empty string for the name attribute in the options argument");}else throw new b.Exception.IllegalArgumentException("regula.custom expects a name attribute in the options argument");
if("boolean"!=typeof d)throw new b.Exception.IllegalArgumentException("regula.custom expects the formSpecific attribute in the options argument to be a boolean");if(g){if("function"!=typeof g)throw new b.Exception.IllegalArgumentException("regula.custom expects the validator attribute in the options argument to be a function");}else throw new b.Exception.IllegalArgumentException("regula.custom expects a validator attribute in the options argument");if(0>h.constructor.toString().indexOf("Array"))throw new b.Exception.IllegalArgumentException("regula.custom expects the params attribute in the options argument to be an array");
if("string"!=typeof j)throw new b.Exception.IllegalArgumentException("regula.custom expects the defaultMessage attribute in the options argument to be a string");if(f.constraintDefinitions[c])throw new b.Exception.IllegalArgumentException("There is already a constraint called "+c+". If you wish to override this constraint, use regula.override");f.custom({async:a,name:c,formSpecific:d,validator:g,custom:!0,compound:!1,params:h,defaultMessage:j})},compound:function(a){if(!a)throw new b.Exception.IllegalArgumentException("regula.compound expects options");
var c=a.name,d=a.constraints||[],g=a.formSpecific||!1,h=a.defaultMessage||"",j=a.params||[],a="undefined"===typeof a.reportAsSingleViolation?!1:a.reportAsSingleViolation;if(!c)throw new b.Exception.IllegalArgumentException("regula.compound expects a name attribute in the options argument");if("string"!=typeof c)throw new b.Exception.IllegalArgumentException("regula.compound expects name to be a string parameter");if(0>j.constructor.toString().indexOf("Array"))throw new b.Exception.IllegalArgumentException("regula.compound expects the params attribute in the options argument to be an array");
if(0==d.length)throw new b.Exception.IllegalArgumentException("regula.compound expects an array of composing constraints under a constraints attribute in the options argument");if(f.constraintDefinitions[c])throw new b.Exception.IllegalArgumentException("regula.compound: There is already a constraint called "+c+". If you wish to override this constraint, use regula.override");f.compound({name:c,formSpecific:g,params:j,reportAsSingleViolation:a,constraints:d,defaultMessage:h})},override:function(a){if(!a)throw new b.Exception.IllegalArgumentException("regula.override expects options");
if("undefined"==typeof a.constraintType)throw new b.Exception.IllegalArgumentException("regula.override expects a valid constraintType attribute in the options argument");var c=f.ReverseConstraint[a.constraintType];if("undefined"===typeof c)throw new b.Exception.IllegalArgumentException("regula.override: I could not find the specified constraint. Perhaps it has not been defined? Function received: "+b.explodeParameters(a));var d=!1,g=f.constraintDefinitions[c].formSpecific;f.constraintDefinitions[c].custom&&
(g="undefined"===typeof a.formSpecific?f.constraintDefinitions[c].formSpecific:a.formSpecific);var h=f.constraintDefinitions[c].custom&&"undefined"!==typeof a.async?a.async:f.constraintDefinitions[c].async,j=f.constraintDefinitions[c].custom?a.params||f.constraintDefinitions[c].params:f.constraintDefinitions[c].params,p=a.defaultMessage||f.constraintDefinitions[c].defaultMessage,D=f.constraintDefinitions[c].compound,S=a.constraints||f.constraintDefinitions[c].constraints,u=f.constraintDefinitions[c].validator;
f.constraintDefinitions[c].custom&&(!f.constraintDefinitions[c].compound&&"undefined"!==typeof a.validator)&&(u=a.validator,d=!0);if("boolean"!=typeof g)throw new b.Exception.IllegalArgumentException("regula.override expects the formSpecific attribute in the options argument to be a boolean");if("function"!=typeof u)throw new b.Exception.IllegalArgumentException("regula.override expects the validator attribute in the options argument to be a function");if(!(j instanceof Array))throw new b.Exception.IllegalArgumentException("regula.override expects the params attribute in the options argument to be an array");
if("string"!=typeof p)throw new b.Exception.IllegalArgumentException("regula.override expects the defaultMessage attribute in the options argument to be a string");f.override({async:h,formSpecific:g,name:c,constraintType:a.constraintType,compound:D,params:j,composingConstraints:S,defaultMessage:p,validator:u,validatorRedefined:d})},Constraint:f.Constraint,Group:j.Group,DateFormat:{DMY:"DMY",MDY:"MDY",YMD:"YMD"},Exception:b.Exception}});(function(a,c,g){function b(b){var f=c.console;d[b]||(d[b]=!0,a.migrateWarnings.push(b),f&&(f.warn&&!a.migrateMute)&&(f.warn("JQMIGRATE: "+b),a.migrateTrace&&f.trace&&f.trace()))}function f(c,d,f,g){if(Object.defineProperty)try{Object.defineProperty(c,d,{configurable:!0,enumerable:!0,get:function(){b(g);return f},set:function(a){b(g);f=a}});return}catch(h){}a._definePropertyBroken=!0;c[d]=f}var d={};a.migrateWarnings=[];a.migrateMute=!0;!a.migrateMute&&(c.console&&c.console.log)&&c.console.log("JQMIGRATE: Logging is active");
a.migrateTrace===g&&(a.migrateTrace=!0);a.migrateReset=function(){d={};a.migrateWarnings.length=0};"BackCompat"===document.compatMode&&b("jQuery is not compatible with Quirks Mode");var j=a("<input/>",{size:1}).attr("size")&&a.attrFn,p=a.attr,m=a.attrHooks.value&&a.attrHooks.value.get||function(){return null},q=a.attrHooks.value&&a.attrHooks.value.set||function(){return g},t=/^(?:input|button)$/i,n=/^[238]$/,h=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
x=/^(?:checked|selected)$/i;f(a,"attrFn",j||{},"jQuery.attrFn is deprecated");a.attr=function(c,d,f,u){var m=d.toLowerCase(),A=c&&c.nodeType;if(u&&(4>p.length&&b("jQuery.fn.attr( props, pass ) is deprecated"),c&&!n.test(A)&&(j?d in j:a.isFunction(a.fn[d]))))return a(c)[d](f);"type"===d&&(f!==g&&t.test(c.nodeName)&&c.parentNode)&&b("Can't change the 'type' of an input or button in IE 6/7/8");!a.attrHooks[m]&&h.test(m)&&(a.attrHooks[m]={get:function(b,c){var d,f=a.prop(b,c);return!0===f||"boolean"!==
typeof f&&(d=b.getAttributeNode(c))&&!1!==d.nodeValue?c.toLowerCase():g},set:function(b,c,d){!1===c?a.removeAttr(b,d):(c=a.propFix[d]||d,c in b&&(b[c]=!0),b.setAttribute(d,d.toLowerCase()));return d}},x.test(m)&&b("jQuery.fn.attr('"+m+"') may use property instead of attribute"));return p.call(a,c,d,f)};a.attrHooks.value={get:function(a,c){var d=(a.nodeName||"").toLowerCase();if("button"===d)return m.apply(this,arguments);"input"!==d&&"option"!==d&&b("jQuery.fn.attr('value') no longer gets properties");
return c in a?a.value:null},set:function(a,c){var d=(a.nodeName||"").toLowerCase();if("button"===d)return q.apply(this,arguments);"input"!==d&&"option"!==d&&b("jQuery.fn.attr('value', val) no longer sets properties");a.value=c}};var z,D,S=a.fn.init,u=a.parseJSON,A=/^([^<]*)(<[\w\W]+>)([^>]*)$/;a.fn.init=function(c,d,f){var g;if(c&&"string"===typeof c&&!a.isPlainObject(d)&&(g=A.exec(a.trim(c)))&&g[0])if("<"!==c.charAt(0)&&b("$(html) HTML strings must start with '<' character"),g[3]&&b("$(html) HTML text after last tag is ignored"),
"#"===g[0].charAt(0)&&(b("HTML string cannot start with a '#' character"),a.error("JQMIGRATE: Invalid selector string (XSS)")),d&&d.context&&(d=d.context),a.parseHTML)return S.call(this,a.parseHTML(g[2],d,!0),d,f);return S.apply(this,arguments)};a.fn.init.prototype=a.fn;a.parseJSON=function(a){return!a&&null!==a?(b("jQuery.parseJSON requires a valid JSON string"),null):u.apply(this,arguments)};a.uaMatch=function(a){a=a.toLowerCase();a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||
/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}};a.browser||(z=a.uaMatch(navigator.userAgent),D={},z.browser&&(D[z.browser]=!0,D.version=z.version),D.chrome?D.webkit=!0:D.webkit&&(D.safari=!0),a.browser=D);f(a,"browser",a.browser,"jQuery.browser is deprecated");a.sub=function(){function c(a,b){return new c.fn.init(a,b)}a.extend(!0,c,this);c.superclass=this;c.fn=
c.prototype=this();c.fn.constructor=c;c.sub=this.sub;c.fn.init=function(b,f){f&&(f instanceof a&&!(f instanceof c))&&(f=c(f));return a.fn.init.call(this,b,f,d)};c.fn.init.prototype=c.fn;var d=c(document);b("jQuery.sub() is deprecated");return c};a.ajaxSetup({converters:{"text json":a.parseJSON}});var B=a.fn.data;a.fn.data=function(c){var d,f;if((f=this[0])&&"events"===c&&1===arguments.length)if(d=a.data(f,c),f=a._data(f,c),(d===g||d===f)&&f!==g)return b("Use of jQuery.fn.data('events') is deprecated"),
f;return B.apply(this,arguments)};var J=/\/(java|ecma)script/i,y=a.fn.andSelf||a.fn.addBack;a.fn.andSelf=function(){b("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()");return y.apply(this,arguments)};a.clean||(a.clean=function(c,d,f,g){d=d||document;d=!d.nodeType&&d[0]||d;d=d.ownerDocument||d;b("jQuery.clean() is deprecated");var h,j=[];a.merge(j,a.buildFragment(c,d).childNodes);if(f){d=function(a){if(!a.type||J.test(a.type))return g?g.push(a.parentNode?a.parentNode.removeChild(a):a):f.appendChild(a)};
for(c=0;null!=(h=j[c]);c++)if(!a.nodeName(h,"script")||!d(h))f.appendChild(h),"undefined"!==typeof h.getElementsByTagName&&(h=a.grep(a.merge([],h.getElementsByTagName("script")),d),j.splice.apply(j,[c+1,0].concat(h)),c+=h.length)}return j});var v=a.event.add,K=a.event.remove,I=a.event.trigger,Q=a.fn.toggle,H=a.fn.live,O=a.fn.die,N=/\b(?:ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess)\b/,L=/(?:^|\s)hover(\.\S+|)\b/,P=function(c){if("string"!==typeof c||a.event.special.hover)return c;
L.test(c)&&b("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'");return c&&c.replace(L,"mouseenter$1 mouseleave$1")};a.event.props&&"attrChange"!==a.event.props[0]&&a.event.props.unshift("attrChange","attrName","relatedNode","srcElement");a.event.dispatch&&f(a.event,"handle",a.event.dispatch,"jQuery.event.handle is undocumented and deprecated");a.event.add=function(a,c,d,f,g){a!==document&&N.test(c)&&b("AJAX events should be attached to document: "+c);v.call(this,a,P(c||""),d,f,g)};
a.event.remove=function(a,b,c,d,f){K.call(this,a,P(b)||"",c,d,f)};a.fn.error=function(){var a=Array.prototype.slice.call(arguments,0);b("jQuery.fn.error() is deprecated");a.splice(0,0,"error");if(arguments.length)return this.bind.apply(this,a);this.triggerHandler.apply(this,a);return this};a.fn.toggle=function(c,d){if(!a.isFunction(c)||!a.isFunction(d))return Q.apply(this,arguments);b("jQuery.fn.toggle(handler, handler...) is deprecated");var f=arguments,g=c.guid||a.guid++,h=0,j=function(b){var d=
(a._data(this,"lastToggle"+c.guid)||0)%h;a._data(this,"lastToggle"+c.guid,d+1);b.preventDefault();return f[d].apply(this,arguments)||!1};for(j.guid=g;h<f.length;)f[h++].guid=g;return this.click(j)};a.fn.live=function(c,d,f){b("jQuery.fn.live() is deprecated");if(H)return H.apply(this,arguments);a(this.context).on(c,this.selector,d,f);return this};a.fn.die=function(c,d){b("jQuery.fn.die() is deprecated");if(O)return O.apply(this,arguments);a(this.context).off(c,this.selector||"**",d);return this};
a.event.trigger=function(a,c,d,f){!d&&!N.test(a)&&b("Global events are undocumented and deprecated");return I.call(this,a,c,d||document,f)};a.each("ajaxStart ajaxStop ajaxSend ajaxComplete ajaxError ajaxSuccess".split(" "),function(b,c){a.event.special[c]={setup:function(){var b=this;b!==document&&(a.event.add(document,c+"."+a.guid,function(){a.event.trigger(c,null,b,!0)}),a._data(this,c,a.guid++));return!1},teardown:function(){this!==document&&a.event.remove(document,c+"."+a._data(this,c));return!1}}})})(jQuery,
window);(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):a(jQuery)})(function(a){function c(a){return f.raw?a:encodeURIComponent(a)}function g(c,g){var p;if(f.raw)p=c;else a:{var m=c;0===m.indexOf('"')&&(m=m.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{m=decodeURIComponent(m.replace(b," "))}catch(q){p=void 0;break a}try{p=f.json?JSON.parse(m):m;break a}catch(t){}p=void 0}return a.isFunction(g)?g(p):p}var b=/\+/g,f=a.cookie=function(b,j,p){if(void 0!==j&&!a.isFunction(j)){p=
a.extend({},f.defaults,p);if("number"===typeof p.expires){var m=p.expires,q=p.expires=new Date;q.setDate(q.getDate()+m)}return document.cookie=[c(b),"=",c(f.json?JSON.stringify(j):String(j)),p.expires?"; expires="+p.expires.toUTCString():"",p.path?"; path="+p.path:"",p.domain?"; domain="+p.domain:"",p.secure?"; secure":""].join("")}for(var p=b?void 0:{},m=document.cookie?document.cookie.split("; "):[],q=0,t=m.length;q<t;q++){var n=m[q].split("="),h;h=n.shift();h=f.raw?h:decodeURIComponent(h);n=n.join("=");
if(b&&b===h){p=g(n,j);break}if(!b&&void 0!==(n=g(n)))p[h]=n}return p};f.defaults={};a.removeCookie=function(b,c){return void 0!==a.cookie(b)?(a.cookie(b,"",a.extend({},c,{expires:-1})),!0):!1}});$(function(){$(".maxheight").each(function(){$(this).contents().wrapAll("<div class='box_inner'></div>")});$(".maxheight4").each(function(){$(this).contents().wrapAll("<div class='box_inner'></div>")})});$(window).bind("resize",height_handler).bind("load",height_handler);function height_handler(){0<$(window).width()?$(".maxheight").equalHeights():$(".maxheight").css({height:"auto"});0<$(window).width()?$(".maxheight4").equalHeights():$(".maxheight4").css({height:"auto"})}
(function(a){a.fn.equalHeights=function(c,g){tallest=c?c:0;this.each(function(){a(">.box_inner",this).outerHeight()>tallest&&(tallest=a(">.box_inner",this).outerHeight())});g&&tallest>g&&(tallest=g);return this.each(function(){a(this).height(tallest)})}})(jQuery);(function(a){function c(b){if(b&&void 0===b.allowPageScroll&&(void 0!==b.swipe||void 0!==b.swipeStatus))b.allowPageScroll=q;void 0!==b.click&&void 0===b.tap&&(b.tap=b.click);b||(b={});b=a.extend({},a.fn.swipe.defaults,b);return this.each(function(){var c=a(this),d=c.data(Q);d||(d=new g(this,b),c.data(Q,d))})}function g(c,g){function N(c){if(!0!==T.data(Q+"_intouch")&&!(0<a(c.target).closest(g.excludedElements,T).length)){var h=c.originalEvent?c.originalEvent:c,n,l=I?h.touches[0]:h;ca=J;I?da=h.touches.length:
c.preventDefault();ma=0;Aa=fa=null;Da=Ja=ja=0;xa=1;za=0;for(var c=[],w=0;5>=w;w++)c.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});ha=c;c={};c[b]=F(b);c[f]=F(f);c[d]=F(d);c[j]=F(j);eb=c;Pa=Z=0;if(!I||da===g.fingers||g.fingers===A||ea()){if(E(0,l),Wa=la(),2==da&&(E(1,h.touches[1]),Ja=Da=qa(ha[0].start,ha[1].start)),g.swipeStatus||g.pinchStatus)n=V(h,ca)}else n=!1;if(!1===n)return ca=K,V(h,ca),n;k(!0)}}function L(c){var k,h,n,l=c.originalEvent?c.originalEvent:c;if(!(ca===v||ca===K||Ha())){var w,
r=ba(I?l.touches[0]:l);Ka=la();I&&(da=l.touches.length);ca=y;2==da&&(0==Ja?(E(1,l.touches[1]),Ja=Da=qa(ha[0].start,ha[1].start)):(ba(l.touches[1]),Da=qa(ha[0].end,ha[1].end),Aa=1>xa?m:p),xa=(1*(Da/Ja)).toFixed(2),za=Math.abs(Ja-Da));if(da===g.fingers||g.fingers===A||!I||ea()){k=r.start;h=r.end;k=Math.atan2(h.y-k.y,k.x-h.x);k=Math.round(180*k/Math.PI);0>k&&(k=360-Math.abs(k));k=fa=45>=k&&0<=k?b:360>=k&&315<=k?b:135<=k&&225>=k?f:45<k&&135>k?j:d;if(g.allowPageScroll===q||ea())c.preventDefault();else switch(h=
g.allowPageScroll===t,k){case b:(g.swipeLeft&&h||!h&&g.allowPageScroll!=S)&&c.preventDefault();break;case f:(g.swipeRight&&h||!h&&g.allowPageScroll!=S)&&c.preventDefault();break;case d:(g.swipeUp&&h||!h&&g.allowPageScroll!=u)&&c.preventDefault();break;case j:(g.swipeDown&&h||!h&&g.allowPageScroll!=u)&&c.preventDefault()}ma=Math.round(Math.sqrt(Math.pow(r.end.x-r.start.x,2)+Math.pow(r.end.y-r.start.y,2)));ja=Ka-Wa;c=fa;k=ma;k=Math.max(k,eb[c].distance);eb[c].distance=k;if(g.swipeStatus||g.pinchStatus)w=
V(l,ca);if(!g.triggerOnTouchEnd||g.triggerOnTouchLeave){c=!0;if(g.triggerOnTouchLeave){n=a(this);var F=n.offset(),c=F.left;k=F.left+n.outerWidth();h=F.top;n=F.top+n.outerHeight();c=r.end.x>c&&r.end.x<k&&r.end.y>h&&r.end.y<n}!g.triggerOnTouchEnd&&c?ca=U(y):g.triggerOnTouchLeave&&!c&&(ca=U(v));(ca==K||ca==v)&&V(l,ca)}}else ca=K,V(l,ca);!1===w&&(ca=K,V(l,ca))}}function P(a){var b=a.originalEvent;if(I&&0<b.touches.length)return Z=la(),Pa=event.touches.length+1,!0;Ha()&&(da=Pa);a.preventDefault();Ka=la();
ja=Ka-Wa;X()?(ca=K,V(b,ca)):g.triggerOnTouchEnd||!1==g.triggerOnTouchEnd&&ca===y?(ca=v,V(b,ca)):!g.triggerOnTouchEnd&&g.tap?(ca=v,M(b,ca,x)):ca===y&&(ca=K,V(b,ca));k(!1)}function r(){Da=Ja=Wa=Ka=da=0;xa=1;Pa=Z=0;k(!1)}function w(a){a=a.originalEvent;g.triggerOnTouchLeave&&(ca=U(v),V(a,ca))}function C(){T.unbind(Ia,N);T.unbind(l,r);T.unbind(mb,L);T.unbind(Ba,P);Ca&&T.unbind(Ca,w);k(!1)}function U(a){var b=a,c=g.maxTimeThreshold?ja>=g.maxTimeThreshold?!1:!0:!0,k=G(),d=X();!c||d?b=K:k&&a==y&&(!g.triggerOnTouchEnd||
g.triggerOnTouchLeave)?b=v:!k&&(a==v&&g.triggerOnTouchLeave)&&(b=K);return b}function V(a,b){var c=void 0;if(ia()&&ka()||ka())c=M(a,b,n);else if((ga()&&ea()||ea())&&!1!==c)c=M(a,b,h);R()&&g.doubleTap&&!1!==c?c=M(a,b,z):ja>g.longTapThreshold&&ma<B&&g.longTap&&!1!==c?c=M(a,b,D):(1===da||!I)&&(isNaN(ma)||0===ma)&&g.tap&&!1!==c&&(c=M(a,b,x));b===K&&r(a);b===v&&(I?0==a.touches.length&&r(a):r(a));return c}function M(c,k,l){var w=void 0;if(l==n){T.trigger("swipeStatus",[k,fa||null,ma||0,ja||0,da]);if(g.swipeStatus&&
(w=g.swipeStatus.call(T,c,k,fa||null,ma||0,ja||0,da),!1===w))return!1;if(k==v&&ia()){T.trigger("swipe",[fa,ma,ja,da]);if(g.swipe&&(w=g.swipe.call(T,c,fa,ma,ja,da),!1===w))return!1;switch(fa){case b:T.trigger("swipeLeft",[fa,ma,ja,da]);g.swipeLeft&&(w=g.swipeLeft.call(T,c,fa,ma,ja,da));break;case f:T.trigger("swipeRight",[fa,ma,ja,da]);g.swipeRight&&(w=g.swipeRight.call(T,c,fa,ma,ja,da));break;case d:T.trigger("swipeUp",[fa,ma,ja,da]);g.swipeUp&&(w=g.swipeUp.call(T,c,fa,ma,ja,da));break;case j:T.trigger("swipeDown",
[fa,ma,ja,da]),g.swipeDown&&(w=g.swipeDown.call(T,c,fa,ma,ja,da))}}}if(l==h){T.trigger("pinchStatus",[k,Aa||null,za||0,ja||0,da,xa]);if(g.pinchStatus&&(w=g.pinchStatus.call(T,c,k,Aa||null,za||0,ja||0,da,xa),!1===w))return!1;if(k==v&&ga())switch(Aa){case p:T.trigger("pinchIn",[Aa||null,za||0,ja||0,da,xa]);g.pinchIn&&(w=g.pinchIn.call(T,c,Aa||null,za||0,ja||0,da,xa));break;case m:T.trigger("pinchOut",[Aa||null,za||0,ja||0,da,xa]),g.pinchOut&&(w=g.pinchOut.call(T,c,Aa||null,za||0,ja||0,da,xa))}}if(l==
x){if(k===K||k===v)clearTimeout(sa),g.doubleTap&&!R()?(ra=la(),sa=setTimeout(a.proxy(function(){ra=null;T.trigger("tap",[c.target]);g.tap&&(w=g.tap.call(T,c,c.target))},this),g.doubleTapThreshold)):(ra=null,T.trigger("tap",[c.target]),g.tap&&(w=g.tap.call(T,c,c.target)))}else if(l==z){if(k===K||k===v)clearTimeout(sa),ra=null,T.trigger("doubletap",[c.target]),g.doubleTap&&(w=g.doubleTap.call(T,c,c.target))}else if(l==D&&(k===K||k===v))clearTimeout(sa),ra=null,T.trigger("longtap",[c.target]),g.longTap&&
(w=g.longTap.call(T,c,c.target));return w}function G(){var a=!0;null!==g.threshold&&(a=ma>=g.threshold);return a}function X(){var a=!1;null!==g.cancelThreshold&&null!==fa&&(a=eb[fa].distance-ma>=g.cancelThreshold);return a}function ga(){var a=da===g.fingers||g.fingers===A||!I,b=0!==ha[0].end.x,c;c=null!==g.pinchThreshold?za>=g.pinchThreshold:!0;return a&&b&&c}function ea(){return!(!g.pinchStatus&&!g.pinchIn&&!g.pinchOut)}function ia(){var a=g.maxTimeThreshold?ja>=g.maxTimeThreshold?!1:!0:!0,b=G(),
c=da===g.fingers||g.fingers===A||!I,k=0!==ha[0].end.x;return!X()&&k&&c&&b&&a}function ka(){return!(!g.swipe&&!g.swipeStatus&&!g.swipeLeft&&!g.swipeRight&&!g.swipeUp&&!g.swipeDown)}function R(){if(null==ra)return!1;var a=la();return!!g.doubleTap&&a-ra<=g.doubleTapThreshold}function Ha(){var a=!1;Z&&la()-Z<=g.fingerReleaseThreshold&&(a=!0);return a}function k(a){!0===a?(T.bind(mb,L),T.bind(Ba,P),Ca&&T.bind(Ca,w)):(T.unbind(mb,L,!1),T.unbind(Ba,P,!1),Ca&&T.unbind(Ca,w,!1));T.data(Q+"_intouch",!0===a)}
function E(a,b){ha[a].identifier=void 0!==b.identifier?b.identifier:0;ha[a].start.x=ha[a].end.x=b.pageX||b.clientX;ha[a].start.y=ha[a].end.y=b.pageY||b.clientY;return ha[a]}function ba(a){var b=void 0!==a.identifier?a.identifier:0;a:{for(var c=0;c<ha.length;c++)if(ha[c].identifier==b){b=ha[c];break a}b=void 0}b.end.x=a.pageX||a.clientX;b.end.y=a.pageY||a.clientY;return b}function F(a){return{direction:a,distance:0}}function qa(a,b){var c=Math.abs(a.x-b.x),k=Math.abs(a.y-b.y);return Math.round(Math.sqrt(c*
c+k*k))}function la(){return(new Date).getTime()}var wa=I||!g.fallbackToMouseEvents,Ia=wa?"touchstart":"mousedown",mb=wa?"touchmove":"mousemove",Ba=wa?"touchend":"mouseup",Ca=wa?null:"mouseleave",l="touchcancel",ma=0,fa=null,ja=0,Ja=0,Da=0,xa=1,za=0,Aa=0,eb=null,T=a(c),ca="start",da=0,ha=null,Wa=0,Ka=0,Z=0,Pa=0,ra=0,sa=null;try{T.bind(Ia,N),T.bind(l,r)}catch(wb){a.error("events not supported "+Ia+","+l+" on jQuery.swipe")}this.enable=function(){T.bind(Ia,N);T.bind(l,r);return T};this.disable=function(){C();
return T};this.destroy=function(){C();T.data(Q,null);return T};this.option=function(b,c){if(void 0!==g[b]){if(void 0===c)return g[b];g[b]=c}else a.error("Option "+b+" does not exist on jQuery.swipe.options")}}var b="left",f="right",d="up",j="down",p="in",m="out",q="none",t="auto",n="swipe",h="pinch",x="tap",z="doubletap",D="longtap",S="horizontal",u="vertical",A="all",B=10,J="start",y="move",v="end",K="cancel",I="ontouchstart"in window,Q="TouchSwipe";a.fn.swipe=function(b){var d=a(this),f=d.data(Q);
if(f&&"string"===typeof b){if(f[b])return f[b].apply(this,Array.prototype.slice.call(arguments,1));a.error("Method "+b+" does not exist on jQuery.swipe")}else if(!f&&("object"===typeof b||!b))return c.apply(this,arguments);return d};a.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,
pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"button, input, select, textarea, a, .noSwipe"};a.fn.swipe.phases={PHASE_START:J,PHASE_MOVE:y,PHASE_END:v,PHASE_CANCEL:K};a.fn.swipe.directions={LEFT:b,RIGHT:f,UP:d,DOWN:j,IN:p,OUT:m};a.fn.swipe.pageScroll={NONE:q,HORIZONTAL:S,VERTICAL:u,AUTO:t};a.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:A}})(jQuery);jQuery.easing.jswing=jQuery.easing.swing;
jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,c,g,b,f){return jQuery.easing[jQuery.easing.def](a,c,g,b,f)},easeInQuad:function(a,c,g,b,f){return b*(c/=f)*c+g},easeOutQuad:function(a,c,g,b,f){return-b*(c/=f)*(c-2)+g},easeInOutQuad:function(a,c,g,b,f){return 1>(c/=f/2)?b/2*c*c+g:-b/2*(--c*(c-2)-1)+g},easeInCubic:function(a,c,g,b,f){return b*(c/=f)*c*c+g},easeOutCubic:function(a,c,g,b,f){return b*((c=c/f-1)*c*c+1)+g},easeInOutCubic:function(a,c,g,b,f){return 1>(c/=f/2)?b/2*c*c*c+g:
b/2*((c-=2)*c*c+2)+g},easeInQuart:function(a,c,g,b,f){return b*(c/=f)*c*c*c+g},easeOutQuart:function(a,c,g,b,f){return-b*((c=c/f-1)*c*c*c-1)+g},easeInOutQuart:function(a,c,g,b,f){return 1>(c/=f/2)?b/2*c*c*c*c+g:-b/2*((c-=2)*c*c*c-2)+g},easeInQuint:function(a,c,g,b,f){return b*(c/=f)*c*c*c*c+g},easeOutQuint:function(a,c,g,b,f){return b*((c=c/f-1)*c*c*c*c+1)+g},easeInOutQuint:function(a,c,g,b,f){return 1>(c/=f/2)?b/2*c*c*c*c*c+g:b/2*((c-=2)*c*c*c*c+2)+g},easeInSine:function(a,c,g,b,f){return-b*Math.cos(c/
f*(Math.PI/2))+b+g},easeOutSine:function(a,c,g,b,f){return b*Math.sin(c/f*(Math.PI/2))+g},easeInOutSine:function(a,c,g,b,f){return-b/2*(Math.cos(Math.PI*c/f)-1)+g},easeInExpo:function(a,c,g,b,f){return 0==c?g:b*Math.pow(2,10*(c/f-1))+g},easeOutExpo:function(a,c,g,b,f){return c==f?g+b:b*(-Math.pow(2,-10*c/f)+1)+g},easeInOutExpo:function(a,c,g,b,f){return 0==c?g:c==f?g+b:1>(c/=f/2)?b/2*Math.pow(2,10*(c-1))+g:b/2*(-Math.pow(2,-10*--c)+2)+g},easeInCirc:function(a,c,g,b,f){return-b*(Math.sqrt(1-(c/=f)*
c)-1)+g},easeOutCirc:function(a,c,g,b,f){return b*Math.sqrt(1-(c=c/f-1)*c)+g},easeInOutCirc:function(a,c,g,b,f){return 1>(c/=f/2)?-b/2*(Math.sqrt(1-c*c)-1)+g:b/2*(Math.sqrt(1-(c-=2)*c)+1)+g},easeInElastic:function(a,c,g,b,f){var a=1.70158,d=0,j=b;if(0==c)return g;if(1==(c/=f))return g+b;d||(d=0.3*f);j<Math.abs(b)?(j=b,a=d/4):a=d/(2*Math.PI)*Math.asin(b/j);return-(j*Math.pow(2,10*(c-=1))*Math.sin((c*f-a)*2*Math.PI/d))+g},easeOutElastic:function(a,c,g,b,f){var a=1.70158,d=0,j=b;if(0==c)return g;if(1==
(c/=f))return g+b;d||(d=0.3*f);j<Math.abs(b)?(j=b,a=d/4):a=d/(2*Math.PI)*Math.asin(b/j);return j*Math.pow(2,-10*c)*Math.sin((c*f-a)*2*Math.PI/d)+b+g},easeInOutElastic:function(a,c,g,b,f){var a=1.70158,d=0,j=b;if(0==c)return g;if(2==(c/=f/2))return g+b;d||(d=f*0.3*1.5);j<Math.abs(b)?(j=b,a=d/4):a=d/(2*Math.PI)*Math.asin(b/j);return 1>c?-0.5*j*Math.pow(2,10*(c-=1))*Math.sin((c*f-a)*2*Math.PI/d)+g:0.5*j*Math.pow(2,-10*(c-=1))*Math.sin((c*f-a)*2*Math.PI/d)+b+g},easeInBack:function(a,c,g,b,f,d){void 0==
d&&(d=1.70158);return b*(c/=f)*c*((d+1)*c-d)+g},easeOutBack:function(a,c,g,b,f,d){void 0==d&&(d=1.70158);return b*((c=c/f-1)*c*((d+1)*c+d)+1)+g},easeInOutBack:function(a,c,g,b,f,d){void 0==d&&(d=1.70158);return 1>(c/=f/2)?b/2*c*c*(((d*=1.525)+1)*c-d)+g:b/2*((c-=2)*c*(((d*=1.525)+1)*c+d)+2)+g},easeInBounce:function(a,c,g,b,f){return b-jQuery.easing.easeOutBounce(a,f-c,0,b,f)+g},easeOutBounce:function(a,c,g,b,f){return(c/=f)<1/2.75?b*7.5625*c*c+g:c<2/2.75?b*(7.5625*(c-=1.5/2.75)*c+0.75)+g:c<2.5/2.75?
b*(7.5625*(c-=2.25/2.75)*c+0.9375)+g:b*(7.5625*(c-=2.625/2.75)*c+0.984375)+g},easeInOutBounce:function(a,c,g,b,f){return c<f/2?0.5*jQuery.easing.easeInBounce(a,2*c,0,b,f)+g:0.5*jQuery.easing.easeOutBounce(a,2*c-f,0,b,f)+0.5*b+g}});(function(a){a.flexslider=function(c,g){var b=a(c);b.vars=a.extend({},a.flexslider.defaults,g);var f=b.vars.namespace,d=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,j=("ontouchstart"in window||d||window.DocumentTouch&&document instanceof DocumentTouch)&&b.vars.touch,p="",m,q="vertical"===b.vars.direction,t=b.vars.reverse,n=0<b.vars.itemWidth,h="fade"===b.vars.animation,x=""!==b.vars.asNavFor,z={};a.data(c,"flexslider",b);z={init:function(){b.animating=!1;b.currentSlide=parseInt(b.vars.startAt?
b.vars.startAt:0,10);isNaN(b.currentSlide)&&(b.currentSlide=0);b.animatingTo=b.currentSlide;b.atEnd=0===b.currentSlide||b.currentSlide===b.last;b.containerSelector=b.vars.selector.substr(0,b.vars.selector.search(" "));b.slides=a(b.vars.selector,b);b.container=a(b.containerSelector,b);b.count=b.slides.length;b.syncExists=0<a(b.vars.sync).length;"slide"===b.vars.animation&&(b.vars.animation="swing");b.prop=q?"top":"marginLeft";b.args={};b.manualPause=!1;b.stopped=!1;b.started=!1;b.startTimeout=null;
var c;if(c=!b.vars.video)if(c=!h)if(c=b.vars.useCSS)a:{c=document.createElement("div");var d=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"],f;for(f in d)if(void 0!==c.style[d[f]]){c=(b.pfx=d[f].replace("Perspective","").toLowerCase(),b.prop="-"+b.pfx+"-transform",!0);break a}c=!1}b.transitions=c;""!==b.vars.controlsContainer&&(b.controlsContainer=0<a(b.vars.controlsContainer).length&&a(b.vars.controlsContainer));""!==b.vars.manualControls&&(b.manualControls=
0<a(b.vars.manualControls).length&&a(b.vars.manualControls));b.vars.randomize&&(b.slides.sort(function(){return Math.round(Math.random())-0.5}),b.container.empty().append(b.slides));b.doMath();b.setup("init");b.vars.controlNav&&z.controlNav.setup();b.vars.directionNav&&z.directionNav.setup();b.vars.keyboard&&(1===a(b.containerSelector).length||b.vars.multipleKeyboard)&&a(document).bind("keyup",function(a){a=a.keyCode;b.animating||39!==a&&37!==a||(a=39===a?b.getTarget("next"):37===a?b.getTarget("prev"):
!1,b.flexAnimate(a,b.vars.pauseOnAction))});b.vars.mousewheel&&b.bind("mousewheel",function(a,c){a.preventDefault();a=0>c?b.getTarget("next"):b.getTarget("prev");b.flexAnimate(a,b.vars.pauseOnAction)});b.vars.pausePlay&&z.pausePlay.setup();b.vars.slideshow&&b.vars.pauseInvisible&&z.pauseInvisible.init();b.vars.slideshow&&(b.vars.pauseOnHover&&b.hover(function(){b.manualPlay||b.manualPause||b.pause()},function(){b.manualPause||b.manualPlay||b.stopped||b.play()}),b.vars.pauseInvisible&&z.pauseInvisible.isHidden()||
(0<b.vars.initDelay?b.startTimeout=setTimeout(b.play,b.vars.initDelay):b.play()));x&&z.asNav.setup();j&&b.vars.touch&&z.touch();(!h||h&&b.vars.smoothHeight)&&a(window).bind("resize orientationchange focus",z.resize);b.find("img").attr("draggable","false");setTimeout(function(){b.vars.start(b)},200)},asNav:{setup:function(){b.asNav=!0;b.animatingTo=Math.floor(b.currentSlide/b.move);b.currentItem=b.currentSlide;b.slides.removeClass(f+"active-slide").eq(b.currentItem).addClass(f+"active-slide");if(d)c._slider=
b,b.slides.each(function(){this._gesture=new MSGesture;this._gesture.target=this;this.addEventListener("MSPointerDown",function(a){a.preventDefault();a.currentTarget._gesture&&a.currentTarget._gesture.addPointer(a.pointerId)},!1);this.addEventListener("MSGestureTap",function(c){c.preventDefault();var c=a(this),d=c.index();a(b.vars.asNavFor).data("flexslider").animating||c.hasClass("active")||(b.direction=b.currentItem<d?"next":"prev",b.flexAnimate(d,b.vars.pauseOnAction,!1,!0,!0))})});else b.slides.on("click touchend MSPointerUp",
function(c){c.preventDefault();var c=a(this),d=c.index();0>=c.offset().left-a(b).scrollLeft()&&c.hasClass(f+"active-slide")?b.flexAnimate(b.getTarget("prev"),!0):a(b.vars.asNavFor).data("flexslider").animating||c.hasClass(f+"active-slide")||(b.direction=b.currentItem<d?"next":"prev",b.flexAnimate(d,b.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){b.manualControls?z.controlNav.setupManual():z.controlNav.setupPaging()},setupPaging:function(){var c=1,d,g;b.controlNavScaffold=a('<ol class="'+
f+"control-nav "+f+("thumbnails"===b.vars.controlNav?"control-thumbs":"control-paging")+'"></ol>');if(1<b.pagingCount)for(var h=0;h<b.pagingCount;h++)g=b.slides.eq(h),d="thumbnails"===b.vars.controlNav?'<img src="'+g.attr("data-thumb")+'"/>':"<a>"+c+"</a>","thumbnails"===b.vars.controlNav&&!0===b.vars.thumbCaptions&&(g=g.attr("data-thumbcaption"),""!=g&&void 0!=g&&(d+='<span class="'+f+'caption">'+g+"</span>")),b.controlNavScaffold.append("<li>"+d+"</li>"),c++;b.controlsContainer?a(b.controlsContainer).append(b.controlNavScaffold):
b.append(b.controlNavScaffold);z.controlNav.set();z.controlNav.active();b.controlNavScaffold.delegate("a, img","click touchend MSPointerUp",function(c){c.preventDefault();if(""===p||p===c.type){var d=a(this),g=b.controlNav.index(d);d.hasClass(f+"active")||(b.direction=g>b.currentSlide?"next":"prev",b.flexAnimate(g,b.vars.pauseOnAction))}""===p&&(p=c.type);z.setToClearWatchedEvent()})},setupManual:function(){b.controlNav=b.manualControls;z.controlNav.active();b.controlNav.bind("click touchend MSPointerUp",
function(c){c.preventDefault();if(""===p||p===c.type){var d=a(this),g=b.controlNav.index(d);d.hasClass(f+"active")||(g>b.currentSlide?b.direction="next":b.direction="prev",b.flexAnimate(g,b.vars.pauseOnAction))}""===p&&(p=c.type);z.setToClearWatchedEvent()})},set:function(){b.controlNav=a("."+f+"control-nav li "+("thumbnails"===b.vars.controlNav?"img":"a"),b.controlsContainer?b.controlsContainer:b)},active:function(){b.controlNav.removeClass(f+"active").eq(b.animatingTo).addClass(f+"active")},update:function(c,
d){1<b.pagingCount&&"add"===c?b.controlNavScaffold.append(a("<li><a>"+b.count+"</a></li>")):1===b.pagingCount?b.controlNavScaffold.find("li").remove():b.controlNav.eq(d).closest("li").remove();z.controlNav.set();1<b.pagingCount&&b.pagingCount!==b.controlNav.length?b.update(d,c):z.controlNav.active()}},directionNav:{setup:function(){var c=a('<ul class="'+f+'direction-nav"><li><a class="'+f+'prev" href="#">'+b.vars.prevText+'</a></li><li><a class="'+f+'next" href="#">'+b.vars.nextText+"</a></li></ul>");
b.controlsContainer?(a(b.controlsContainer).append(c),b.directionNav=a("."+f+"direction-nav li a",b.controlsContainer)):(b.append(c),b.directionNav=a("."+f+"direction-nav li a",b));z.directionNav.update();b.directionNav.bind("click touchend MSPointerUp",function(c){c.preventDefault();var d;if(""===p||p===c.type)d=a(this).hasClass(f+"next")?b.getTarget("next"):b.getTarget("prev"),b.flexAnimate(d,b.vars.pauseOnAction);""===p&&(p=c.type);z.setToClearWatchedEvent()})},update:function(){var a=f+"disabled";
1===b.pagingCount?b.directionNav.addClass(a).attr("tabindex","-1"):b.vars.animationLoop?b.directionNav.removeClass(a).removeAttr("tabindex"):0===b.animatingTo?b.directionNav.removeClass(a).filter("."+f+"prev").addClass(a).attr("tabindex","-1"):b.animatingTo===b.last?b.directionNav.removeClass(a).filter("."+f+"next").addClass(a).attr("tabindex","-1"):b.directionNav.removeClass(a).removeAttr("tabindex")}},pausePlay:{setup:function(){var c=a('<div class="'+f+'pauseplay"><a></a></div>');b.controlsContainer?
(b.controlsContainer.append(c),b.pausePlay=a("."+f+"pauseplay a",b.controlsContainer)):(b.append(c),b.pausePlay=a("."+f+"pauseplay a",b));z.pausePlay.update(b.vars.slideshow?f+"pause":f+"play");b.pausePlay.bind("click touchend MSPointerUp",function(c){c.preventDefault();if(""===p||p===c.type)a(this).hasClass(f+"pause")?(b.manualPause=!0,b.manualPlay=!1,b.pause()):(b.manualPause=!1,b.manualPlay=!0,b.play());""===p&&(p=c.type);z.setToClearWatchedEvent()})},update:function(a){"play"===a?b.pausePlay.removeClass(f+
"pause").addClass(f+"play").html(b.vars.playText):b.pausePlay.removeClass(f+"play").addClass(f+"pause").html(b.vars.pauseText)}},touch:function(){var a,f,g,j,m,p,x=!1,v=0,z=0,I=0;if(d){c.style.msTouchAction="none";c._gesture=new MSGesture;c._gesture.target=c;c.addEventListener("MSPointerDown",Q,!1);c._slider=b;c.addEventListener("MSGestureChange",H,!1);c.addEventListener("MSGestureEnd",O,!1);var Q=function(a){a.stopPropagation();b.animating?a.preventDefault():(b.pause(),c._gesture.addPointer(a.pointerId),
I=0,j=q?b.h:b.w,p=Number(new Date),g=n&&t&&b.animatingTo===b.last?0:n&&t?b.limit-(b.itemW+b.vars.itemMargin)*b.move*b.animatingTo:n&&b.currentSlide===b.last?b.limit:n?(b.itemW+b.vars.itemMargin)*b.move*b.currentSlide:t?(b.last-b.currentSlide+b.cloneOffset)*j:(b.currentSlide+b.cloneOffset)*j)},H=function(a){a.stopPropagation();var b=a.target._slider;if(b){var d=-a.translationX,f=-a.translationY;m=I+=q?f:d;x=q?Math.abs(I)<Math.abs(-d):Math.abs(I)<Math.abs(-f);if(a.detail===a.MSGESTURE_FLAG_INERTIA)setImmediate(function(){c._gesture.stop()});
else if(!x||500<Number(new Date)-p)a.preventDefault(),!h&&b.transitions&&(b.vars.animationLoop||(m=I/(0===b.currentSlide&&0>I||b.currentSlide===b.last&&0<I?Math.abs(I)/j+2:1)),b.setProps(g+m,"setTouch"))}},O=function(b){b.stopPropagation();if(b=b.target._slider){if(b.animatingTo===b.currentSlide&&!x&&null!==m){var c=t?-m:m,d=0<c?b.getTarget("next"):b.getTarget("prev");b.canAdvance(d)&&(550>Number(new Date)-p&&50<Math.abs(c)||Math.abs(c)>j/2)?b.flexAnimate(d,b.vars.pauseOnAction):h||b.flexAnimate(b.currentSlide,
b.vars.pauseOnAction,!0)}g=m=f=a=null;I=0}}}else{c.addEventListener("touchstart",N,!1);var N=function(d){if(b.animating)d.preventDefault();else if(window.navigator.msPointerEnabled||1===d.touches.length)b.pause(),j=q?b.h:b.w,p=Number(new Date),v=d.touches[0].pageX,z=d.touches[0].pageY,g=n&&t&&b.animatingTo===b.last?0:n&&t?b.limit-(b.itemW+b.vars.itemMargin)*b.move*b.animatingTo:n&&b.currentSlide===b.last?b.limit:n?(b.itemW+b.vars.itemMargin)*b.move*b.currentSlide:t?(b.last-b.currentSlide+b.cloneOffset)*
j:(b.currentSlide+b.cloneOffset)*j,a=q?z:v,f=q?v:z,c.addEventListener("touchmove",L,!1),c.addEventListener("touchend",P,!1)},L=function(c){v=c.touches[0].pageX;z=c.touches[0].pageY;m=q?a-z:a-v;x=q?Math.abs(m)<Math.abs(v-f):Math.abs(m)<Math.abs(z-f);if(!x||500<Number(new Date)-p)c.preventDefault(),!h&&b.transitions&&(b.vars.animationLoop||(m/=0===b.currentSlide&&0>m||b.currentSlide===b.last&&0<m?Math.abs(m)/j+2:1),b.setProps(g+m,"setTouch"))},P=function(d){c.removeEventListener("touchmove",L,!1);if(b.animatingTo===
b.currentSlide&&!x&&null!==m){var d=t?-m:m,n=0<d?b.getTarget("next"):b.getTarget("prev");b.canAdvance(n)&&(550>Number(new Date)-p&&50<Math.abs(d)||Math.abs(d)>j/2)?b.flexAnimate(n,b.vars.pauseOnAction):h||b.flexAnimate(b.currentSlide,b.vars.pauseOnAction,!0)}c.removeEventListener("touchend",P,!1);g=m=f=a=null}}},resize:function(){!b.animating&&b.is(":visible")&&(n||b.doMath(),h?z.smoothHeight():n?(b.slides.width(b.computedW),b.update(b.pagingCount),b.setProps()):q?(b.viewport.height(b.h),b.setProps(b.h,
"setTotal")):(b.vars.smoothHeight&&z.smoothHeight(),b.newSlides.width(b.computedW),b.setProps(b.computedW,"setTotal")))},smoothHeight:function(a){if(!q||h){var c=h?b:b.viewport;a?c.animate({height:b.slides.eq(b.animatingTo).height()},a):c.height(b.slides.eq(b.animatingTo).height())}},sync:function(c){var d=a(b.vars.sync).data("flexslider"),f=b.animatingTo;switch(c){case "animate":d.flexAnimate(f,b.vars.pauseOnAction,!1,!0);break;case "play":d.playing||d.asNav||d.play();break;case "pause":d.pause()}},
uniqueID:function(b){b.find("[id]").each(function(){var b=a(this);b.attr("id",b.attr("id")+"_clone")});return b},pauseInvisible:{visProp:null,init:function(){var a=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var c=0;c<a.length;c++)a[c]+"Hidden"in document&&(z.pauseInvisible.visProp=a[c]+"Hidden");z.pauseInvisible.visProp&&(a=z.pauseInvisible.visProp.replace(/[H|h]idden/,"")+"visibilitychange",document.addEventListener(a,function(){z.pauseInvisible.isHidden()?b.startTimeout?
clearTimeout(b.startTimeout):b.pause():b.started?b.play():0<b.vars.initDelay?setTimeout(b.play,b.vars.initDelay):b.play()}))},isHidden:function(){return document[z.pauseInvisible.visProp]||!1}},setToClearWatchedEvent:function(){clearTimeout(m);m=setTimeout(function(){p=""},3E3)}};b.flexAnimate=function(c,d,g,m,p){b.vars.animationLoop||c===b.currentSlide||(b.direction=c>b.currentSlide?"next":"prev");x&&1===b.pagingCount&&(b.direction=b.currentItem<c?"next":"prev");if(!b.animating&&(b.canAdvance(c,
p)||g)&&b.is(":visible")){if(x&&m)if(g=a(b.vars.asNavFor).data("flexslider"),b.atEnd=0===c||c===b.count-1,g.flexAnimate(c,!0,!1,!0,p),b.direction=b.currentItem<c?"next":"prev",g.direction=b.direction,Math.ceil((c+1)/b.visible)-1!==b.currentSlide&&0!==c)b.currentItem=c,b.slides.removeClass(f+"active-slide").eq(c).addClass(f+"active-slide"),c=Math.floor(c/b.visible);else return b.currentItem=c,b.slides.removeClass(f+"active-slide").eq(c).addClass(f+"active-slide"),!1;b.animating=!0;b.animatingTo=c;
d&&b.pause();b.vars.before(b);b.syncExists&&!p&&z.sync("animate");b.vars.controlNav&&z.controlNav.active();n||b.slides.removeClass(f+"active-slide").eq(c).addClass(f+"active-slide");b.atEnd=0===c||c===b.last;b.vars.directionNav&&z.directionNav.update();c===b.last&&(b.vars.end(b),b.vars.animationLoop||b.pause());if(h)j?(b.slides.eq(b.currentSlide).css({opacity:0,zIndex:1}),b.slides.eq(c).css({opacity:1,zIndex:2}),b.wrapup(J)):(b.slides.eq(b.currentSlide).css({zIndex:1}).animate({opacity:0},b.vars.animationSpeed,
b.vars.easing),b.slides.eq(c).css({zIndex:2}).animate({opacity:1},b.vars.animationSpeed,b.vars.easing,b.wrapup));else{var J=q?b.slides.filter(":first").height():b.computedW;n?(c=b.vars.itemMargin,c=(b.itemW+c)*b.move*b.animatingTo,c=c>b.limit&&1!==b.visible?b.limit:c):c=0===b.currentSlide&&c===b.count-1&&b.vars.animationLoop&&"next"!==b.direction?t?(b.count+b.cloneOffset)*J:0:b.currentSlide===b.last&&0===c&&b.vars.animationLoop&&"prev"!==b.direction?t?0:(b.count+1)*J:t?(b.count-1-c+b.cloneOffset)*
J:(c+b.cloneOffset)*J;b.setProps(c,"",b.vars.animationSpeed);b.transitions?(b.vars.animationLoop&&b.atEnd||(b.animating=!1,b.currentSlide=b.animatingTo),b.container.unbind("webkitTransitionEnd transitionend"),b.container.bind("webkitTransitionEnd transitionend",function(){b.wrapup(J)})):b.container.animate(b.args,b.vars.animationSpeed,b.vars.easing,function(){b.wrapup(J)})}b.vars.smoothHeight&&z.smoothHeight(b.vars.animationSpeed)}};b.wrapup=function(a){h||n||(0===b.currentSlide&&b.animatingTo===
b.last&&b.vars.animationLoop?b.setProps(a,"jumpEnd"):b.currentSlide===b.last&&0===b.animatingTo&&b.vars.animationLoop&&b.setProps(a,"jumpStart"));b.animating=!1;b.currentSlide=b.animatingTo;b.vars.after(b)};b.animateSlides=function(){b.animating||b.flexAnimate(b.getTarget("next"))};b.pause=function(){clearInterval(b.animatedSlides);b.animatedSlides=null;b.playing=!1;b.vars.pausePlay&&z.pausePlay.update("play");b.syncExists&&z.sync("pause")};b.play=function(){b.playing&&clearInterval(b.animatedSlides);
b.animatedSlides=b.animatedSlides||setInterval(b.animateSlides,b.vars.slideshowSpeed);b.started=b.playing=!0;b.vars.pausePlay&&z.pausePlay.update("pause");b.syncExists&&z.sync("play")};b.stop=function(){b.pause();b.stopped=!0};b.canAdvance=function(a,c){var d=x?b.pagingCount-1:b.last;return c?!0:x&&b.currentItem===b.count-1&&0===a&&"prev"===b.direction?!0:x&&0===b.currentItem&&a===b.pagingCount-1&&"next"!==b.direction?!1:a!==b.currentSlide||x?b.vars.animationLoop?!0:b.atEnd&&0===b.currentSlide&&a===
d&&"next"!==b.direction?!1:b.atEnd&&b.currentSlide===d&&0===a&&"next"===b.direction?!1:!0:!1};b.getTarget=function(a){b.direction=a;return"next"===a?b.currentSlide===b.last?0:b.currentSlide+1:0===b.currentSlide?b.last:b.currentSlide-1};b.setProps=function(a,c,d){var f,g=a?a:(b.itemW+b.vars.itemMargin)*b.move*b.animatingTo;f=-1*function(){if(n)return"setTouch"===c?a:t&&b.animatingTo===b.last?0:t?b.limit-(b.itemW+b.vars.itemMargin)*b.move*b.animatingTo:b.animatingTo===b.last?b.limit:g;switch(c){case "setTotal":return t?
(b.count-1-b.currentSlide+b.cloneOffset)*a:(b.currentSlide+b.cloneOffset)*a;case "setTouch":return a;case "jumpEnd":return t?a:b.count*a;case "jumpStart":return t?b.count*a:a;default:return a}}()+"px";b.transitions&&(f=q?"translate3d(0,"+f+",0)":"translate3d("+f+",0,0)",d=void 0!==d?d/1E3+"s":"0s",b.container.css("-"+b.pfx+"-transition-duration",d),b.container.css("transition-duration",d));b.args[b.prop]=f;(b.transitions||void 0===d)&&b.container.css(b.args);b.container.css("transform",f)};b.setup=
function(c){if(h)b.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===c&&(j?b.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+b.vars.animationSpeed/1E3+"s ease",zIndex:1}).eq(b.currentSlide).css({opacity:1,zIndex:2}):b.slides.css({opacity:0,display:"block",zIndex:1}).eq(b.currentSlide).css({zIndex:2}).animate({opacity:1},b.vars.animationSpeed,b.vars.easing)),b.vars.smoothHeight&&z.smoothHeight();else{var d,g;"init"===c&&(b.viewport=a('<div class="'+
f+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(b).append(b.container),b.cloneCount=0,b.cloneOffset=0,t&&(g=a.makeArray(b.slides).reverse(),b.slides=a(g),b.container.empty().append(b.slides)));b.vars.animationLoop&&!n&&(b.cloneCount=2,b.cloneOffset=1,"init"!==c&&b.container.find(".clone").remove(),z.uniqueID(b.slides.first().clone().addClass("clone").attr("aria-hidden","true")).appendTo(b.container),z.uniqueID(b.slides.last().clone().addClass("clone").attr("aria-hidden",
"true")).prependTo(b.container));b.newSlides=a(b.vars.selector,b);d=t?b.count-1-b.currentSlide+b.cloneOffset:b.currentSlide+b.cloneOffset;q&&!n?(b.container.height(200*(b.count+b.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){b.newSlides.css({display:"block"});b.doMath();b.viewport.height(b.h);b.setProps(d*b.h,"init")},"init"===c?100:0)):(b.container.width(200*(b.count+b.cloneCount)+"%"),b.setProps(d*b.computedW,"init"),setTimeout(function(){b.doMath();b.newSlides.css({width:b.computedW,
"float":"left",display:"block"});b.vars.smoothHeight&&z.smoothHeight()},"init"===c?100:0))}n||b.slides.removeClass(f+"active-slide").eq(b.currentSlide).addClass(f+"active-slide");b.vars.init(b)};b.doMath=function(){var a=b.slides.first(),c=b.vars.itemMargin,d=b.vars.minItems,f=b.vars.maxItems;b.w=void 0===b.viewport?b.width():b.viewport.width();b.h=a.height();b.boxPadding=a.outerWidth()-a.width();n?(b.itemT=b.vars.itemWidth+c,b.minW=d?d*b.itemT:b.w,b.maxW=f?f*b.itemT-c:b.w,b.itemW=b.minW>b.w?(b.w-
c*(d-1))/d:b.maxW<b.w?(b.w-c*(f-1))/f:b.vars.itemWidth>b.w?b.w:b.vars.itemWidth,b.visible=Math.floor(b.w/b.itemW),b.move=0<b.vars.move&&b.vars.move<b.visible?b.vars.move:b.visible,b.pagingCount=Math.ceil((b.count-b.visible)/b.move+1),b.last=b.pagingCount-1,b.limit=1===b.pagingCount?0:b.vars.itemWidth>b.w?b.itemW*(b.count-1)+c*(b.count-1):(b.itemW+c)*b.count-b.w-c):(b.itemW=b.w,b.pagingCount=b.count,b.last=b.count-1);b.computedW=b.itemW-b.boxPadding};b.update=function(a,c){b.doMath();n||(a<b.currentSlide?
b.currentSlide+=1:a<=b.currentSlide&&0!==a&&(b.currentSlide-=1),b.animatingTo=b.currentSlide);if(b.vars.controlNav&&!b.manualControls)if("add"===c&&!n||b.pagingCount>b.controlNav.length)z.controlNav.update("add");else if("remove"===c&&!n||b.pagingCount<b.controlNav.length)n&&b.currentSlide>b.last&&(b.currentSlide-=1,b.animatingTo-=1),z.controlNav.update("remove",b.last);b.vars.directionNav&&z.directionNav.update()};b.addSlide=function(c,d){var f=a(c);b.count+=1;b.last=b.count-1;q&&t?void 0!==d?b.slides.eq(b.count-
d).after(f):b.container.prepend(f):void 0!==d?b.slides.eq(d).before(f):b.container.append(f);b.update(d,"add");b.slides=a(b.vars.selector+":not(.clone)",b);b.setup();b.vars.added(b)};b.removeSlide=function(c){var d=isNaN(c)?b.slides.index(a(c)):c;b.count-=1;b.last=b.count-1;isNaN(c)?a(c,b.slides).remove():q&&t?b.slides.eq(b.last).remove():b.slides.eq(c).remove();b.doMath();b.update(d,"remove");b.slides=a(b.vars.selector+":not(.clone)",b);b.setup();b.vars.removed(b)};z.init()};a(window).blur(function(){focused=
!1}).focus(function(){focused=!0});a.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7E3,animationSpeed:600,initDelay:0,randomize:!1,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,
pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}};a.fn.flexslider=function(c){void 0===c&&(c={});if("object"===typeof c)return this.each(function(){var b=a(this),f=b.find(c.selector?c.selector:".slides > li");1===f.length&&!0===c.allowOneSlide||0===f.length?
(f.fadeIn(400),c.start&&c.start(b)):void 0===b.data("flexslider")&&new a.flexslider(this,c)});var g=a(this).data("flexslider");switch(c){case "play":g.play();break;case "pause":g.pause();break;case "stop":g.stop();break;case "next":g.flexAnimate(g.getTarget("next"),!0);break;case "prev":case "previous":g.flexAnimate(g.getTarget("prev"),!0);break;default:"number"===typeof c&&g.flexAnimate(c,!0)}}})(jQuery);(function(){var a,c,g,b,f={}.hasOwnProperty,d=function(){this.options_index=0;this.parsed=[]};d.prototype.add_node=function(a){return"OPTGROUP"===a.nodeName.toUpperCase()?this.add_group(a):this.add_option(a)};d.prototype.add_group=function(a){var b,c,d,f,g,j;b=this.parsed.length;this.parsed.push({array_index:b,group:!0,label:this.escapeExpression(a.label),children:0,disabled:a.disabled});g=a.childNodes;j=[];d=0;for(f=g.length;d<f;d++)c=g[d],j.push(this.add_option(c,b,a.disabled));return j};d.prototype.add_option=
function(a,b,c){if("OPTION"===a.nodeName.toUpperCase())return""!==a.text?(null!=b&&(this.parsed[b].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:a.value,text:a.text,html:a.innerHTML,selected:a.selected,disabled:!0===c?c:a.disabled,group_array_index:b,classes:a.className,style:a.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1};d.prototype.escapeExpression=function(a){var b;
if(null==a||!1===a)return"";if(!/[\&\<\>\"\'\`]/.test(a))return a;b={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return a.replace(/&(?!\w+;)|[\<\>\"\'\`]/g,function(a){return b[a]||"&amp;"})};d.select_to_array=function(a){var b,c,f,g;b=new d;g=a.childNodes;c=0;for(f=g.length;c<f;c++)a=g[c],b.add_node(a);return b.parsed};var j=function(a,b){this.form_field=a;this.options=null!=b?b:{};j.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),
this.setup(),this.set_up_html(),this.register_observers())};j.prototype.set_default_values=function(){var a=this;this.click_test_action=function(b){return a.test_active_click(b)};this.activate_action=function(b){return a.activate_field(b)};this.results_showing=this.mouse_on_container=this.active_field=!1;this.result_single_selected=this.result_highlighted=null;this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?
this.options.allow_single_deselect:!1;this.disable_search_threshold=this.options.disable_search_threshold||0;this.disable_search=this.options.disable_search||!1;this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0;this.group_search=null!=this.options.group_search?this.options.group_search:!0;this.search_contains=this.options.search_contains||!1;this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:
!0;this.max_selected_options=this.options.max_selected_options||Infinity;this.inherit_select_classes=this.options.inherit_select_classes||!1;this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0;return this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0};j.prototype.set_default_text=function(){this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):
this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||j.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||j.default_single_text;return this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||j.default_no_result_text};j.prototype.mouse_enter=function(){return this.mouse_on_container=!0};j.prototype.mouse_leave=function(){return this.mouse_on_container=!1};j.prototype.input_focus=
function(){var a=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return a.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()};j.prototype.input_blur=function(){var a=this;if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(){return a.blur_test()},100)};j.prototype.results_option_build=function(a){var b,c,d,f,g;b="";g=this.results_data;d=0;for(f=g.length;d<f;d++)c=g[d],b=c.group?b+this.result_add_group(c):b+this.result_add_option(c),
null!=a&&a.first&&(c.selected&&this.is_multiple?this.choice_build(c):c.selected&&!this.is_multiple&&this.single_set_selected_text(c.text));return b};j.prototype.result_add_option=function(a){var b,c;if(!a.search_match||!this.include_option_in_results(a))return"";b=[];!a.disabled&&(!a.selected||!this.is_multiple)&&b.push("active-result");a.disabled&&(!a.selected||!this.is_multiple)&&b.push("disabled-result");a.selected&&b.push("result-selected");null!=a.group_array_index&&b.push("group-option");""!==
a.classes&&b.push(a.classes);c=""!==a.style.cssText?' style="'+a.style+'"':"";return'<li class="'+b.join(" ")+'"'+c+' data-option-array-index="'+a.array_index+'">'+a.search_text+"</li>"};j.prototype.result_add_group=function(a){return!a.search_match&&!a.group_match||!(0<a.active_options)?"":'<li class="group-result">'+a.search_text+"</li>"};j.prototype.results_update_field=function(){this.set_default_text();this.is_multiple||this.results_reset_cleanup();this.result_clear_highlight();this.result_single_selected=
null;this.results_build();if(this.results_showing)return this.winnow_results()};j.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()};j.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()};j.prototype.winnow_results=function(){var a,b,c,d,f,g,j,m,p,q,t;this.no_results_clear();c=0;f=this.get_search_text();a=f.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");b=RegExp((this.search_contains?"":"^")+a,
"i");m=RegExp(a,"i");t=this.results_data;p=0;for(q=t.length;p<q;p++)if(a=t[p],a.search_match=!1,d=null,this.include_option_in_results(a)&&(a.group&&(a.group_match=!1,a.active_options=0),null!=a.group_array_index&&this.results_data[a.group_array_index]&&(d=this.results_data[a.group_array_index],0===d.active_options&&d.search_match&&(c+=1),d.active_options+=1),!a.group||this.group_search))a.search_text=a.group?a.label:a.html,a.search_match=this.search_string_match(a.search_text,b),a.search_match&&!a.group&&
(c+=1),a.search_match?(f.length&&(g=a.search_text.search(m),j=a.search_text.substr(0,g+f.length)+"</em>"+a.search_text.substr(g+f.length),a.search_text=j.substr(0,g)+"<em>"+j.substr(g)),null!=d&&(d.group_match=!0)):null!=a.group_array_index&&this.results_data[a.group_array_index].search_match&&(a.search_match=!0);this.result_clear_highlight();if(1>c&&f.length)return this.update_results_content(""),this.no_results(f);this.update_results_content(this.results_option_build());return this.winnow_results_set_highlight()};
j.prototype.search_string_match=function(a,b){var c,d,f,g;if(b.test(a))return!0;if(this.enable_split_word_search&&(0<=a.indexOf(" ")||0===a.indexOf("[")))if(d=a.replace(/\[|\]/g,"").split(" "),d.length){f=0;for(g=d.length;f<g;f++)if(c=d[f],b.test(c))return!0}};j.prototype.choices_count=function(){var a,b,c,d;if(null!=this.selected_option_count)return this.selected_option_count;this.selected_option_count=0;d=this.form_field.options;b=0;for(c=d.length;b<c;b++)a=d[b],a.selected&&(this.selected_option_count+=
1);return this.selected_option_count};j.prototype.choices_click=function(a){a.preventDefault();if(!this.results_showing&&!this.is_disabled)return this.results_show()};j.prototype.keyup_checker=function(a){var b,c;b=null!=(c=a.which)?c:a.keyCode;this.search_field_scale();switch(b){case 8:if(this.is_multiple&&1>this.backstroke_length&&0<this.choices_count())return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:a.preventDefault();
if(this.results_showing)return this.result_select(a);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}};j.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"};j.prototype.include_option_in_results=function(a){return this.is_multiple&&!this.display_selected_options&&a.selected||!this.display_disabled_options&&a.disabled||
a.empty?!1:!0};j.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?8<=document.documentMode:/iP(od|hone)/i.test(window.navigator.userAgent)||/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent)?!1:!0};j.default_multiple_text="Select Some Options";j.default_single_text="Select an Option";j.default_no_result_text="No results match";c=j;a=jQuery;a.fn.extend({chosen:function(b){return!c.browser_is_supported()?this:this.each(function(){var c,
d;c=a(this);d=c.data("chosen");"destroy"===b&&d?d.destroy():d||c.data("chosen",new g(this,b))})}});var p=function(){return b=p.__super__.constructor.apply(this,arguments)},m=p,q=function(){this.constructor=m},t;for(t in c)f.call(c,t)&&(m[t]=c[t]);q.prototype=c.prototype;m.prototype=new q;m.__super__=c.prototype;p.prototype.setup=function(){this.form_field_jq=a(this.form_field);this.current_selectedIndex=this.form_field.selectedIndex;return this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")};p.prototype.set_up_html=
function(){var b;b=["chosen-container"];b.push("chosen-container-"+(this.is_multiple?"multi":"single"));this.inherit_select_classes&&this.form_field.className&&b.push(this.form_field.className);this.is_rtl&&b.push("chosen-rtl");b={"class":b.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title};this.form_field.id.length&&(b.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen");this.container=a("<div />",b);this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+
this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>');this.form_field_jq.hide().after(this.container);this.dropdown=this.container.find("div.chosen-drop").first();
this.search_field=this.container.find("input").first();this.search_results=this.container.find("ul.chosen-results").first();this.search_field_scale();this.search_no_results=this.container.find("li.no-results").first();this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first());
this.results_build();this.set_tab_index();this.set_label_behavior();return this.form_field_jq.trigger("chosen:ready",{chosen:this})};p.prototype.register_observers=function(){var a=this;this.container.bind("mousedown.chosen",function(b){a.container_mousedown(b)});this.container.bind("mouseup.chosen",function(b){a.container_mouseup(b)});this.container.bind("mouseenter.chosen",function(b){a.mouse_enter(b)});this.container.bind("mouseleave.chosen",function(b){a.mouse_leave(b)});this.search_results.bind("mouseup.chosen",
function(b){a.search_results_mouseup(b)});this.search_results.bind("mouseover.chosen",function(b){a.search_results_mouseover(b)});this.search_results.bind("mouseout.chosen",function(b){a.search_results_mouseout(b)});this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(b){a.search_results_mousewheel(b)});this.form_field_jq.bind("chosen:updated.chosen",function(b){a.results_update_field(b)});this.form_field_jq.bind("chosen:activate.chosen",function(b){a.activate_field(b)});this.form_field_jq.bind("chosen:open.chosen",
function(b){a.container_mousedown(b)});this.search_field.bind("blur.chosen",function(b){a.input_blur(b)});this.search_field.bind("keyup.chosen",function(b){a.keyup_checker(b)});this.search_field.bind("keydown.chosen",function(b){a.keydown_checker(b)});this.search_field.bind("focus.chosen",function(b){a.input_focus(b)});return this.is_multiple?this.search_choices.bind("click.chosen",function(b){a.choices_click(b)}):this.container.bind("click.chosen",function(a){a.preventDefault()})};p.prototype.destroy=
function(){a(document).unbind("click.chosen",this.click_test_action);this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex);this.container.remove();this.form_field_jq.removeData("chosen");return this.form_field_jq.show()};p.prototype.search_field_disabled=function(){if(this.is_disabled=this.form_field_jq[0].disabled)return this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),
this.close_field();this.container.removeClass("chosen-disabled");this.search_field[0].disabled=!1;if(!this.is_multiple)return this.selected_item.bind("focus.chosen",this.activate_action)};p.prototype.container_mousedown=function(b){if(!this.is_disabled&&(b&&("mousedown"===b.type&&!this.results_showing)&&b.preventDefault(),!(null!=b&&a(b.target).hasClass("search-choice-close")))){if(this.active_field){if(!this.is_multiple&&b&&(a(b.target)[0]===this.selected_item[0]||a(b.target).parents("a.chosen-single").length))b.preventDefault(),
this.results_toggle()}else this.is_multiple&&this.search_field.val(""),a(document).bind("click.chosen",this.click_test_action),this.results_show();return this.activate_field()}};p.prototype.container_mouseup=function(a){if("ABBR"===a.target.nodeName&&!this.is_disabled)return this.results_reset(a)};p.prototype.search_results_mousewheel=function(a){var b,c,d;b=-(null!=(c=a.originalEvent)?c.wheelDelta:NaN)||(null!=(d=a.originialEvent)?d.detail:void 0);if(null!=b)return a.preventDefault(),"DOMMouseScroll"===
a.type&&(b*=40),this.search_results.scrollTop(b+this.search_results.scrollTop())};p.prototype.blur_test=function(){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()};p.prototype.close_field=function(){a(document).unbind("click.chosen",this.click_test_action);this.active_field=!1;this.results_hide();this.container.removeClass("chosen-container-active");this.clear_backstroke();this.show_search_field_default();return this.search_field_scale()};p.prototype.activate_field=
function(){this.container.addClass("chosen-container-active");this.active_field=!0;this.search_field.val(this.search_field.val());return this.search_field.focus()};p.prototype.test_active_click=function(b){return this.container.is(a(b.target).closest(".chosen-container"))?this.active_field=!0:this.close_field()};p.prototype.results_build=function(){this.parsing=!0;this.selected_option_count=null;this.results_data=d.select_to_array(this.form_field);this.is_multiple?this.search_choices.find("li.search-choice").remove():
this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch")));this.update_results_content(this.results_option_build({first:!0}));this.search_field_disabled();this.show_search_field_default();this.search_field_scale();return this.parsing=
!1};p.prototype.result_do_highlight=function(a){var b,c,d,f;if(a.length){this.result_clear_highlight();this.result_highlight=a;this.result_highlight.addClass("highlighted");c=parseInt(this.search_results.css("maxHeight"),10);f=this.search_results.scrollTop();d=c+f;b=this.result_highlight.position().top+this.search_results.scrollTop();a=b+this.result_highlight.outerHeight();if(a>=d)return this.search_results.scrollTop(0<a-c?a-c:0);if(b<f)return this.search_results.scrollTop(b)}};p.prototype.result_clear_highlight=
function(){this.result_highlight&&this.result_highlight.removeClass("highlighted");return this.result_highlight=null};p.prototype.results_show=function(){if(this.is_multiple&&this.max_selected_options<=this.choices_count())return this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1;this.container.addClass("chosen-with-drop");this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this});this.results_showing=!0;this.search_field.focus();this.search_field.val(this.search_field.val());
return this.winnow_results()};p.prototype.update_results_content=function(a){return this.search_results.html(a)};p.prototype.results_hide=function(){this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this}));return this.results_showing=!1};p.prototype.set_tab_index=function(){var a;if(this.form_field.tabIndex)return a=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=
a};p.prototype.set_label_behavior=function(){var b=this;this.form_field_label=this.form_field_jq.parents("label");!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=a("label[for='"+this.form_field.id+"']"));if(0<this.form_field_label.length)return this.form_field_label.bind("click.chosen",function(a){return b.is_multiple?b.container_mousedown(a):b.activate_field()})};p.prototype.show_search_field_default=function(){if(this.is_multiple&&1>this.choices_count()&&!this.active_field)return this.search_field.val(this.default_text),
this.search_field.addClass("default");this.search_field.val("");return this.search_field.removeClass("default")};p.prototype.search_results_mouseup=function(b){var c;c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first();if(c.length)return this.result_highlight=c,this.result_select(b),this.search_field.focus()};p.prototype.search_results_mouseover=function(b){if(b=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first())return this.result_do_highlight(b)};
p.prototype.search_results_mouseout=function(b){if(a(b.target).hasClass("active-result"))return this.result_clear_highlight()};p.prototype.choice_build=function(b){var c,d=this;c=a("<li />",{"class":"search-choice"}).html("<span>"+b.html+"</span>");b.disabled?c.addClass("search-choice-disabled"):(b=a("<a />",{"class":"search-choice-close","data-option-array-index":b.array_index}),b.bind("click.chosen",function(a){return d.choice_destroy_link_click(a)}),c.append(b));return this.search_container.before(c)};
p.prototype.choice_destroy_link_click=function(b){b.preventDefault();b.stopPropagation();if(!this.is_disabled)return this.choice_destroy(a(b.target))};p.prototype.choice_destroy=function(a){if(this.result_deselect(a[0].getAttribute("data-option-array-index")))return this.show_search_field_default(),this.is_multiple&&(0<this.choices_count()&&1>this.search_field.val().length)&&this.results_hide(),a.parents("li").first().remove(),this.search_field_scale()};p.prototype.results_reset=function(){this.form_field.options[0].selected=
!0;this.selected_option_count=null;this.single_set_selected_text();this.show_search_field_default();this.results_reset_cleanup();this.form_field_jq.trigger("change");if(this.active_field)return this.results_hide()};p.prototype.results_reset_cleanup=function(){this.current_selectedIndex=this.form_field.selectedIndex;return this.selected_item.find("abbr").remove()};p.prototype.result_select=function(a){var b,c;if(this.result_highlight){b=this.result_highlight;this.result_clear_highlight();if(this.is_multiple&&
this.max_selected_options<=this.choices_count())return this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1;this.is_multiple?b.removeClass("active-result"):(this.result_single_selected&&(this.result_single_selected.removeClass("result-selected"),c=this.result_single_selected[0].getAttribute("data-option-array-index"),this.results_data[c].selected=!1),this.result_single_selected=b);b.addClass("result-selected");b=this.results_data[b[0].getAttribute("data-option-array-index")];b.selected=
!0;this.form_field.options[b.options_index].selected=!0;this.selected_option_count=null;this.is_multiple?this.choice_build(b):this.single_set_selected_text(b.text);(!a.metaKey&&!a.ctrlKey||!this.is_multiple)&&this.results_hide();this.search_field.val("");(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[b.options_index].value});this.current_selectedIndex=this.form_field.selectedIndex;return this.search_field_scale()}};
p.prototype.single_set_selected_text=function(a){null==a&&(a=this.default_text);a===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default"));return this.selected_item.find("span").text(a)};p.prototype.result_deselect=function(a){a=this.results_data[a];if(this.form_field.options[a.options_index].disabled)return!1;a.selected=!1;this.form_field.options[a.options_index].selected=!1;this.selected_option_count=
null;this.result_clear_highlight();this.results_showing&&this.winnow_results();this.form_field_jq.trigger("change",{deselected:this.form_field.options[a.options_index].value});this.search_field_scale();return!0};p.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")};p.prototype.get_search_text=
function(){return this.search_field.val()===this.default_text?"":a("<div/>").text(a.trim(this.search_field.val())).html()};p.prototype.winnow_results_set_highlight=function(){var a;a=!this.is_multiple?this.search_results.find(".result-selected.active-result"):[];a=a.length?a.first():this.search_results.find(".active-result").first();if(null!=a)return this.result_do_highlight(a)};p.prototype.no_results=function(b){var c;c=a('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>');
c.find("span").first().html(b);return this.search_results.append(c)};p.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()};p.prototype.keydown_arrow=function(){var a;if(this.results_showing&&this.result_highlight){if(a=this.result_highlight.nextAll("li.active-result").first())return this.result_do_highlight(a)}else return this.results_show()};p.prototype.keyup_arrow=function(){var a;if(!this.results_showing&&!this.is_multiple)return this.results_show();if(this.result_highlight){a=
this.result_highlight.prevAll("li.active-result");if(a.length)return this.result_do_highlight(a.first());0<this.choices_count()&&this.results_hide();return this.result_clear_highlight()}};p.prototype.keydown_backstroke=function(){var a;if(this.pending_backstroke)return this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke();a=this.search_container.siblings("li.search-choice").last();if(a.length&&!a.hasClass("search-choice-disabled"))return this.pending_backstroke=a,
this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")};p.prototype.clear_backstroke=function(){this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus");return this.pending_backstroke=null};p.prototype.keydown_checker=function(a){var b,c;b=null!=(c=a.which)?c:a.keyCode;this.search_field_scale();8!==b&&this.pending_backstroke&&this.clear_backstroke();switch(b){case 8:this.backstroke_length=this.search_field.val().length;
break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(a);this.mouse_on_container=!1;break;case 13:a.preventDefault();break;case 38:a.preventDefault();this.keyup_arrow();break;case 40:a.preventDefault(),this.keydown_arrow()}};p.prototype.search_field_scale=function(){var b,c,d,f,g;if(this.is_multiple){b="position:absolute; left: -1000px; top: -1000px; display:none;";d="font-size font-style font-weight font-family line-height text-transform letter-spacing".split(" ");f=0;for(g=d.length;f<
g;f++)c=d[f],b+=c+":"+this.search_field.css(c)+";";b=a("<div />",{style:b});b.text(this.search_field.val());a("body").append(b);c=b.width()+25;b.remove();b=this.container.outerWidth();c>b-10&&(c=b-10);return this.search_field.css({width:c+"px"})}};g=p}).call(this);(function(a){var c,g,b,f,d=0,j={isMsie:function(){var a=/(msie) ([\w.]+)/i.exec(navigator.userAgent);return a?parseInt(a[2],10):!1},isBlankString:function(a){return!a||/^\s*$/.test(a)},escapeRegExChars:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(a){return"string"===typeof a},isNumber:function(a){return"number"===typeof a},isArray:a.isArray,isFunction:a.isFunction,isObject:a.isPlainObject,isUndefined:function(a){return"undefined"===typeof a},bind:a.proxy,
bindAll:function(b){var c,d;for(d in b)a.isFunction(c=b[d])&&(b[d]=a.proxy(c,b))},indexOf:function(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1},each:a.each,map:a.map,filter:a.grep,every:function(b,c){var d=!0;if(!b)return d;a.each(b,function(a,f){if(!(d=c.call(null,f,a,b)))return!1});return!!d},some:function(b,c){var d=!1;if(!b)return d;a.each(b,function(a,f){if(d=c.call(null,f,a,b))return!1});return!!d},mixin:a.extend,getUniqueId:function(){return d++},defer:function(a){setTimeout(a,
0)},debounce:function(a,b,c){var d,f;return function(){var g=this,h=arguments,j;j=c&&!d;clearTimeout(d);d=setTimeout(function(){d=null;c||(f=a.apply(g,h))},b);j&&(f=a.apply(g,h));return f}},throttle:function(a,b){var c,d,f,g,h,j;h=0;j=function(){h=new Date;f=null;g=a.apply(c,d)};return function(){var n=new Date,r=b-(n-h);c=this;d=arguments;0>=r?(clearTimeout(f),f=null,h=n,g=a.apply(c,d)):f||(f=setTimeout(j,r));return g}},tokenizeQuery:function(b){return a.trim(b).toLowerCase().split(/[\s]+/)},tokenizeText:function(b){return a.trim(b).toLowerCase().split(/[\s\-_]+/)},
getProtocol:function(){return location.protocol},noop:function(){}},p,m=/\s+/;p={on:function(a,b){var c;if(!b)return this;this._callbacks=this._callbacks||{};for(a=a.split(m);c=a.shift();)this._callbacks[c]=this._callbacks[c]||[],this._callbacks[c].push(b);return this},trigger:function(a,b){var c,d;if(!this._callbacks)return this;for(a=a.split(m);c=a.shift();)if(d=this._callbacks[c])for(var f=0;f<d.length;f+=1)d[f].call(this,{type:c,data:b});return this}};var q=function(b){(!b||!b.el)&&a.error("EventBus initialized without el");
this.$el=a(b.el)};j.mixin(q.prototype,{trigger:function(a){var b=[].slice.call(arguments,1);this.$el.trigger("typeahead:"+a,b)}});var t=function(a){this.prefix=["__",a,"__"].join("");this.ttlKey="__ttl__";this.keyMatcher=RegExp("^"+this.prefix)},n=function(a){return JSON.stringify(j.isUndefined(a)?null:a)},h;try{h=window.localStorage,h.setItem("~~~","!"),h.removeItem("~~~")}catch(x){h=null}j.mixin(t.prototype,h&&window.JSON?{_prefix:function(a){return this.prefix+a},_ttlKey:function(a){return this._prefix(a)+
this.ttlKey},get:function(a){this.isExpired(a)&&this.remove(a);a=h.getItem(this._prefix(a));return JSON.parse(a)},set:function(a,b,c){j.isNumber(c)?h.setItem(this._ttlKey(a),n((new Date).getTime()+c)):h.removeItem(this._ttlKey(a));return h.setItem(this._prefix(a),n(b))},remove:function(a){h.removeItem(this._ttlKey(a));h.removeItem(this._prefix(a));return this},clear:function(){var a,b,c=[],d=h.length;for(a=0;a<d;a++)(b=h.key(a)).match(this.keyMatcher)&&c.push(b.replace(this.keyMatcher,""));for(a=
c.length;a--;)this.remove(c[a]);return this},isExpired:function(a){a=h.getItem(this._ttlKey(a));a=JSON.parse(a);return j.isNumber(a)&&(new Date).getTime()>a?!0:!1}}:{get:j.noop,set:j.noop,remove:j.noop,clear:j.noop,isExpired:j.noop});var z=function(a){j.bindAll(this);a=a||{};this.sizeLimit=a.sizeLimit||10;this.cache={};this.cachedKeysByAge=[]};j.mixin(z.prototype,{get:function(a){return this.cache[a]},set:function(a,b){var c;this.cachedKeysByAge.length===this.sizeLimit&&(c=this.cachedKeysByAge.shift(),
delete this.cache[c]);this.cache[a]=b;this.cachedKeysByAge.push(a)}});var D=function(a){j.bindAll(this);a=j.isString(a)?{url:a}:a;B=B||new z;A=j.isNumber(a.maxParallelRequests)?a.maxParallelRequests:A||6;this.url=a.url;this.wildcard=a.wildcard||"%QUERY";this.filter=a.filter;this.replace=a.replace;this.ajaxSettings={type:"get",cache:a.cache,timeout:a.timeout,dataType:a.dataType||"json",beforeSend:a.beforeSend};this._get=(/^throttle$/i.test(a.rateLimitFn)?j.throttle:j.debounce)(this._get,a.rateLimitWait||
300)},S=0,u={},A,B;j.mixin(D.prototype,{_get:function(a,b){function c(f){var g=d.filter?d.filter(f):f;b&&b(g);B.set(a,f)}var d=this;S<A?this._sendRequest(a).done(c):this.onDeckRequestArgs=[].slice.call(arguments,0)},_sendRequest:function(b){function c(){S--;u[b]=null;d.onDeckRequestArgs&&(d._get.apply(d,d.onDeckRequestArgs),d.onDeckRequestArgs=null)}var d=this,f=u[b];f||(S++,f=u[b]=a.ajax(b,this.ajaxSettings).always(c));return f},get:function(a,b){var c=this,d=encodeURIComponent(a||""),f,b=b||j.noop,
d=this.replace?this.replace(this.url,d):this.url.replace(this.wildcard,d);(f=B.get(d))?j.defer(function(){b(c.filter?c.filter(f):f)}):this._get(d,b);return!!f}});var J=function(b){j.bindAll(this);j.isString(b.template)&&!b.engine&&a.error("no template engine specified");!b.local&&(!b.prefetch&&!b.remote)&&a.error("one of local, prefetch, or remote is required");this.name=b.name||j.getUniqueId();this.limit=b.limit||5;this.minLength=b.minLength||1;this.header=b.header;this.footer=b.footer;this.valueKey=
b.valueKey||"value";var c=b.template,d=b.engine,f=this.valueKey;j.isFunction(c)||(j.isString(c)?(c=d.compile(c),c=j.bind(c.render,c)):c=function(a){return"<p>"+a[f]+"</p>"});this.template=c;this.local=b.local;this.prefetch=b.prefetch;this.remote=b.remote;this.itemHash={};this.adjacencyList={};this.storage=b.name?new t(b.name):null};c="thumbprint";g="protocol";b="itemHash";f="adjacencyList";j.mixin(J.prototype,{_processLocalData:function(a){this._mergeProcessedData(this._processData(a))},_loadPrefetchData:function(d){function h(a){var a=
d.filter?d.filter(a):a,a=n._processData(a),u=a.itemHash,m=a.adjacencyList;n.storage&&(n.storage.set(b,u,d.ttl),n.storage.set(f,m,d.ttl),n.storage.set(c,r,d.ttl),n.storage.set(g,j.getProtocol(),d.ttl));n._mergeProcessedData(a)}var n=this,r="0.9.3"+(d.thumbprint||""),u,m,p,q;this.storage&&(u=this.storage.get(c),m=this.storage.get(g),p=this.storage.get(b),q=this.storage.get(f));u=u!==r||m!==j.getProtocol();d=j.isString(d)?{url:d}:d;d.ttl=j.isNumber(d.ttl)?d.ttl:864E5;p&&q&&!u?(this._mergeProcessedData({itemHash:p,
adjacencyList:q}),p=a.Deferred().resolve()):p=a.getJSON(d.url).done(h);return p},_transformDatum:function(a){var b=j.isString(a)?a:a[this.valueKey],c=a.tokens||j.tokenizeText(b),b={value:b,tokens:c};j.isString(a)?(b.datum={},b.datum[this.valueKey]=a):b.datum=a;b.tokens=j.filter(b.tokens,function(a){return!j.isBlankString(a)});b.tokens=j.map(b.tokens,function(a){return a.toLowerCase()});return b},_processData:function(a){var b=this,c={},d={};j.each(a,function(a,f){var g=b._transformDatum(f),h=j.getUniqueId(g.value);
c[h]=g;j.each(g.tokens,function(a,b){var c=b.charAt(0),c=d[c]||(d[c]=[h]);!~j.indexOf(c,h)&&c.push(h)})});return{itemHash:c,adjacencyList:d}},_mergeProcessedData:function(a){var b=this;j.mixin(this.itemHash,a.itemHash);j.each(a.adjacencyList,function(a,c){var d=b.adjacencyList[a];b.adjacencyList[a]=d?d.concat(c):c})},_getLocalSuggestions:function(a){var b=this,c=[],d=[],f,g=[];j.each(a,function(a,b){var d=b.charAt(0);!~j.indexOf(c,d)&&c.push(d)});j.each(c,function(a,c){var g=b.adjacencyList[c];if(!g)return!1;
d.push(g);if(!f||g.length<f.length)f=g});if(d.length<c.length)return[];j.each(f,function(c,f){var h=b.itemHash[f];j.every(d,function(a){return~j.indexOf(a,f)})&&j.every(a,function(a){return j.some(h.tokens,function(b){return 0===b.indexOf(a)})})&&g.push(h)});return g},initialize:function(){var b;this.local&&this._processLocalData(this.local);this.transport=this.remote?new D(this.remote):null;b=this.prefetch?this._loadPrefetchData(this.prefetch):a.Deferred().resolve();this.local=this.prefetch=this.remote=
null;this.initialize=function(){return b};return b},getSuggestions:function(a,b){function c(a){g=g.slice(0);j.each(a,function(a,b){var c=d._transformDatum(b);!j.some(g,function(a){return c.value===a.value})&&g.push(c);return g.length<d.limit});b&&b(g)}var d=this,f,g,h=!1;a.length<this.minLength||(f=j.tokenizeQuery(a),g=this._getLocalSuggestions(f).slice(0,this.limit),g.length<this.limit&&this.transport&&(h=this.transport.get(a,c)),!h&&b&&b(g))}});var y=function(b){var c=this;j.bindAll(this);this.specialKeyCodeMap=
{9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"};this.$hint=a(b.hint);this.$input=a(b.input).on("blur.tt",this._handleBlur).on("focus.tt",this._handleFocus).on("keydown.tt",this._handleSpecialKeyEvent);if(j.isMsie())this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(a){c.specialKeyCodeMap[a.which||a.keyCode]||j.defer(c._compareQueryToInputValue)});else this.$input.on("input.tt",this._compareQueryToInputValue);this.query=this.$input.val();this.$overflowHelper=a("<span></span>").css({position:"absolute",
left:"-9999px",visibility:"hidden",whiteSpace:"nowrap",fontFamily:this.$input.css("font-family"),fontSize:this.$input.css("font-size"),fontStyle:this.$input.css("font-style"),fontVariant:this.$input.css("font-variant"),fontWeight:this.$input.css("font-weight"),wordSpacing:this.$input.css("word-spacing"),letterSpacing:this.$input.css("letter-spacing"),textIndent:this.$input.css("text-indent"),textRendering:this.$input.css("text-rendering"),textTransform:this.$input.css("text-transform")}).insertAfter(this.$input)};
j.mixin(y.prototype,p,{_handleFocus:function(){this.trigger("focused")},_handleBlur:function(){this.trigger("blured")},_handleSpecialKeyEvent:function(a){var b=this.specialKeyCodeMap[a.which||a.keyCode];b&&this.trigger(b+"Keyed",a)},_compareQueryToInputValue:function(){var a=this.getInputValue(),b;b=this.query;var c=a;b=(b||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ");c=(c||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ");(b=b===c)&&this.query.length!==a.length?this.trigger("whitespaceChanged",{value:this.query}):
b||this.trigger("queryChanged",{value:this.query=a})},destroy:function(){this.$hint.off(".tt");this.$input.off(".tt");this.$hint=this.$input=this.$overflowHelper=null},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(a){this.query=a},getInputValue:function(){return this.$input.val()},setInputValue:function(a,b){this.$input.val(a);!b&&this._compareQueryToInputValue()},getHintValue:function(){return this.$hint.val()},
setHintValue:function(a){this.$hint.val(a)},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},isOverflow:function(){this.$overflowHelper.text(this.getInputValue());return this.$overflowHelper.width()>this.$input.width()},isCursorAtEnd:function(){var a=this.$input.val().length,b=this.$input[0].selectionStart;return j.isNumber(b)?b===a:document.selection?(b=document.selection.createRange(),b.moveStart("character",-a),a===b.text.length):!0}});var v=function(b){j.bindAll(this);
this.isOpen=!1;this.isEmpty=!0;this.isMouseOverDropdown=!1;this.$menu=a(b.menu).on("mouseenter.tt",this._handleMouseenter).on("mouseleave.tt",this._handleMouseleave).on("click.tt",".tt-suggestion",this._handleSelection).on("mouseover.tt",".tt-suggestion",this._handleMouseover)},K=function(a){return a.data("suggestion")},I={display:"block"},Q={whiteSpace:"nowrap",cursor:"pointer"},H={whiteSpace:"normal"};j.mixin(v.prototype,p,{_handleMouseenter:function(){this.isMouseOverDropdown=!0},_handleMouseleave:function(){this.isMouseOverDropdown=
!1},_handleMouseover:function(b){b=a(b.currentTarget);this._getSuggestions().removeClass("tt-is-under-cursor");b.addClass("tt-is-under-cursor")},_handleSelection:function(b){b=a(b.currentTarget);this.trigger("suggestionSelected",K(b))},_show:function(){this.$menu.css("display","block")},_hide:function(){this.$menu.hide()},_moveCursor:function(a){var b,c;this.isVisible()&&(b=this._getSuggestions(),c=b.filter(".tt-is-under-cursor"),c.removeClass("tt-is-under-cursor"),a=b.index(c)+a,a=(a+1)%(b.length+
1)-1,-1===a?this.trigger("cursorRemoved"):(-1>a&&(a=b.length-1),b=b.eq(a).addClass("tt-is-under-cursor"),this._ensureVisibility(b),this.trigger("cursorMoved",K(b))))},_getSuggestions:function(){return this.$menu.find(".tt-suggestions > .tt-suggestion")},_ensureVisibility:function(a){var b=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),c=this.$menu.scrollTop(),d=a.position().top,a=d+a.outerHeight(!0);0>d?this.$menu.scrollTop(c+d):b<a&&this.$menu.scrollTop(c+
(a-b))},destroy:function(){this.$menu.off(".tt");this.$menu=null},isVisible:function(){return this.isOpen&&!this.isEmpty},closeUnlessMouseIsOverDropdown:function(){this.isMouseOverDropdown||this.close()},close:function(){this.isOpen&&(this.isMouseOverDropdown=this.isOpen=!1,this._hide(),this.$menu.find(".tt-suggestions > .tt-suggestion").removeClass("tt-is-under-cursor"),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(a){var b=
{left:"0",right:"auto"},c={left:"auto",right:" 0"};"ltr"===a?this.$menu.css(b):this.$menu.css(c)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getSuggestionUnderCursor:function(){var a=this._getSuggestions().filter(".tt-is-under-cursor").first();return 0<a.length?K(a):null},getFirstSuggestion:function(){var a=this._getSuggestions().first();return 0<a.length?K(a):null},renderSuggestions:function(b,c){var d="tt-dataset-"+b.name,f,g;g=this.$menu.find("."+
d);var h,n,r;0===g.length&&(g=a('<span class="tt-suggestions"></span>').css(I),g=a("<div></div>").addClass(d).append(b.header).append(g).append(b.footer).appendTo(this.$menu));0<c.length?(this.isEmpty=!1,this.isOpen&&this._show(),h=document.createElement("div"),n=document.createDocumentFragment(),j.each(c,function(c,d){d.dataset=b.name;f=b.template(d.datum);h.innerHTML='<div class="tt-suggestion">%body</div>'.replace("%body",f);r=a(h.firstChild).css(Q).data("suggestion",d);r.children().each(function(){a(this).css(H)});
n.appendChild(r[0])}),g.show().find(".tt-suggestions").html(n)):this.clearSuggestions(b.name);this.trigger("suggestionsRendered")},clearSuggestions:function(a){var a=a?this.$menu.find(".tt-dataset-"+a):this.$menu.find('[class^="tt-dataset-"]'),b=a.find(".tt-suggestions");a.hide();b.empty();0===this._getSuggestions().length&&(this.isEmpty=!0,this._hide())}});var O=function(b){var c,d;j.bindAll(this);var f=b.input;c=a(N.wrapper);d=a(N.dropdown);var f=a(f),g=a(N.hint);c=c.css(L.wrapper);d=d.css(L.dropdown);
g.css(L.hint).css({backgroundAttachment:f.css("background-attachment"),backgroundClip:f.css("background-clip"),backgroundColor:f.css("background-color"),backgroundImage:f.css("background-image"),backgroundOrigin:f.css("background-origin"),backgroundPosition:f.css("background-position"),backgroundRepeat:f.css("background-repeat"),backgroundSize:f.css("background-size")});f.data("ttAttrs",{dir:f.attr("dir"),autocomplete:f.attr("autocomplete"),spellcheck:f.attr("spellcheck"),style:f.attr("style")});
f.addClass("tt-query").attr({autocomplete:"off",spellcheck:!1}).css(L.query);try{!f.attr("dir")&&f.attr("dir","auto")}catch(h){}this.$node=f.wrap(c).parent().prepend(g).append(d);this.datasets=b.datasets;this.dir=null;this.eventBus=b.eventBus;b=this.$node.find(".tt-dropdown-menu");c=this.$node.find(".tt-query");d=this.$node.find(".tt-hint");this.dropdownView=(new v({menu:b})).on("suggestionSelected",this._handleSelection).on("cursorMoved",this._clearHint).on("cursorMoved",this._setInputValueToSuggestionUnderCursor).on("cursorRemoved",
this._setInputValueToQuery).on("cursorRemoved",this._updateHint).on("suggestionsRendered",this._updateHint).on("opened",this._updateHint).on("closed",this._clearHint).on("opened closed",this._propagateEvent);this.inputView=(new y({input:c,hint:d})).on("focused",this._openDropdown).on("blured",this._closeDropdown).on("blured",this._setInputValueToQuery).on("enterKeyed tabKeyed",this._handleSelection).on("queryChanged",this._clearHint).on("queryChanged",this._clearSuggestions).on("queryChanged",this._getSuggestions).on("whitespaceChanged",
this._updateHint).on("queryChanged whitespaceChanged",this._openDropdown).on("queryChanged whitespaceChanged",this._setLanguageDirection).on("escKeyed",this._closeDropdown).on("escKeyed",this._setInputValueToQuery).on("tabKeyed upKeyed downKeyed",this._managePreventDefault).on("upKeyed downKeyed",this._moveDropdownCursor).on("upKeyed downKeyed",this._openDropdown).on("tabKeyed leftKeyed rightKeyed",this._autocomplete)},N={wrapper:'<span class="twitter-typeahead"></span>',hint:'<input class="tt-hint" type="text" autocomplete="off" spellcheck="off" disabled>',
dropdown:'<span class="tt-dropdown-menu"></span>'},L={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none"},query:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"}};j.isMsie()&&j.mixin(L.query,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"});j.isMsie()&&7>=j.isMsie()&&
(j.mixin(L.wrapper,{display:"inline",zoom:"1"}),j.mixin(L.query,{marginTop:"-1px"}));j.mixin(O.prototype,p,{_managePreventDefault:function(a){var b=a.data,c;c=!1;switch(a.type){case "tabKeyed":a=this.inputView.getHintValue();c=this.inputView.getInputValue();c=a&&a!==c;break;case "upKeyed":case "downKeyed":c=!b.shiftKey&&!b.ctrlKey&&!b.metaKey}c&&b.preventDefault()},_setLanguageDirection:function(){var a=this.inputView.getLanguageDirection();a!==this.dir&&(this.dir=a,this.$node.css("direction",a),
this.dropdownView.setLanguageDirection(a))},_updateHint:function(){var a=this.dropdownView.getFirstSuggestion(),a=a?a.value:null,b=this.dropdownView.isVisible(),c=this.inputView.isOverflow();a&&(b&&!c)&&(b=this.inputView.getInputValue(),c=b.replace(/\s{2,}/g," ").replace(/^\s+/g,""),c=j.escapeRegExChars(c),c=RegExp("^(?:"+c+")(.*$)","i"),a=c.exec(a),this.inputView.setHintValue(b+(a?a[1]:"")))},_clearHint:function(){this.inputView.setHintValue("")},_clearSuggestions:function(){this.dropdownView.clearSuggestions()},
_setInputValueToQuery:function(){this.inputView.setInputValue(this.inputView.getQuery())},_setInputValueToSuggestionUnderCursor:function(a){this.inputView.setInputValue(a.data.value,!0)},_openDropdown:function(){this.dropdownView.open()},_closeDropdown:function(a){this.dropdownView["blured"===a.type?"closeUnlessMouseIsOverDropdown":"close"]()},_moveDropdownCursor:function(a){var b=a.data;if(!b.shiftKey&&!b.ctrlKey&&!b.metaKey)this.dropdownView["upKeyed"===a.type?"moveCursorUp":"moveCursorDown"]()},
_handleSelection:function(a){var b="suggestionSelected"===a.type,c=b?a.data:this.dropdownView.getSuggestionUnderCursor();c&&(this.inputView.setInputValue(c.value),b?this.inputView.focus():a.data.preventDefault(),b&&j.isMsie()?j.defer(this.dropdownView.close):this.dropdownView.close(),this.eventBus.trigger("selected",c.datum,c.dataset))},_getSuggestions:function(){var a=this,b=this.inputView.getQuery();j.isBlankString(b)||j.each(this.datasets,function(c,d){d.getSuggestions(b,function(c){b===a.inputView.getQuery()&&
a.dropdownView.renderSuggestions(d,c)})})},_autocomplete:function(a){var b;if("rightKeyed"===a.type||"leftKeyed"===a.type)if(b=this.inputView.isCursorAtEnd(),a="ltr"===this.inputView.getLanguageDirection()?"leftKeyed"===a.type:"rightKeyed"===a.type,!b||a)return;b=this.inputView.getQuery();a=this.inputView.getHintValue();""!==a&&b!==a&&(b=this.dropdownView.getFirstSuggestion(),this.inputView.setInputValue(b.value),this.eventBus.trigger("autocompleted",b.datum,b.dataset))},_propagateEvent:function(a){this.eventBus.trigger(a.type)},
destroy:function(){this.inputView.destroy();this.dropdownView.destroy();var a=this.$node,b=a.find(".tt-query");j.each(b.data("ttAttrs"),function(a,c){j.isUndefined(c)?b.removeAttr(a):b.attr(a,c)});b.detach().removeData("ttAttrs").removeClass("tt-query").insertAfter(a);a.remove();this.$node=null},setQuery:function(a){this.inputView.setQuery(a);this.inputView.setInputValue(a);this._clearHint();this._clearSuggestions();this._getSuggestions()}});var P={},r;r={initialize:function(b){var c,b=j.isArray(b)?
b:[b];0===b.length&&a.error("no datasets provided");c=j.map(b,function(a){var b=P[a.name]?P[a.name]:new J(a);a.name&&(P[a.name]=b);return b});return this.each(function(){var b=a(this),d,f=new q({el:b});d=j.map(c,function(a){return a.initialize()});b.data("ttView",new O({input:b,eventBus:f=new q({el:b}),datasets:c}));a.when.apply(a,d).always(function(){j.defer(function(){f.trigger("initialized")})})})},destroy:function(){return this.each(function(){var b=a(this),c=b.data("ttView");c&&(c.destroy(),
b.removeData("ttView"))})},setQuery:function(b){return this.each(function(){var c=a(this).data("ttView");c&&c.setQuery(b)})}};jQuery.fn.typeahead=function(a){return r[a]?r[a].apply(this,[].slice.call(arguments,1)):r.initialize.apply(this,arguments)}})(window.jQuery);(function(a,c,g,b){function f(b,c){this.element=b;this.options=a.extend(!0,{},j,c);this.options.share=c.share;this._defaults=j;this._name=d;this.init()}var d="sharrre",j={className:"sharrre",share:{googlePlus:!1,facebook:!1,twitter:!1,digg:!1,delicious:!1,stumbleupon:!1,linkedin:!1,pinterest:!1},shareTotal:0,template:"",title:"",url:g.location.href,text:g.title,urlCurl:"sharrre.php",count:{},total:0,shorterTotal:!0,enableHover:!0,enableCounter:!0,enableTracking:!1,hover:function(){},hide:function(){},
click:function(){},render:function(){},buttons:{googlePlus:{url:"",urlCount:!1,size:"medium",lang:"en-US",annotation:""},facebook:{url:"",urlCount:!1,action:"like",layout:"button_count",width:"",send:"false",faces:"false",colorscheme:"",font:"",lang:"en_US"},twitter:{url:"",urlCount:!1,count:"horizontal",hashtags:"",via:"",related:"",lang:"en"},digg:{url:"",urlCount:!1,type:"DiggCompact"},delicious:{url:"",urlCount:!1,size:"medium"},stumbleupon:{url:"",urlCount:!1,layout:"1"},linkedin:{url:"",urlCount:!1,
counter:""},pinterest:{url:"",media:"",description:"",layout:"horizontal"}}},p={googlePlus:"",facebook:"https://graph.facebook.com/fql?q=SELECT%20url,%20normalized_url,%20share_count,%20like_count,%20comment_count,%20total_count,commentsbox_count,%20comments_fbid,%20click_count%20FROM%20link_stat%20WHERE%20url=%27{url}%27&callback=?",twitter:"http://cdn.api.twitter.com/1/urls/count.json?url={url}&callback=?",digg:"http://services.digg.com/2.0/story.getInfo?links={url}&type=javascript&callback=?",
delicious:"http://feeds.delicious.com/v2/json/urlinfo/data?url={url}&callback=?",stumbleupon:"",linkedin:"http://www.linkedin.com/countserv/count/share?format=jsonp&url={url}&callback=?",pinterest:"http://api.pinterest.com/v1/urls/count.json?url={url}&callback=?"},m={googlePlus:function(b){var d=b.options.buttons.googlePlus;a(b.element).find(".buttons").append('<div class="button googleplus"><div class="g-plusone" data-size="'+d.size+'" data-href="'+(""!==d.url?d.url:b.options.url)+'" data-annotation="'+
d.annotation+'"></div></div>');c.___gcfg={lang:b.options.buttons.googlePlus.lang};"undefined"===typeof gapi?(b=g.createElement("script"),b.type="text/javascript",b.async=!0,b.src="//apis.google.com/js/plusone.js",d=g.getElementsByTagName("script")[0],d.parentNode.insertBefore(b,d)):gapi.plusone.go()},facebook:function(b){var c=b.options.buttons.facebook;a(b.element).find(".buttons").append('<div class="button facebook"><div id="fb-root"></div><div class="fb-like" data-href="'+(""!==c.url?c.url:b.options.url)+
'" data-send="'+c.send+'" data-layout="'+c.layout+'" data-width="'+c.width+'" data-show-faces="'+c.faces+'" data-action="'+c.action+'" data-colorscheme="'+c.colorscheme+'" data-font="'+c.font+'" data-via="'+c.via+'"></div></div>');if("undefined"===typeof FB){var d=g.getElementsByTagName("script")[0];g.getElementById("facebook-jssdk")||(b=g.createElement("script"),b.id="facebook-jssdk",b.src="//connect.facebook.net/"+c.lang+"/all.js#xfbml=1",d.parentNode.insertBefore(b,d))}else FB.XFBML.parse()},twitter:function(b){var c=
b.options.buttons.twitter;a(b.element).find(".buttons").append('<div class="button twitter"><a href="https://twitter.com/share" class="twitter-share-button" data-url="'+(""!==c.url?c.url:b.options.url)+'" data-count="'+c.count+'" data-text="'+b.options.text+'" data-via="'+c.via+'" data-hashtags="'+c.hashtags+'" data-related="'+c.related+'" data-lang="'+c.lang+'">Tweet</a></div>');"undefined"===typeof twttr?(b=g.createElement("script"),b.type="text/javascript",b.async=!0,b.src="//platform.twitter.com/widgets.js",
c=g.getElementsByTagName("script")[0],c.parentNode.insertBefore(b,c)):a.ajax({url:"//platform.twitter.com/widgets.js",dataType:"script",cache:!0})},digg:function(b){var c=b.options.buttons.digg;a(b.element).find(".buttons").append('<div class="button digg"><a class="DiggThisButton '+c.type+'" rel="nofollow external" href="http://digg.com/submit?url='+encodeURIComponent(""!==c.url?c.url:b.options.url)+'"></a></div>');"undefined"===typeof __DBW&&(b=g.createElement("SCRIPT"),c=g.getElementsByTagName("SCRIPT")[0],
b.type="text/javascript",b.async=!0,b.src="//widgets.digg.com/buttons.js",c.parentNode.insertBefore(b,c))},delicious:function(b){if("tall"==b.options.buttons.delicious.size)var c="width:50px;",d="height:35px;width:50px;font-size:15px;line-height:35px;",f="height:18px;line-height:18px;margin-top:3px;";else c="width:93px;",d="float:right;padding:0 3px;height:20px;width:26px;line-height:20px;",f="float:left;height:20px;line-height:20px;";var g=b.shorterTotal(b.options.count.delicious);"undefined"===
typeof g&&(g=0);a(b.element).find(".buttons").append('<div class="button delicious"><div style="'+c+'font:12px Arial,Helvetica,sans-serif;cursor:pointer;color:#666666;display:inline-block;float:none;height:20px;line-height:normal;margin:0;padding:0;text-indent:0;vertical-align:baseline;"><div style="'+d+'background-color:#fff;margin-bottom:5px;overflow:hidden;text-align:center;border:1px solid #ccc;border-radius:3px;">'+g+'</div><div style="'+f+'display:block;padding:0;text-align:center;text-decoration:none;width:50px;background-color:#7EACEE;border:1px solid #40679C;border-radius:3px;color:#fff;"><img src="http://www.delicious.com/static/img/delicious.small.gif" height="10" width="10" alt="Delicious" /> Add</div></div></div>');
a(b.element).find(".delicious").on("click",function(){b.openPopup("delicious")})},stumbleupon:function(b){var d=b.options.buttons.stumbleupon;a(b.element).find(".buttons").append('<div class="button stumbleupon"><su:badge layout="'+d.layout+'" location="'+(""!==d.url?d.url:b.options.url)+'"></su:badge></div>');"undefined"===typeof STMBLPN?(b=g.createElement("script"),b.type="text/javascript",b.async=!0,b.src="//platform.stumbleupon.com/1/widgets.js",d=g.getElementsByTagName("script")[0],d.parentNode.insertBefore(b,
d),s=c.setTimeout(function(){"undefined"!==typeof STMBLPN&&(STMBLPN.processWidgets(),clearInterval(s))},500)):STMBLPN.processWidgets()},linkedin:function(b){var d=b.options.buttons.linkedin;a(b.element).find(".buttons").append('<div class="button linkedin"><script type="in/share" data-url="'+(""!==d.url?d.url:b.options.url)+'" data-counter="'+d.counter+'"><\/script></div>');"undefined"===typeof c.IN?(b=g.createElement("script"),b.type="text/javascript",b.async=!0,b.src="//platform.linkedin.com/in.js",
d=g.getElementsByTagName("script")[0],d.parentNode.insertBefore(b,d)):c.IN.init()},pinterest:function(b){var c=b.options.buttons.pinterest;a(b.element).find(".buttons").append('<div class="button pinterest"><a href="http://pinterest.com/pin/create/button/?url='+(""!==c.url?c.url:b.options.url)+"&media="+c.media+"&description="+c.description+'" class="pin-it-button" count-layout="'+c.layout+'">Pin It</a></div>');b=g.createElement("script");b.type="text/javascript";b.async=!0;b.src="//assets.pinterest.com/js/pinit.js";
c=g.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}},q={googlePlus:function(){},facebook:function(){fb=c.setInterval(function(){"undefined"!==typeof FB&&(FB.Event.subscribe("edge.create",function(a){_gaq.push(["_trackSocial","facebook","like",a])}),FB.Event.subscribe("edge.remove",function(a){_gaq.push(["_trackSocial","facebook","unlike",a])}),FB.Event.subscribe("message.send",function(a){_gaq.push(["_trackSocial","facebook","send",a])}),clearInterval(fb))},1E3)},twitter:function(){tw=
c.setInterval(function(){"undefined"!==typeof twttr&&(twttr.events.bind("tweet",function(a){a&&_gaq.push(["_trackSocial","twitter","tweet"])}),clearInterval(tw))},1E3)},digg:function(){},delicious:function(){},stumbleupon:function(){},linkedin:function(){},pinterest:function(){}},t={googlePlus:function(a){c.open("https://plus.google.com/share?hl="+a.buttons.googlePlus.lang+"&url="+encodeURIComponent(""!==a.buttons.googlePlus.url?a.buttons.googlePlus.url:a.url),"","toolbar=0, status=0, width=900, height=500")},
facebook:function(a){c.open("http://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(""!==a.buttons.facebook.url?a.buttons.facebook.url:a.url)+"&t="+a.text+"","","toolbar=0, status=0, width=900, height=500")},twitter:function(a){c.open("https://twitter.com/intent/tweet?text="+encodeURIComponent(a.text)+"&url="+encodeURIComponent(""!==a.buttons.twitter.url?a.buttons.twitter.url:a.url)+(""!==a.buttons.twitter.via?"&via="+a.buttons.twitter.via:""),"","toolbar=0, status=0, width=650, height=360")},
digg:function(a){c.open("http://digg.com/tools/diggthis/submit?url="+encodeURIComponent(""!==a.buttons.digg.url?a.buttons.digg.url:a.url)+"&title="+a.text+"&related=true&style=true","","toolbar=0, status=0, width=650, height=360")},delicious:function(a){c.open("http://www.delicious.com/save?v=5&noui&jump=close&url="+encodeURIComponent(""!==a.buttons.delicious.url?a.buttons.delicious.url:a.url)+"&title="+a.text,"delicious","toolbar=no,width=550,height=550")},stumbleupon:function(a){c.open("http://www.stumbleupon.com/badge/?url="+
encodeURIComponent(""!==a.buttons.delicious.url?a.buttons.delicious.url:a.url),"stumbleupon","toolbar=no,width=550,height=550")},linkedin:function(a){c.open("https://www.linkedin.com/cws/share?url="+encodeURIComponent(""!==a.buttons.delicious.url?a.buttons.delicious.url:a.url)+"&token=&isFramed=true","linkedin","toolbar=no,width=550,height=550")},pinterest:function(a){c.open("http://pinterest.com/pin/create/button/?url="+encodeURIComponent(""!==a.buttons.pinterest.url?a.buttons.pinterest.url:a.url)+
"&media="+encodeURIComponent(a.buttons.pinterest.media)+"&description="+a.buttons.pinterest.description,"pinterest","toolbar=no,width=700,height=300")}};f.prototype.init=function(){var b=this;""!==this.options.urlCurl&&(p.googlePlus=this.options.urlCurl+"?url={url}&type=googlePlus",p.stumbleupon=this.options.urlCurl+"?url={url}&type=stumbleupon");a(this.element).addClass(this.options.className);"undefined"!==typeof a(this.element).data("title")&&(this.options.title=a(this.element).attr("data-title"));
"undefined"!==typeof a(this.element).data("url")&&(this.options.url=a(this.element).data("url"));"undefined"!==typeof a(this.element).data("text")&&(this.options.text=a(this.element).data("text"));a.each(this.options.share,function(a,c){!0===c&&b.options.shareTotal++});!0===b.options.enableCounter?a.each(this.options.share,function(a,c){if(!0===c)try{b.getSocialJson(a)}catch(d){}}):""!==b.options.template?this.options.render(this,this.options):this.loadButtons();a(this.element).hover(function(){0===
a(this).find(".buttons").length&&!0===b.options.enableHover&&b.loadButtons();b.options.hover(b,b.options)},function(){b.options.hide(b,b.options)});a(this.element).click(function(){b.options.click(b,b.options);return!1})};f.prototype.loadButtons=function(){var b=this;a(this.element).append('<div class="buttons"></div>');a.each(b.options.share,function(a,c){if(!0==c&&(m[a](b),!0===b.options.enableTracking))q[a]()})};f.prototype.getSocialJson=function(b){var c=this,d=0,f=p[b].replace("{url}",encodeURIComponent(this.options.url));
!0===this.options.buttons[b].urlCount&&""!==this.options.buttons[b].url&&(f=p[b].replace("{url}",this.options.buttons[b].url));""!=f&&""!==c.options.urlCurl?a.getJSON(f,function(a){"undefined"!==typeof a.count?(a=a.count+"",a=a.replace("\u00c2\u00a0",""),d+=parseInt(a,10)):a.data&&0<a.data.length&&"undefined"!==typeof a.data[0].total_count?d+=parseInt(a.data[0].total_count,10):"undefined"!==typeof a[0]&&(d+=parseInt(a[0].total_posts,10));c.options.count[b]=d;c.options.total+=d;c.renderer();c.rendererPerso()}).error(function(){c.options.count[b]=
0;c.rendererPerso()}):(c.renderer(),c.options.count[b]=0,c.rendererPerso())};f.prototype.rendererPerso=function(){var a=0;for(e in this.options.count)a++;a===this.options.shareTotal&&this.options.render(this,this.options)};f.prototype.renderer=function(){var b=this.options.total,c=this.options.template;!0===this.options.shorterTotal&&(b=this.shorterTotal(b));""!==c?(c=c.replace("{total}",b),a(this.element).html(c)):a(this.element).html('<div class="box"><a class="count" href="#">'+b+"</a>"+(""!==
this.options.title?'<a class="share" href="#">'+this.options.title+"</a>":"")+"</div>")};f.prototype.shorterTotal=function(a){1E6<=a?a=(a/1E6).toFixed(2)+"M":1E3<=a&&(a=(a/1E3).toFixed(1)+"k");return a};f.prototype.openPopup=function(a){t[a](this.options);if(!0===this.options.enableTracking){var b={googlePlus:{site:"Google",action:"+1"},facebook:{site:"facebook",action:"like"},twitter:{site:"twitter",action:"tweet"},digg:{site:"digg",action:"add"},delicious:{site:"delicious",action:"add"},stumbleupon:{site:"stumbleupon",
action:"add"},linkedin:{site:"linkedin",action:"share"},pinterest:{site:"pinterest",action:"pin"}};_gaq.push(["_trackSocial",b[a].site,b[a].action])}};f.prototype.simulateClick=function(){var b=a(this.element).html();a(this.element).html(b.replace(this.options.total,this.options.total+1))};f.prototype.update=function(a,b){""!==a&&(this.options.url=a);""!==b&&(this.options.text=b)};a.fn[d]=function(c){var g=arguments;if(c===b||"object"===typeof c)return this.each(function(){a.data(this,"plugin_"+d)||
a.data(this,"plugin_"+d,new f(this,c))});if("string"===typeof c&&"_"!==c[0]&&"init"!==c)return this.each(function(){var b=a.data(this,"plugin_"+d);b instanceof f&&"function"===typeof b[c]&&b[c].apply(b,Array.prototype.slice.call(g,1))})}})(jQuery,window,document);(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):a(jQuery)})(function(a){function c(a){if(b[a])return b[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof a||!a)return b.bind.apply(this,arguments);g.error("Method "+a+" does not exist on jQuery.regula")}var g=a,b={bind:function(b){this instanceof a&&(b||(b={}),0<this.get().length&&g.extend(!0,b,{elements:this.get()}));regula.bind(b);return this},unbind:function(b){this instanceof a&&(b||(b={}),0<this.get().length&&
g.extend(!0,b,{elements:this.get()}));regula.unbind(b);return this},isBound:function(b){this instanceof a&&(b||(b={}),0<this.get().length&&g.extend(!0,b,{element:this.get(0)}));regula.isBound(b);return this},validate:function(b){this instanceof a&&(b||(b={}),0<this.get().length&&g.extend(!0,b,{elements:this.get()}));return regula.validate(b)},custom:function(a){regula.custom(a);return this},compound:function(a){regula.compound(a);return this},override:function(a){regula.override(a);return this}};
b.on=b.bind;b.off=b.unbind;g.fn.regula=c;g.regula=c});(function(a){a.fn.extend({leanModal:function(c){function g(b){a(b).css({display:"none"}).removeClass("visible-modal");0===a(".visible-modal").length?a("#lean_overlay").fadeOut(200):a(".visible-modal").css({zIndex:11E3})}var b=a("<div id='lean_overlay'></div>");a("body").append(b);c=a.extend({top:100,overlay:0.3,closeButton:null},c);return this.each(function(){var b=c;a(this).click(function(c){var j=a(this).attr("href");a("#lean_overlay").click(function(){g(j)});a(b.closeButton).click(function(){g(j)});
a(j).outerHeight();var p=a(j).outerWidth();a("#lean_overlay").css({display:"block",opacity:0});a("#lean_overlay").fadeTo(200,b.overlay);a(j).css({display:"block",position:"scroll"===b.top?"absolute":"fixed",opacity:0,"z-index":11E3,left:"50%","margin-left":-(p/2)+"px",top:("scroll"===b.top&&a.fn._scrollable?a(window)._scrollable().prop("scrollTop"):b.top)+"px"});a(".visible-modal").css({zIndex:9999});a(j).fadeTo(200,1).addClass("visible-modal");c.preventDefault()})})}})})(jQuery);(function(a){function c(){f=!1;for(var b=0;b<g.length;b++){var c=a(g[b]).filter(function(){return a(this).is(":appeared")});c.trigger("appear",[c]);if(p){var d=p.not(c);d.trigger("disappear",[d])}p=c}}var g=[],b=!1,f=!1,d={interval:250,force_process:!1},j=a(window),p;a.expr[":"].appeared=function(b){b=a(b);if(!b.is(":visible"))return!1;var c=j.scrollLeft(),d=j.scrollTop(),f=b.offset(),g=f.left,f=f.top;return f+b.height()>=d&&f-(b.data("appear-top-offset")||0)<=d+j.height()&&g+b.width()>=c&&g-(b.data("appear-left-offset")||
0)<=c+j.width()?!0:!1};a.fn.extend({appear:function(j){var p=a.extend({},d,j||{}),j=this.selector||this;if(!b){var t=function(){f||(f=!0,setTimeout(c,p.interval))};a(window).scroll(t).resize(t);b=!0}p.force_process&&setTimeout(c,p.interval);g.push(j);return a(j)}});a.extend({force_appear:function(){return b?(c(),!0):!1}})})(jQuery);/*
 New BSD License <http://creativecommons.org/licenses/BSD/>
 Public Domain
 @author Benjamin Arthur Lupton <contact@balupton.com>
 @author James Padolsey <https://gist.github.com/527683>
 Public Domain
 @author Benjamin Arthur Lupton <contact@balupton.com>
 New BSD License <http://creativecommons.org/licenses/BSD/>
*/
(function(a,c){var g=a.History=a.History||{},b=a.jQuery;if("undefined"!==typeof g.Adapter)throw Error("History.js Adapter has already been loaded...");g.Adapter={bind:function(a,c,g){b(a).bind(c,g)},trigger:function(a,c,g){b(a).trigger(c,g)},extractEventData:function(a,b,g){return b&&b.originalEvent&&b.originalEvent[a]||g&&g[a]||c},onDomLoad:function(a){b(a)}};"undefined"!==typeof g.init&&g.init()})(window);
(function(a,c){var g=a.console||c,b=a.document,f=a.navigator,d=a.sessionStorage||!1,j=a.setTimeout,p=a.clearTimeout,m=a.setInterval,q=a.clearInterval,t=a.JSON,n=a.alert,h=a.History=a.History||{},x=a.history;try{d.setItem("TEST","1"),d.removeItem("TEST")}catch(z){d=!1}t.stringify=t.stringify||t.encode;t.parse=t.parse||t.decode;if("undefined"!==typeof h.init)throw Error("History.js Core has already been loaded...");h.init=function(){if("undefined"===typeof h.Adapter)return!1;"undefined"!==typeof h.initCore&&
h.initCore();"undefined"!==typeof h.initHtml4&&h.initHtml4();return!0};h.initCore=function(){if("undefined"!==typeof h.initCore.initialized)return!1;h.initCore.initialized=!0;h.options=h.options||{};h.options.hashChangeInterval=h.options.hashChangeInterval||100;h.options.safariPollInterval=h.options.safariPollInterval||500;h.options.doubleCheckInterval=h.options.doubleCheckInterval||500;h.options.disableSuid=h.options.disableSuid||!1;h.options.storeInterval=h.options.storeInterval||1E3;h.options.busyDelay=
h.options.busyDelay||250;h.options.debug=h.options.debug||!1;h.options.initialTitle=h.options.initialTitle||b.title;h.options.html4Mode=h.options.html4Mode||!1;h.options.delayInit=h.options.delayInit||!1;h.intervalList=[];h.clearAllIntervals=function(){var a,b=h.intervalList;if("undefined"!==typeof b&&null!==b){for(a=0;a<b.length;a++)q(b[a]);h.intervalList=null}};h.debug=function(){h.options.debug&&h.log.apply(h,arguments)};h.log=function(){var a=!("undefined"===typeof g||"undefined"===typeof g.log||
"undefined"===typeof g.log.apply),c=b.getElementById("log"),d,f,h,j;a?(f=Array.prototype.slice.call(arguments),d=f.shift(),"undefined"!==typeof g.debug?g.debug.apply(g,[d,f]):g.log.apply(g,[d,f])):d="\n"+arguments[0]+"\n";f=1;for(h=arguments.length;f<h;++f){j=arguments[f];if("object"===typeof j&&"undefined"!==typeof t)try{j=t.stringify(j)}catch(m){}d+="\n"+j+"\n"}c?(c.value+=d+"\n-----\n",c.scrollTop=c.scrollHeight-c.clientHeight):a||n(d);return!0};h.getInternetExplorerMajorVersion=function(){var a=
h.getInternetExplorerMajorVersion,c;if("undefined"!==typeof h.getInternetExplorerMajorVersion.cached)c=h.getInternetExplorerMajorVersion.cached;else{c=3;for(var d=b.createElement("div"),f=d.getElementsByTagName("i");(d.innerHTML="<\!--[if gt IE "+ ++c+"]><i></i><![endif]--\>")&&f[0];);c=4<c?c:!1}return a.cached=c};h.isInternetExplorer=function(){return h.isInternetExplorer.cached="undefined"!==typeof h.isInternetExplorer.cached?h.isInternetExplorer.cached:Boolean(h.getInternetExplorerMajorVersion())};
h.emulated=h.options.html4Mode?{pushState:!0,hashChange:!0}:{pushState:!Boolean(a.history&&a.history.pushState&&a.history.replaceState&&!(/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(f.userAgent)||/AppleWebKit\/5([0-2]|3[0-2])/i.test(f.userAgent))),hashChange:Boolean(!("onhashchange"in a||"onhashchange"in b)||h.isInternetExplorer()&&8>h.getInternetExplorerMajorVersion())};h.enabled=!h.emulated.pushState;h.bugs={setHash:Boolean(!h.emulated.pushState&&"Apple Computer, Inc."===f.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(f.userAgent)),
safariPoll:Boolean(!h.emulated.pushState&&"Apple Computer, Inc."===f.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(f.userAgent)),ieDoubleCheck:Boolean(h.isInternetExplorer()&&8>h.getInternetExplorerMajorVersion()),hashEscape:Boolean(h.isInternetExplorer()&&7>h.getInternetExplorerMajorVersion())};h.isEmptyObject=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0};h.cloneObject=function(a){a?(a=t.stringify(a),a=t.parse(a)):a={};return a};h.getRootUrl=function(){var a=b.location.protocol+
"//"+(b.location.hostname||b.location.host);b.location.port&&(a+=":"+b.location.port);return a+"/"};h.getBaseHref=function(){var a=b.getElementsByTagName("base"),c=null,c="";1===a.length&&(c=a[0],c=c.href.replace(/[^\/]+$/,""));(c=c.replace(/\/+$/,""))&&(c+="/");return c};h.getBaseUrl=function(){return h.getBaseHref()||h.getBasePageUrl()||h.getRootUrl()};h.getPageUrl=function(){return((h.getState(!1,!1)||{}).url||h.getLocationHref()).replace(/\/+$/,"").replace(/[^\/]+$/,function(a){return/\./.test(a)?
a:a+"/"})};h.getBasePageUrl=function(){return h.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(a){return/[^\/]$/.test(a)?"":a}).replace(/\/+$/,"")+"/"};h.getFullUrl=function(a,b){var c=a,d=a.substring(0,1),b="undefined"===typeof b?!0:b;/[a-z]+\:\/\//.test(a)||(c="/"===d?h.getRootUrl()+a.replace(/^\/+/,""):"#"===d?h.getPageUrl().replace(/#.*/,"")+a:"?"===d?h.getPageUrl().replace(/[\?#].*/,"")+a:b?h.getBaseUrl()+a.replace(/^(\.\/)+/,""):h.getBasePageUrl()+a.replace(/^(\.\/)+/,""));
return c.replace(/\#$/,"")};h.getShortUrl=function(a){var b=h.getBaseUrl(),c=h.getRootUrl();h.emulated.pushState&&(a=a.replace(b,""));a=a.replace(c,"/");h.isTraditionalAnchor(a)&&(a="./"+a);return a=a.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")};h.getLocationHref=function(a){a=a||b;return a.URL===a.location.href?a.location.href:a.location.href===decodeURIComponent(a.URL)?a.URL:a.location.hash&&decodeURIComponent(a.location.href.replace(/^[^#]+/,""))===a.location.hash||-1==a.URL.indexOf("#")&&-1!=
a.location.href.indexOf("#")?a.location.href:a.URL||a.location.href};h.store={};h.idToState=h.idToState||{};h.stateToId=h.stateToId||{};h.urlToId=h.urlToId||{};h.storedStates=h.storedStates||[];h.savedStates=h.savedStates||[];h.normalizeStore=function(){h.store.idToState=h.store.idToState||{};h.store.urlToId=h.store.urlToId||{};h.store.stateToId=h.store.stateToId||{}};h.getState=function(a,b){"undefined"===typeof a&&(a=!0);"undefined"===typeof b&&(b=!0);var c=h.getLastSavedState();!c&&b&&(c=h.createStateObject());
a&&(c=h.cloneObject(c),c.url=c.cleanUrl||c.url);return c};h.getIdByState=function(a){var b=h.extractId(a.url),c;if(!b)if(c=h.getStateString(a),"undefined"!==typeof h.stateToId[c])b=h.stateToId[c];else if("undefined"!==typeof h.store.stateToId[c])b=h.store.stateToId[c];else{for(;!(b=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"===typeof h.idToState[b]&&"undefined"===typeof h.store.idToState[b]););h.stateToId[c]=b;h.idToState[b]=a}return b};h.normalizeState=function(a){var b;
if(!a||"object"!==typeof a)a={};if("undefined"!==typeof a.normalized)return a;if(!a.data||"object"!==typeof a.data)a.data={};b={normalized:!0};b.title=a.title||"";b.url=h.getFullUrl(a.url?a.url:h.getLocationHref());b.hash=h.getShortUrl(b.url);b.data=h.cloneObject(a.data);b.id=h.getIdByState(b);b.cleanUrl=b.url.replace(/\??\&_suid.*/,"");b.url=b.cleanUrl;a=!h.isEmptyObject(b.data);if((b.title||a)&&!0!==h.options.disableSuid)b.hash=h.getShortUrl(b.url).replace(/\??\&_suid.*/,""),/\?/.test(b.hash)||
(b.hash+="?"),b.hash+="&_suid="+b.id;b.hashedUrl=h.getFullUrl(b.hash);if((h.emulated.pushState||h.bugs.safariPoll)&&h.hasUrlDuplicate(b))b.url=b.hashedUrl;return b};h.createStateObject=function(a,b,c){a={data:a,title:b,url:c};return a=h.normalizeState(a)};h.getStateById=function(a){a=String(a);return h.idToState[a]||h.store.idToState[a]||c};h.getStateString=function(a){a={data:h.normalizeState(a).data,title:a.title,url:a.url};return t.stringify(a)};h.getStateId=function(a){return h.normalizeState(a).id};
h.getHashByState=function(a){return h.normalizeState(a).hash};h.extractId=function(a){a=-1!=a.indexOf("#")?a.split("#")[0]:a;return((a=/(.*)\&_suid=([0-9]+)$/.exec(a))?String(a[2]||""):"")||!1};h.isTraditionalAnchor=function(a){return!/[\/\?\.]/.test(a)};h.extractState=function(a,b){var c=null,d,f,b=b||!1;(d=h.extractId(a))&&(c=h.getStateById(d));c||(f=h.getFullUrl(a),(d=h.getIdByUrl(f)||!1)&&(c=h.getStateById(d)),!c&&(b&&!h.isTraditionalAnchor(a))&&(c=h.createStateObject(null,null,f)));return c};
h.getIdByUrl=function(a){return h.urlToId[a]||h.store.urlToId[a]||c};h.getLastSavedState=function(){return h.savedStates[h.savedStates.length-1]||c};h.getLastStoredState=function(){return h.storedStates[h.storedStates.length-1]||c};h.hasUrlDuplicate=function(a){var b=!1;return b=(b=h.extractState(a.url))&&b.id!==a.id};h.storeState=function(a){h.urlToId[a.url]=a.id;h.storedStates.push(h.cloneObject(a));return a};h.isLastSavedState=function(a){var b=!1;h.savedStates.length&&(a=a.id,b=h.getLastSavedState(),
b=b.id,b=a===b);return b};h.saveState=function(a){if(h.isLastSavedState(a))return!1;h.savedStates.push(h.cloneObject(a));return!0};h.getStateByIndex=function(a){var b=null;return b="undefined"===typeof a?h.savedStates[h.savedStates.length-1]:0>a?h.savedStates[h.savedStates.length+a]:h.savedStates[a]};h.getCurrentIndex=function(){var a=null;return a=1>h.savedStates.length?0:h.savedStates.length-1};h.getHash=function(a){a=h.getLocationHref(a);return h.getHashByUrl(a)};h.unescapeHash=function(a){a=h.normalizeHash(a);
return a=decodeURIComponent(a)};h.normalizeHash=function(a){return a.replace(/[^#]*#/,"").replace(/#.*/,"")};h.setHash=function(a,c){var d;if(!1!==c&&h.busy())return h.pushQueue({scope:h,callback:h.setHash,args:arguments,queue:c}),!1;h.busy(!0);(d=h.extractState(a,!0))&&!h.emulated.pushState?h.pushState(d.data,d.title,d.url,!1):h.getHash()!==a&&(h.bugs.setHash?(d=h.getPageUrl(),h.pushState(null,null,d+"#"+a,!1)):b.location.hash=a);return h};h.escapeHash=function(b){b=h.normalizeHash(b);b=a.encodeURIComponent(b);
h.bugs.hashEscape||(b=b.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?"));return b};h.getHashByUrl=function(a){a=String(a).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return a=h.unescapeHash(a)};h.setTitle=function(a){var c=a.title,d;c||(d=h.getStateByIndex(0))&&d.url===a.url&&(c=d.title||h.options.initialTitle);try{b.getElementsByTagName("title")[0].innerHTML=c.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(f){}b.title=c;return h};h.queues=[];
h.busy=function(a){"undefined"!==typeof a?h.busy.flag=a:"undefined"===typeof h.busy.flag&&(h.busy.flag=!1);if(!h.busy.flag){p(h.busy.timeout);var b=function(){var a,c;if(!h.busy.flag)for(a=h.queues.length-1;0<=a;--a)c=h.queues[a],0!==c.length&&(c=c.shift(),h.fireQueueItem(c),h.busy.timeout=j(b,h.options.busyDelay))};h.busy.timeout=j(b,h.options.busyDelay)}return h.busy.flag};h.busy.flag=!1;h.fireQueueItem=function(a){return a.callback.apply(a.scope||h,a.args||[])};h.pushQueue=function(a){h.queues[a.queue||
0]=h.queues[a.queue||0]||[];h.queues[a.queue||0].push(a);return h};h.queue=function(a,b){"function"===typeof a&&(a={callback:a});"undefined"!==typeof b&&(a.queue=b);h.busy()?h.pushQueue(a):h.fireQueueItem(a);return h};h.clearQueue=function(){h.busy.flag=!1;h.queues=[];return h};h.stateChanged=!1;h.doubleChecker=!1;h.doubleCheckComplete=function(){h.stateChanged=!0;h.doubleCheckClear();return h};h.doubleCheckClear=function(){h.doubleChecker&&(p(h.doubleChecker),h.doubleChecker=!1);return h};h.doubleCheck=
function(a){h.stateChanged=!1;h.doubleCheckClear();h.bugs.ieDoubleCheck&&(h.doubleChecker=j(function(){h.doubleCheckClear();h.stateChanged||a();return!0},h.options.doubleCheckInterval));return h};h.safariStatePoll=function(){var b=h.extractState(h.getLocationHref());if(!h.isLastSavedState(b))return b||h.createStateObject(),h.Adapter.trigger(a,"popstate"),h};h.back=function(a){if(!1!==a&&h.busy())return h.pushQueue({scope:h,callback:h.back,args:arguments,queue:a}),!1;h.busy(!0);h.doubleCheck(function(){h.back(!1)});
x.go(-1);return!0};h.forward=function(a){if(!1!==a&&h.busy())return h.pushQueue({scope:h,callback:h.forward,args:arguments,queue:a}),!1;h.busy(!0);h.doubleCheck(function(){h.forward(!1)});x.go(1);return!0};h.go=function(a,b){var c;if(0<a)for(c=1;c<=a;++c)h.forward(b);else if(0>a)for(c=-1;c>=a;--c)h.back(b);else throw Error("History.go: History.go requires a positive or negative integer passed.");return h};if(h.emulated.pushState){var z=function(){};h.pushState=h.pushState||z;h.replaceState=h.replaceState||
z}else h.onPopState=function(b,c){var d=!1,d=!1;h.doubleCheckComplete();if(d=h.getHash())return(d=h.extractState(d||h.getLocationHref(),!0))?h.replaceState(d.data,d.title,d.url,!1):(h.Adapter.trigger(a,"anchorchange"),h.busy(!1)),h.expectedStateId=!1;(d=(d=h.Adapter.extractEventData("state",b,c)||!1)?h.getStateById(d):h.expectedStateId?h.getStateById(h.expectedStateId):h.extractState(h.getLocationHref()))||(d=h.createStateObject(null,null,h.getLocationHref()));h.expectedStateId=!1;if(h.isLastSavedState(d))return h.busy(!1),
!1;h.storeState(d);h.saveState(d);h.setTitle(d);h.Adapter.trigger(a,"statechange");h.busy(!1);return!0},h.Adapter.bind(a,"popstate",h.onPopState),h.pushState=function(b,c,d,f){if(h.getHashByUrl(d)&&h.emulated.pushState)throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==f&&h.busy())return h.pushQueue({scope:h,callback:h.pushState,args:arguments,queue:f}),!1;h.busy(!0);var g=h.createStateObject(b,c,d);h.isLastSavedState(g)?h.busy(!1):(h.storeState(g),
h.expectedStateId=g.id,x.pushState(g.id,g.title,g.url),h.Adapter.trigger(a,"popstate"));return!0},h.replaceState=function(b,c,d,f){if(h.getHashByUrl(d)&&h.emulated.pushState)throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==f&&h.busy())return h.pushQueue({scope:h,callback:h.replaceState,args:arguments,queue:f}),!1;h.busy(!0);var g=h.createStateObject(b,c,d);h.isLastSavedState(g)?h.busy(!1):(h.storeState(g),h.expectedStateId=g.id,x.replaceState(g.id,
g.title,g.url),h.Adapter.trigger(a,"popstate"));return!0};if(d)try{h.store=t.parse(d.getItem("History.store"))||{}}catch(S){h.store={}}else h.store={};h.normalizeStore();h.Adapter.bind(a,"unload",h.clearAllIntervals);h.saveState(h.storeState(h.extractState(h.getLocationHref(),!0)));d&&(h.onUnload=function(){var a,b;try{a=t.parse(d.getItem("History.store"))||{}}catch(c){a={}}a.idToState=a.idToState||{};a.urlToId=a.urlToId||{};a.stateToId=a.stateToId||{};for(b in h.idToState)h.idToState.hasOwnProperty(b)&&
(a.idToState[b]=h.idToState[b]);for(b in h.urlToId)h.urlToId.hasOwnProperty(b)&&(a.urlToId[b]=h.urlToId[b]);for(b in h.stateToId)h.stateToId.hasOwnProperty(b)&&(a.stateToId[b]=h.stateToId[b]);h.store=a;h.normalizeStore();a=t.stringify(a);try{d.setItem("History.store",a)}catch(f){if(f.code===DOMException.QUOTA_EXCEEDED_ERR)d.length&&(d.removeItem("History.store"),d.setItem("History.store",a));else throw f;}},h.intervalList.push(m(h.onUnload,h.options.storeInterval)),h.Adapter.bind(a,"beforeunload",
h.onUnload),h.Adapter.bind(a,"unload",h.onUnload));if(!h.emulated.pushState&&(h.bugs.safariPoll&&h.intervalList.push(m(h.safariStatePoll,h.options.safariPollInterval)),"Apple Computer, Inc."===f.vendor||"Mozilla"===(f.appCodeName||"")))if(h.Adapter.bind(a,"hashchange",function(){h.Adapter.trigger(a,"popstate")}),h.getHash())h.Adapter.onDomLoad(function(){h.Adapter.trigger(a,"hashchange")})};(!h.options||!h.options.delayInit)&&h.init()})(window);(function(a,c,g,b){var f=a(c);a.fn.lazyload=function(d){function j(){var b=0;p.each(function(){var c=a(this);if((!m.skip_invisible||c.is(":visible"))&&!a.abovethetop(this,m)&&!a.leftofbegin(this,m))if(!a.belowthefold(this,m)&&!a.rightoffold(this,m))c.trigger("appear"),b=0;else if(++b>m.failure_limit)return!1})}var p=this,m={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:c,data_attribute:"original",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};
d&&(b!==d.failurelimit&&(d.failure_limit=d.failurelimit,delete d.failurelimit),b!==d.effectspeed&&(d.effect_speed=d.effectspeed,delete d.effectspeed),a.extend(m,d));d=m.container===b||m.container===c?f:a(m.container);0===m.event.indexOf("scroll")&&d.bind(m.event,function(){return j()});this.each(function(){var c=this,d=a(c);c.loaded=!1;(d.attr("src")===b||!1===d.attr("src"))&&d.is("img")&&d.attr("src",m.placeholder);d.one("appear",function(){this.loaded||(m.appear&&m.appear.call(c,p.length,m),a("<img />").bind("load",
function(){var b=d.attr("data-"+m.data_attribute);d.hide();d.is("img")?d.attr("src",b):d.css("background-image","url('"+b+"')");d[m.effect](m.effect_speed);c.loaded=!0;b=a.grep(p,function(a){return!a.loaded});p=a(b);m.load&&m.load.call(c,p.length,m)}).attr("src",d.attr("data-"+m.data_attribute)))});0!==m.event.indexOf("scroll")&&d.bind(m.event,function(){c.loaded||d.trigger("appear")})});f.bind("resize",function(){j()});/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&f.bind("pageshow",
function(b){b.originalEvent&&b.originalEvent.persisted&&p.each(function(){a(this).trigger("appear")})});a(g).ready(function(){j()});return this};a.belowthefold=function(d,g){return(g.container===b||g.container===c?(c.innerHeight?c.innerHeight:f.height())+f.scrollTop():a(g.container).offset().top+a(g.container).height())<=a(d).offset().top-g.threshold};a.rightoffold=function(d,g){return(g.container===b||g.container===c?f.width()+f.scrollLeft():a(g.container).offset().left+a(g.container).width())<=
a(d).offset().left-g.threshold};a.abovethetop=function(d,g){return(g.container===b||g.container===c?f.scrollTop():a(g.container).offset().top)>=a(d).offset().top+g.threshold+a(d).height()};a.leftofbegin=function(d,g){return(g.container===b||g.container===c?f.scrollLeft():a(g.container).offset().left)>=a(d).offset().left+g.threshold+a(d).width()};a.inviewport=function(b,c){return!a.rightoffold(b,c)&&!a.leftofbegin(b,c)&&!a.belowthefold(b,c)&&!a.abovethetop(b,c)};a.extend(a.expr[":"],{"below-the-fold":function(b){return a.belowthefold(b,
{threshold:0})},"above-the-top":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-screen":function(b){return a.rightoffold(b,{threshold:0})},"left-of-screen":function(b){return!a.rightoffold(b,{threshold:0})},"in-viewport":function(b){return a.inviewport(b,{threshold:0})},"above-the-fold":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-fold":function(b){return a.rightoffold(b,{threshold:0})},"left-of-fold":function(b){return!a.rightoffold(b,{threshold:0})}})})(jQuery,window,
document);(function(a){function c(a){return"object"==typeof a?a:{top:a,left:a}}var g=a.scrollTo=function(b,c,d){a(window).scrollTo(b,c,d)};g.defaults={axis:"xy",duration:1.3<=parseFloat(a.fn.jquery)?0:1,limit:!0};g.window=function(){return a(window)._scrollable()};a.fn._scrollable=function(){return this.map(function(){if(this.nodeName&&-1==a.inArray(this.nodeName.toLowerCase(),["iframe","#document","html","body"]))return this;var b=(this.contentWindow||this).document||this.ownerDocument||this;return/webkit/i.test(navigator.userAgent)||
"BackCompat"==b.compatMode?b.body:b.documentElement})};a.fn.scrollTo=function(b,f,d){"object"==typeof f&&(d=f,f=0);"function"==typeof d&&(d={onAfter:d});"max"==b&&(b=9E9);d=a.extend({},g.defaults,d);f=f||d.duration;d.queue=d.queue&&1<d.axis.length;d.queue&&(f/=2);d.offset=c(d.offset);d.over=c(d.over);return this._scrollable().each(function(){function j(a){m.animate(n,f,d.easing,a&&function(){a.call(this,q,d)})}if(null!=b){var p=this,m=a(p),q=b,t,n={},h=m.is("html,body");switch(typeof q){case "number":case "string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(q)){q=
c(q);break}q=a(q,this);if(!q.length)return;case "object":if(q.is||q.style)t=(q=a(q)).offset()}a.each(d.axis.split(""),function(a,b){var c="x"==b?"Left":"Top",f=c.toLowerCase(),u="scroll"+c,A=p[u],B=g.max(p,b);t?(n[u]=t[f]+(h?0:A-m.offset()[f]),d.margin&&(n[u]-=parseInt(q.css("margin"+c))||0,n[u]-=parseInt(q.css("border"+c+"Width"))||0),n[u]+=d.offset[f]||0,d.over[f]&&(n[u]+=q["x"==b?"width":"height"]()*d.over[f])):(c=q[f],n[u]=c.slice&&"%"==c.slice(-1)?parseFloat(c)/100*B:c);d.limit&&/^\d+$/.test(n[u])&&
(n[u]=0>=n[u]?0:Math.min(n[u],B));!a&&d.queue&&(A!=n[u]&&j(d.onAfterFirst),delete n[u])});j(d.onAfter)}}).end()};g.max=function(b,c){var d="x"==c?"Width":"Height",g="scroll"+d;if(!a(b).is("html,body"))return b[g]-a(b)[d.toLowerCase()]();var d="client"+d,p=b.ownerDocument.documentElement,m=b.ownerDocument.body;return Math.max(p[g],m[g])-Math.min(p[d],m[d])}})(jQuery);(function(a){function c(a){return"string"===typeof a}function g(a){var b=p.call(arguments,1);return function(){return a.apply(this,b.concat(p.call(arguments)))}}function b(b,d,f,g,n){var p;g!==j?(d=f.match(b?K:/^([^#?]*)\??([^#]*)(#?.*)/),f=d[3]||"",2===n&&c(g)?g=g.replace(b?v:y,""):(p=h(d[2]),g=c(g)?h[b?J:B](g):g,g=2===n?g:1===n?a.extend({},g,p):a.extend({},p,g),g=t(g),b&&(g=g.replace(I,m))),b=d[1]+(b?H:g||!d[1]?"?":"")+g+f):b=d(f!==j?f:location.href);return b}function f(a,b,d){b===j||"boolean"===
typeof b?(d=b,b=q[a?J:B]()):b=c(b)?b.replace(a?v:y,""):b;return h(b,d)}function d(b,d,f,g){!c(f)&&"object"!==typeof f&&(g=f,f=d,d=j);return this.each(function(){var c=a(this),h=d||u()[(this.nodeName||"").toLowerCase()]||"",j=h&&c.attr(h)||"";c.attr(h,q[b](j,f,g))})}var j,p=Array.prototype.slice,m=decodeURIComponent,q=a.param,t,n,h,x,z=a.bbq=a.bbq||{},D,S,u,A=a.event.special,B="querystring",J="fragment",y=/^.*\?|#.*$/g,v,K,I,Q,H,O={};q[B]=g(b,0,function(a){return a.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,
"$1")});q[J]=n=g(b,1,function(a){return a.replace(K,"$2")});q.sorted=t=function(b,c){var d=[],f={};a.each(q(b,c).split("&"),function(a,b){var c=b.replace(/(?:%5B|=).*$/,""),g=f[c];g||(g=f[c]=[],d.push(c));g.push(b)});return a.map(d.sort(),function(a){return f[a]}).join("&")};n.noEscape=function(b){b=a.map((b||"").split(""),encodeURIComponent);I=RegExp(b.join("|"),"g")};n.noEscape(",/");n.ajaxCrawlable=function(a){a!==j&&(a?(v=/^.*(?:#!|#)/,K=/^([^#]*)(?:#!|#)?(.*)$/,H="#!"):(v=/^.*#/,K=/^([^#]*)#?(.*)$/,
H="#"),Q=!!a);return Q};n.ajaxCrawlable(0);a.deparam=h=function(b,c){var d={},f={"true":!0,"false":!1,"null":null};a.each(b.replace(/\+/g," ").split("&"),function(b,g){var h=g.split("="),n=m(h[0]),p=d,q=0,u=n.split("]["),t=u.length-1;/\[/.test(u[0])&&/\]$/.test(u[t])?(u[t]=u[t].replace(/\]$/,""),u=u.shift().split("[").concat(u),t=u.length-1):t=0;if(2===h.length)if(h=m(h[1]),c&&(h=h&&!isNaN(h)?+h:"undefined"===h?j:f[h]!==j?f[h]:h),t)for(;q<=t;q++)n=""===u[q]?p.length:u[q],p=p[n]=q<t?p[n]||(u[q+1]&&
isNaN(u[q+1])?{}:[]):h;else a.isArray(d[n])?d[n].push(h):d[n]=d[n]!==j?[d[n],h]:h;else n&&(d[n]=c?j:"")});return d};h[B]=g(f,0);h[J]=x=g(f,1);a.elemUrlAttr||(a.elemUrlAttr=function(b){return a.extend(O,b)})({a:"href",base:"href",iframe:"src",img:"src",input:"src",form:"action",link:"href",script:"src"});u=a.elemUrlAttr;a.fn[B]=g(d,B);a.fn[J]=g(d,J);z.pushState=D=function(a,b){c(a)&&(/^#/.test(a)&&b===j)&&(b=2);var d=a!==j,d=n(location.href,d?a:{},d?b:2);location.href=d};z.getState=S=function(a,b){return a===
j||"boolean"===typeof a?x(a):x(b)[a]};z.removeState=function(b){var c={};b!==j&&(c=S(),a.each(a.isArray(b)?b:arguments,function(a,b){delete c[b]}));D(c,2)};A.hashchange=a.extend(A.hashchange,{add:function(b){function c(a){var b=a[J]=n();a.getState=function(a,c){return a===j||"boolean"===typeof a?h(b,a):h(b,c)[a]};d.apply(this,arguments)}var d;if(a.isFunction(b))return d=b,c;d=b.handler;b.handler=c}})})(jQuery,this);
(function(a,c,g){function b(a){a=a||location.href;return"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}var f=document,d,j=a.event.special,p=f.documentMode,m="onhashchange"in c&&(p===g||7<p);a.fn.hashchange=function(a){return a?this.bind("hashchange",a):this.trigger("hashchange")};a.fn.hashchange.delay=50;j.hashchange=a.extend(j.hashchange,{setup:function(){if(m)return!1;a(d.start)},teardown:function(){if(m)return!1;a(d.stop)}});var q=function(){var d=b(),f=x(n);d!==n?(h(n=d,f),a(c).trigger("hashchange")):f!==
n&&(location.href=location.href.replace(/#.*/,"")+f);t=setTimeout(q,a.fn.hashchange.delay)},j={},t,n=b(),h=p=function(a){return a},x=p;j.start=function(){t||q()};j.stop=function(){t&&clearTimeout(t);t=g};if(a.browser.msie&&!m){var z,D;j.start=function(){z||(D=(D=a.fn.hashchange.src)&&D+b(),z=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){D||h(b());q()}).attr("src",D||"javascript:0").insertAfter("body")[0].contentWindow,f.onpropertychange=function(){try{"title"===event.propertyName&&
(z.document.title=f.title)}catch(a){}})};j.stop=p;x=function(){return b(z.location.href)};h=function(b,c){var d=z.document,g=a.fn.hashchange.domain;b!==c&&(d.title=f.title,d.open(),g&&d.write('<script>document.domain="'+g+'"<\/script>'),d.close(),z.location.hash=b)}}d=j})(jQuery,this);var base64={PADCHAR:"=",ALPHA:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",makeDOMException:function(){try{return new DOMException(DOMException.INVALID_CHARACTER_ERR)}catch(a){var c=Error("DOM Exception 5");c.code=c.number=5;c.name=c.description="INVALID_CHARACTER_ERR";c.toString=function(){return"Error: "+c.name+": "+c.message};return c}},getbyte64:function(a,c){var g=base64.ALPHA.indexOf(a.charAt(c));if(-1===g)throw base64.makeDOMException();return g},decode:function(a){var a=
""+a,c=base64.getbyte64,g,b,f,d=a.length;if(0===d)return a;if(0!==d%4)throw base64.makeDOMException();g=0;a.charAt(d-1)===base64.PADCHAR&&(g=1,a.charAt(d-2)===base64.PADCHAR&&(g=2),d-=4);var j=[];for(b=0;b<d;b+=4)f=c(a,b)<<18|c(a,b+1)<<12|c(a,b+2)<<6|c(a,b+3),j.push(String.fromCharCode(f>>16,f>>8&255,f&255));switch(g){case 1:f=c(a,b)<<18|c(a,b+1)<<12|c(a,b+2)<<6;j.push(String.fromCharCode(f>>16,f>>8&255));break;case 2:f=c(a,b)<<18|c(a,b+1)<<12,j.push(String.fromCharCode(f>>16))}return j.join("")},
getbyte:function(a,c){var g=a.charCodeAt(c);if(255<g)throw base64.makeDOMException();return g},encode:function(a){if(1!==arguments.length)throw new SyntaxError("Not enough arguments");var c=base64.PADCHAR,g=base64.ALPHA,b=base64.getbyte,f,d,j=[],a=""+a,p=a.length-a.length%3;if(0===a.length)return a;for(f=0;f<p;f+=3)d=b(a,f)<<16|b(a,f+1)<<8|b(a,f+2),j.push(g.charAt(d>>18)),j.push(g.charAt(d>>12&63)),j.push(g.charAt(d>>6&63)),j.push(g.charAt(d&63));switch(a.length-p){case 1:d=b(a,f)<<16;j.push(g.charAt(d>>
18)+g.charAt(d>>12&63)+c+c);break;case 2:d=b(a,f)<<16|b(a,f+1)<<8,j.push(g.charAt(d>>18)+g.charAt(d>>12&63)+g.charAt(d>>6&63)+c)}return j.join("")}};serialize=function(a,c){var g=[],b;for(b in a){var f=c?c+"["+b+"]":b,d=a[b];g.push("object"==typeof d?serialize(d,f):encodeURIComponent(f)+"="+encodeURIComponent(d))}return g.join("&")};function unserialize_param(a,c){var c=c.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),g=RegExp("[\\?&]"+c+"=([^&#]*)").exec(a);return null!==g?decodeURIComponent(g[1].replace(/\+/g," ")):!1}(function(a){a.getQueryParam=function(a){return unserialize_param(window.location.href,a)}})(jQuery);window.Modernizr=function(a,c,g){var b={},f=c.documentElement,d=c.createElement("modernizr"),d=d.style,j=" -webkit- -moz- -o- -ms- ".split(" "),p={},m=[],q=m.slice,t,n=function(a,b,d,g){var h,j,m,n,p=c.createElement("div"),q=c.body,u=q||c.createElement("body");if(parseInt(d,10))for(;d--;)m=c.createElement("div"),m.id=g?g[d]:"modernizr"+(d+1),p.appendChild(m);return h=['&#173;<style id="smodernizr">',a,"</style>"].join(""),p.id="modernizr",(q?p:u).innerHTML+=h,u.appendChild(p),q||(u.style.background=
"",u.style.overflow="hidden",n=f.style.overflow,f.style.overflow="hidden",f.appendChild(u)),j=b(p,a),q?p.parentNode.removeChild(p):(u.parentNode.removeChild(u),f.style.overflow=n),!!j},h={}.hasOwnProperty,x;"undefined"!==typeof h&&"undefined"!==typeof h.call?x=function(a,b){return h.call(a,b)}:x=function(a,b){return b in a&&"undefined"===typeof a.constructor.prototype[b]};Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=q.call(arguments,
1),d=function(){if(this instanceof d){var f=function(){};f.prototype=b.prototype;var f=new f,g=b.apply(f,c.concat(q.call(arguments)));return Object(g)===g?g:f}return b.apply(a,c.concat(q.call(arguments)))};return d});p.touch=function(){var b;return"ontouchstart"in a||a.DocumentTouch&&c instanceof DocumentTouch?b=!0:n(["@media (",j.join("touch-enabled),("),"modernizr){#modernizr{top:9px;position:absolute}}"].join(""),function(a){b=9===a.offsetTop}),b};p.svg=function(){return!!c.createElementNS&&!!c.createElementNS("http://www.w3.org/2000/svg",
"svg").createSVGRect};for(var z in p)x(p,z)&&(t=z.toLowerCase(),b[t]=p[z](),m.push((b[t]?"":"no-")+t));b.addTest=function(a,c){if("object"==typeof a)for(var d in a)x(a,d)&&b.addTest(d,a[d]);else{a=a.toLowerCase();if(b[a]!==g)return b;c="function"==typeof c?c():c;f.className+=" "+(c?"":"no-")+a;b[a]=c}return b};d.cssText="";var d=null,D=function(){var a=L.elements;return"string"==typeof a?a.split(" "):a},S=function(a){var b=K[a[y]];return b||(b={},v++,a[y]=v,K[v]=b),b},u=function(a,b,d){b||(b=c);if(I)return b.createElement(a);
d||(d=S(b));var f;return d.cache[a]?f=d.cache[a].cloneNode():B.test(a)?f=(d.cache[a]=d.createElem(a)).cloneNode():f=d.createElem(a),f.canHaveChildren&&!A.test(a)&&!f.tagUrn?d.frag.appendChild(f):f};t=function(a){a||(a=c);var b=S(a);if(L.shivCSS&&!J&&!b.hasCSS){var d,f=a;d=f.createElement("p");f=f.getElementsByTagName("head")[0]||f.documentElement;d=(d.innerHTML="x<style>article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}</style>",
f.insertBefore(d.lastChild,f.firstChild));b.hasCSS=!!d}if(!I){var g=a;b.cache||(b.cache={},b.createElem=g.createElement,b.createFrag=g.createDocumentFragment,b.frag=b.createFrag());g.createElement=function(a){return L.shivMethods?u(a,g,b):b.createElem(a)};g.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+D().join().replace(/[\w\-]+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(L,b.frag)}return a};
z=this.html5||{};var A=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,B=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,J,y="_html5shiv",v=0,K={},I;try{var Q=c.createElement("a");Q.innerHTML="<xyz></xyz>";J="hidden"in Q;var H;if(!(H=1==Q.childNodes.length)){c.createElement("a");var O=c.createDocumentFragment();H="undefined"==typeof O.cloneNode||"undefined"==typeof O.createDocumentFragment||"undefined"==typeof O.createElement}I=
H}catch(N){I=J=!0}var L={elements:z.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.7.0",shivCSS:!1!==z.shivCSS,supportsUnknownElements:I,shivMethods:!1!==z.shivMethods,type:"default",shivDocument:t,createElement:u,createDocumentFragment:function(a,b){a||(a=c);if(I)return a.createDocumentFragment();for(var b=b||S(a),d=b.frag.cloneNode(),f=0,g=D(),h=
g.length;f<h;f++)d.createElement(g[f]);return d}};this.html5=L;t(c);return b._version="2.7.1",b._prefixes=j,b.testStyles=n,f.className=f.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(" js "+m.join(" ")),b}(this,this.document);
(function(a,c,g){function b(a){return"[object Function]"==x.call(a)}function f(a){return"string"==typeof a}function d(){}function j(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function p(){var a=z.shift();D=1;a?a.t?n(function(){("c"==a.t?H.injectCss:H.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),p()):D=0}function m(a,b,d,g,r){D=0;b=b||"j";if(f(a)){var m="c"==b?J:B,q=this.i++,t=function(b){if(!x&&j(v.readyState)&&(y.r=x=1,!D&&p(),v.onload=v.onreadystatechange=null,b)){"img"!=m&&n(function(){A.removeChild(v)},
50);for(var c in K[a])K[a].hasOwnProperty(c)&&K[a][c].onload()}},r=r||H.errorTimeout,v=c.createElement(m),x=0,G=0,y={t:b,s:a,e:d,a:g,x:r};1===K[a]&&(G=1,K[a]=[]);"object"==m?v.data=a:(v.src=a,v.type=m);v.width=v.height="0";v.onerror=v.onload=v.onreadystatechange=function(){t.call(this,G)};z.splice(q,0,y);"img"!=m&&(G||2===K[a]?(A.insertBefore(v,u?null:h),n(t,r)):K[a].push(v))}else z.splice(this.i++,0,a),1==z.length&&p();return this}function q(){var a=H;return a.loader={load:m,i:0},a}var t=c.documentElement,
n=a.setTimeout,h=c.getElementsByTagName("script")[0],x={}.toString,z=[],D=0,S="MozAppearance"in t.style,u=S&&!!c.createRange().compareNode,A=u?t:h.parentNode,t=a.opera&&"[object Opera]"==x.call(a.opera),t=!!c.attachEvent&&!t,B=S?"object":t?"script":"img",J=t?"script":B,y=Array.isArray||function(a){return"[object Array]"==x.call(a)},v=[],K={},I={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},Q,H;H=function(a){function c(a,d,f,h,j){var r,m;m=a.split("!");var n=v.length,p=m.pop(),w=m.length,
p={url:p,origUrl:p,prefixes:m},u,t,k;for(t=0;t<w;t++)k=m[t].split("="),(u=I[k.shift()])&&(p=u(p,k));for(t=0;t<n;t++)p=v[t](p);r=p;var E=r.autoCallback;r.url.split(".").pop().split("?").shift();r.bypass||(d&&(d=b(d)?d:d[a]||d[h]||d[a.split("/").pop().split("?")[0]]),r.instead?r.instead(a,d,f,h,j):(K[r.url]?r.noexec=!0:K[r.url]=1,f.load(r.url,r.forceCSS||!r.forceJS&&"css"==r.url.split(".").pop().split("?").shift()?"c":g,r.noexec,r.attrs,r.timeout),(b(d)||b(E))&&f.load(function(){q();d&&d(r.origUrl,
j,h);E&&E(r.origUrl,j,h);K[r.url]=2})))}function h(a,g){function j(a,d){if(a)if(f(a))d||(p=function(){var a=[].slice.call(arguments);n.apply(this,a);w()}),c(a,p,g,0,r);else{if(Object(a)===a)for(u in q=function(){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(u)&&(!d&&!--q&&(b(p)?p=function(){var a=[].slice.call(arguments);n.apply(this,a);w()}:p[u]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b);w()}}(n[u])),c(a[u],p,g,u,r))}else!d&&w()}
var r=!!a.test,m=a.load||a.both,p=a.callback||d,n=p,w=a.complete||d,q,u;j(r?a.yep:a.nope,!!m);m&&j(m)}var j,r,m=this.yepnope.loader;if(f(a))c(a,0,m,0);else if(y(a))for(j=0;j<a.length;j++)r=a[j],f(r)?c(r,0,m,0):y(r)?H(r):Object(r)===r&&h(r,m);else Object(a)===a&&h(a,m)};H.addPrefix=function(a,b){I[a]=b};H.addFilter=function(a){v.push(a)};H.errorTimeout=1E4;null==c.readyState&&c.addEventListener&&(c.readyState="loading",c.addEventListener("DOMContentLoaded",Q=function(){c.removeEventListener("DOMContentLoaded",
Q,0);c.readyState="complete"},0));a.yepnope=q();a.yepnope.executeStack=p;a.yepnope.injectJs=function(a,b,f,g,r,m){var q=c.createElement("script"),u,t,g=g||H.errorTimeout;q.src=a;for(t in f)q.setAttribute(t,f[t]);b=m?p:b||d;q.onreadystatechange=q.onload=function(){!u&&j(q.readyState)&&(u=1,b(),q.onload=q.onreadystatechange=null)};n(function(){u||(u=1,b(1))},g);r?q.onload():h.parentNode.insertBefore(q,h)};a.yepnope.injectCss=function(a,b,f,g,j,m){var g=c.createElement("link"),q,b=m?p:b||d;g.href=a;
g.rel="stylesheet";g.type="text/css";for(q in f)g.setAttribute(q,f[q]);j||(h.parentNode.insertBefore(g,h),n(b,0))}})(this,document);Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};(function(a){function c(c,d){c in g&&d(g[c]);var j=c.split("#");2!==j.length&&d(!1);var p=function(a){a=a.getElementById(j[1]);null==a&&(g[c]=!1,d(!1));if(a){var b=a.getAttribute("viewBox");if(b&&4==(viewBoxData=b.split(" ")).length)a.setAttribute("width",viewBoxData[2]),a.setAttribute("height",viewBoxData[3]);a=(new XMLSerializer).serializeToString(a);a="data:image/svg+xml;utf-8,"+escape(a);g[c]=a;d(a)}};"undefined"!==typeof b[j[0]]?p(b[j[0]]):a.ajax({async:!1,url:j[0],cache:!0,dataType:"text",success:function(a){b[j[0]]=
(new window.DOMParser).parseFromString(a,"text/xml");p(b[j[0]])}})}if(/WebKit/.test(navigator.userAgent)){var g={},b={};a.fn.fixSVGStackBackground=function(){this.each(function(){var b=a(this),d=b[0].style.backgroundImage.slice(4,-1).replace(/["']/g,""),g=getComputedStyle(b[0],null);-1!==g.backgroundImage.indexOf(".svg")&&-1!==g.content.indexOf(".svg")&&(d=g.content.replace(/["']/g,""));-1!==d.indexOf(".svg")&&c(d,function(a){!1!==a&&b.css("background-image","url("+a+")")})});return this};a.fn.fixSVGStack=
function(){this.each(function(){var b=a(this),d=b.attr("src");-1!==d.indexOf(".svg")&&c(d,function(a){!1!==a&&b.attr("src",a)})});return this}}else a.fn.fixSVGStack=function(){return this},a.fn.fixSVGStackBackground=function(){return this}})(jQuery);(function(a){var c,g,b,f,d,j,p,m=function(){},q=!!window.jQuery,t=a(window),n=function(a,b){c.ev.on("mfp"+a+".mfp",b)},h=function(b,c,d,f){var g=document.createElement("div");return g.className="mfp-"+b,d&&(g.innerHTML=d),f?c&&c.appendChild(g):(g=a(g),c&&g.appendTo(c)),g},x=function(b,d){c.ev.triggerHandler("mfp"+b,d);c.st.callbacks&&(b=b.charAt(0).toLowerCase()+b.slice(1),c.st.callbacks[b]&&c.st.callbacks[b].apply(c,a.isArray(d)?d:[d]))},z=function(b){return b===p&&c.currTemplate.closeBtn||(c.currTemplate.closeBtn=
a(c.st.closeMarkup.replace("%title%",c.st.tClose)),p=b),c.currTemplate.closeBtn},D=function(){a.magnificPopup.instance||(c=new m,c.init(),a.magnificPopup.instance=c)},S=function(){var a=document.createElement("p").style,b=["ms","O","Moz","Webkit"];if(void 0!==a.transition)return!0;for(;b.length;)if(b.pop()+"Transition"in a)return!0;return!1};m.prototype={constructor:m,init:function(){var d=navigator.appVersion;c.isIE7=-1!==d.indexOf("MSIE 7.");c.isIE8=-1!==d.indexOf("MSIE 8.");c.isLowIE=c.isIE7||
c.isIE8;c.isAndroid=/android/gi.test(d);c.isIOS=/iphone|ipad|ipod/gi.test(d);c.supportsTransition=S();c.probablyMobile=c.isAndroid||c.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent);b=a(document.body);f=a(document);c.popupsCache={}},open:function(b){var d;if(!1===b.isObj){c.items=b.items.toArray();c.index=0;var g,m=b.items;for(d=0;m.length>d;d++)if(g=m[d],g.parsed&&(g=g.el[0]),g===b.el[0]){c.index=d;break}}else c.items=a.isArray(b.items)?
b.items:[b.items],c.index=b.index||0;if(c.isOpen)return c.updateItemHTML(),void 0;c.types=[];j="";c.ev=b.mainEl&&b.mainEl.length?b.mainEl.eq(0):f;b.key?(c.popupsCache[b.key]||(c.popupsCache[b.key]={}),c.currTemplate=c.popupsCache[b.key]):c.currTemplate={};c.st=a.extend(!0,{},a.magnificPopup.defaults,b);c.fixedContentPos="auto"===c.st.fixedContentPos?!c.probablyMobile:c.st.fixedContentPos;c.st.modal&&(c.st.closeOnContentClick=!1,c.st.closeOnBgClick=!1,c.st.showCloseBtn=!1,c.st.enableEscapeKey=!1);
c.bgOverlay||(c.bgOverlay=h("bg").on("click.mfp",function(){c.close()}),c.wrap=h("wrap").attr("tabindex",-1).on("click.mfp",function(a){c._checkIfClose(a.target)&&c.close()}),c.container=h("container",c.wrap));c.contentContainer=h("content");c.st.preloader&&(c.preloader=h("preloader",c.container,c.st.tLoading));g=a.magnificPopup.modules;for(d=0;g.length>d;d++)m=g[d],m=m.charAt(0).toUpperCase()+m.slice(1),c["init"+m].call(c);x("BeforeOpen");c.st.showCloseBtn&&(c.st.closeBtnInside?(n("MarkupParse",
function(a,b,c,d){c.close_replaceWith=z(d.type)}),j+=" mfp-close-btn-in"):c.wrap.append(z()));c.st.alignTop&&(j+=" mfp-align-top");c.fixedContentPos?c.wrap.css({overflow:c.st.overflowY,overflowX:"hidden",overflowY:c.st.overflowY}):c.wrap.css({top:t.scrollTop(),position:"absolute"});(!1===c.st.fixedBgPos||"auto"===c.st.fixedBgPos&&!c.fixedContentPos)&&c.bgOverlay.css({height:f.height(),position:"absolute"});c.st.enableEscapeKey&&f.on("keyup.mfp",function(a){27===a.keyCode&&c.close()});t.on("resize.mfp",
function(){c.updateSize()});c.st.closeOnContentClick||(j+=" mfp-auto-cursor");j&&c.wrap.addClass(j);d=c.wH=t.height();g={};c.fixedContentPos&&c._hasScrollBar(d)&&(m=c._getScrollbarSize())&&(g.marginRight=m);c.fixedContentPos&&(c.isIE7?a("body, html").css("overflow","hidden"):g.overflow="hidden");m=c.st.mainClass;return c.isIE7&&(m+=" mfp-ie7"),m&&c._addClassToMFP(m),c.updateItemHTML(),x("BuildControls"),a("html").css(g),c.bgOverlay.add(c.wrap).prependTo(document.body),c._lastFocusedEl=document.activeElement,
setTimeout(function(){c.content?(c._addClassToMFP("mfp-ready"),c._setFocus()):c.bgOverlay.addClass("mfp-ready");f.on("focusin.mfp",c._onFocusIn)},16),c.isOpen=!0,c.updateSize(d),x("Open"),b},close:function(){c.isOpen&&(x("BeforeClose"),c.isOpen=!1,c.st.removalDelay&&!c.isLowIE&&c.supportsTransition?(c._addClassToMFP("mfp-removing"),setTimeout(function(){c._close()},c.st.removalDelay)):c._close())},_close:function(){x("Close");var b="mfp-removing mfp-ready ";if(c.bgOverlay.detach(),c.wrap.detach(),
c.container.empty(),c.st.mainClass&&(b+=c.st.mainClass+" "),c._removeClassFromMFP(b),c.fixedContentPos)b={marginRight:""},c.isIE7?a("body, html").css("overflow",""):b.overflow="",a("html").css(b);f.off("keyup.mfp focusin.mfp");c.ev.off(".mfp");c.wrap.attr("class","mfp-wrap").removeAttr("style");c.bgOverlay.attr("class","mfp-bg");c.container.attr("class","mfp-container");!c.st.showCloseBtn||c.st.closeBtnInside&&!0!==c.currTemplate[c.currItem.type]||c.currTemplate.closeBtn&&c.currTemplate.closeBtn.detach();
c._lastFocusedEl&&a(c._lastFocusedEl).focus();c.currItem=null;c.content=null;c.currTemplate=null;c.prevHeight=0;x("AfterClose")},updateSize:function(a){c.isIOS?(a=window.innerHeight*(document.documentElement.clientWidth/window.innerWidth),c.wrap.css("height",a),c.wH=a):c.wH=a||t.height();c.fixedContentPos||c.wrap.css("height",c.wH);x("Resize")},updateItemHTML:function(){var b=c.items[c.index];c.contentContainer.detach();c.content&&c.content.detach();b.parsed||(b=c.parseEl(c.index));var f=b.type;if(x("BeforeChange",
[c.currItem?c.currItem.type:"",f]),c.currItem=b,!c.currTemplate[f]){var g=c.st[f]?c.st[f].markup:!1;x("FirstMarkupParse",g);c.currTemplate[f]=g?a(g):!0}d&&d!==b.type&&c.container.removeClass("mfp-"+d+"-holder");g=c["get"+f.charAt(0).toUpperCase()+f.slice(1)](b,c.currTemplate[f]);c.appendContent(g,f);b.preloaded=!0;x("Change",b);d=b.type;c.container.prepend(c.contentContainer);x("AfterChange")},appendContent:function(a,b){(c.content=a)?c.st.showCloseBtn&&c.st.closeBtnInside&&!0===c.currTemplate[b]?
c.content.find(".mfp-close").length||c.content.append(z()):c.content=a:c.content="";x("BeforeAppend");c.container.addClass("mfp-"+b+"-holder");c.contentContainer.append(c.content)},parseEl:function(b){var d=c.items[b],f=d.type;if(d=d.tagName?{el:a(d)}:{data:d,src:d.src},d.el){for(var g=c.types,h=0;g.length>h;h++)if(d.el.hasClass("mfp-"+g[h])){f=g[h];break}d.src=d.el.attr("data-mfp-src");d.src||(d.src=d.el.attr("href"))}return d.type=f||c.st.type||"inline",d.index=b,d.parsed=!0,c.items[b]=d,x("ElementParse",
d),c.items[b]},addGroup:function(a,b){var d=function(d){d.mfpEl=this;c._openClick(d,a,b)};b||(b={});b.mainEl=a;b.items?(b.isObj=!0,a.off("click.magnificPopup").on("click.magnificPopup",d)):(b.isObj=!1,b.delegate?a.off("click.magnificPopup").on("click.magnificPopup",b.delegate,d):(b.items=a,a.off("click.magnificPopup").on("click.magnificPopup",d)))},_openClick:function(b,d,f){if((void 0!==f.midClick?f.midClick:a.magnificPopup.defaults.midClick)||2!==b.which&&!b.ctrlKey&&!b.metaKey){var g=void 0!==
f.disableOn?f.disableOn:a.magnificPopup.defaults.disableOn;if(g)if(a.isFunction(g)){if(!g.call(c))return!0}else if(g>t.width())return!0;b.type&&(b.preventDefault(),c.isOpen&&b.stopPropagation());f.el=a(b.mfpEl);f.delegate&&(f.items=d.find(f.delegate));c.open(f)}},updateStatus:function(a,b){if(c.preloader){g!==a&&c.container.removeClass("mfp-s-"+g);b||"loading"!==a||(b=c.st.tLoading);var d={status:a,text:b};x("UpdateStatus",d);a=d.status;b=d.text;c.preloader.html(b);c.preloader.find("a").on("click",
function(a){a.stopImmediatePropagation()});c.container.addClass("mfp-s-"+a);g=a}},_checkIfClose:function(b){if(!a(b).hasClass("mfp-prevent-close")){var d=c.st.closeOnContentClick,f=c.st.closeOnBgClick;if(d&&f||!c.content||a(b).hasClass("mfp-close")||c.preloader&&b===c.preloader[0])return!0;if(b===c.content[0]||a.contains(c.content[0],b)){if(d)return!0}else if(f&&a.contains(document,b))return!0;return!1}},_addClassToMFP:function(a){c.bgOverlay.addClass(a);c.wrap.addClass(a)},_removeClassFromMFP:function(a){this.bgOverlay.removeClass(a);
c.wrap.removeClass(a)},_hasScrollBar:function(a){return(c.isIE7?f.height():document.body.scrollHeight)>(a||t.height())},_setFocus:function(){(c.st.focus?c.content.find(c.st.focus).eq(0):c.wrap).focus()},_onFocusIn:function(b){return b.target===c.wrap[0]||a.contains(c.wrap[0],b.target)?void 0:(c._setFocus(),!1)},_parseMarkup:function(b,c,d){var f;d.data&&(c=a.extend(d.data,c));x("MarkupParse",[b,c,d]);a.each(c,function(a,c){if(void 0===c||!1===c)return!0;if(f=a.split("_"),1<f.length){var d=b.find(".mfp-"+
f[0]);if(0<d.length){var g=f[1];"replaceWith"===g?d[0]!==c[0]&&d.replaceWith(c):"img"===g?d.is("img")?d.attr("src",c):d.replaceWith('<img src="'+c+'" class="'+d.attr("class")+'" />'):d.attr(f[1],c)}}else b.find(".mfp-"+a).html(c)})},_getScrollbarSize:function(){if(void 0===c.scrollbarSize){var a=document.createElement("div");a.id="mfp-sbm";a.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;";document.body.appendChild(a);c.scrollbarSize=a.offsetWidth-a.clientWidth;
document.body.removeChild(a)}return c.scrollbarSize}};a.magnificPopup={instance:null,proto:m.prototype,modules:[],open:function(b,c){return D(),b=b?a.extend(!0,{},b):{},b.isObj=!0,b.index=c||0,this.instance.open(b)},close:function(){return a.magnificPopup.instance&&a.magnificPopup.instance.close()},registerModule:function(b,c){c.options&&(a.magnificPopup.defaults[b]=c.options);a.extend(this.proto,c.proto);this.modules.push(b)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",
closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}};a.fn.magnificPopup=function(b){D();var d=a(this);if("string"==typeof b)if("open"===b){var f,g=q?d.data("magnificPopup"):d[0].magnificPopup,h=parseInt(arguments[1],10)||0;g.items?f=g.items[h]:
(f=d,g.delegate&&(f=f.find(g.delegate)),f=f.eq(h));c._openClick({mfpEl:f},d,g)}else c.isOpen&&c[b].apply(c,Array.prototype.slice.call(arguments,1));else b=a.extend(!0,{},b),q?d.data("magnificPopup",b):d[0].magnificPopup=b,c.addGroup(d,b);return d};var u,A,B,J=function(){B&&(A.after(B.addClass(u)).detach(),B=null)};a.magnificPopup.registerModule("inline",{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){c.types.push("inline");n("Close.inline",function(){J()})},
getInline:function(b,d){if(J(),b.src){var f=c.st.inline,g=a(b.src);if(g.length){var j=g[0].parentNode;j&&j.tagName&&(A||(u=f.hiddenClass,A=h(u),u="mfp-"+u),B=g.after(A).detach().removeClass(u));c.updateStatus("ready")}else c.updateStatus("error",f.tNotFound),g=a("<div>");return b.inlineElement=g,g}return c.updateStatus("ready"),c._parseMarkup(d,{},b),d}}});var y,v=function(){y&&b.removeClass(y);c.req&&c.req.abort()};a.magnificPopup.registerModule("ajax",{options:{settings:null,cursor:"mfp-ajax-cur",
tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){c.types.push("ajax");y=c.st.ajax.cursor;n("Close.ajax",v);n("BeforeChange.ajax",v)},getAjax:function(d){y&&b.addClass(y);c.updateStatus("loading");var f=a.extend({url:d.src,success:function(f,g,h){f={data:f,xhr:h};x("ParseAjax",f);c.appendContent(a(f.data),"ajax");d.finished=!0;y&&b.removeClass(y);c._setFocus();setTimeout(function(){c.wrap.addClass("mfp-ready")},16);c.updateStatus("ready");x("AjaxContentAdded")},
error:function(){y&&b.removeClass(y);d.finished=d.loadError=!0;c.updateStatus("error",c.st.ajax.tError.replace("%url%",d.src))}},c.st.ajax.settings);return c.req=a.ajax(f),""}}});var K,I=function(b){if(b.data&&void 0!==b.data.title)return b.data.title;var d=c.st.image.titleSrc;if(d){if(a.isFunction(d))return d.call(c,b);if(b.el)return b.el.attr(d)||""}return""};a.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',
cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var a=c.st.image;c.types.push("image");n("Open.image",function(){"image"===c.currItem.type&&a.cursor&&b.addClass(a.cursor)});n("Close.image",function(){a.cursor&&b.removeClass(a.cursor);t.off("resize.mfp")});n("Resize.image",c.resizeImage);c.isLowIE&&n("AfterChange",c.resizeImage)},resizeImage:function(){var a=c.currItem;if(a&&a.img&&c.st.image.verticalFit){var b=
0;c.isLowIE&&(b=parseInt(a.img.css("padding-top"),10)+parseInt(a.img.css("padding-bottom"),10));a.img.css("",c.wH-b)}},_onImageHasSize:function(a){a.img&&(a.hasSize=!0,K&&clearInterval(K),a.isCheckingImgSize=!1,x("ImageHasSize",a),a.imgHidden&&(c.content&&c.content.removeClass("mfp-loading"),a.imgHidden=!1))},findImageSize:function(a){var b=0,d=a.img[0],f=function(g){K&&clearInterval(K);K=setInterval(function(){return 0<d.naturalWidth?(c._onImageHasSize(a),void 0):(200<b&&clearInterval(K),b++,3===
b?f(10):40===b?f(50):100===b&&f(500),void 0)},g)};f(1)},getImage:function(b,d){var f=0,g=function(){b&&(b.img[0].complete?(b.img.off(".mfploader"),b===c.currItem&&(c._onImageHasSize(b),c.updateStatus("ready")),b.hasSize=!0,b.loaded=!0,x("ImageLoadComplete")):(f++,200>f?setTimeout(g,100):h()))},h=function(){b&&(b.img.off(".mfploader"),b===c.currItem&&(c._onImageHasSize(b),c.updateStatus("error",j.tError.replace("%url%",b.src))),b.hasSize=!0,b.loaded=!0,b.loadError=!0)},j=c.st.image,m=d.find(".mfp-img");
if(m.length){var p=document.createElement("img");p.className="mfp-img";b.img=a(p).on("load.mfploader",g).on("error.mfploader",h);p.src=b.src;m.is("img")&&(b.img=b.img.clone());p=b.img[0];0<p.naturalWidth?b.hasSize=!0:p.width||(b.hasSize=!1)}return c._parseMarkup(d,{title:I(b),img_replaceWith:b.img},b),c.resizeImage(),b.hasSize?(K&&clearInterval(K),b.loadError?(d.addClass("mfp-loading"),c.updateStatus("error",j.tError.replace("%url%",b.src))):(d.removeClass("mfp-loading"),c.updateStatus("ready")),
d):(c.updateStatus("loading"),b.loading=!0,b.hasSize||(b.imgHidden=!0,d.addClass("mfp-loading"),c.findImageSize(b)),d)}}});var Q;a.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(a){return a.is("img")?a:a.find("img")}},proto:{initZoom:function(){var a,b=c.st.zoom;if(b.enabled&&c.supportsTransition){var d,f,g=b.duration,h=function(a){var a=a.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),c={position:"fixed",
zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"};return c["-webkit-transition"]=c["-moz-transition"]=c["-o-transition"]=c.transition="all "+b.duration/1E3+"s "+b.easing,a.css(c),a},j=function(){c.content.css("visibility","visible")};n("BuildControls.zoom",function(){if(c._allowZoom()){if(clearTimeout(d),c.content.css("visibility","hidden"),a=c._getItemToZoom(),!a)return j(),void 0;f=h(a);f.css(c._getOffset());c.wrap.append(f);d=setTimeout(function(){f.css(c._getOffset(!0));d=setTimeout(function(){j();
setTimeout(function(){f.remove();a=f=null;x("ZoomAnimationEnded")},16)},g)},16)}});n("BeforeClose.zoom",function(){if(c._allowZoom()){if(clearTimeout(d),c.st.removalDelay=g,!a){if(a=c._getItemToZoom(),!a)return;f=h(a)}f.css(c._getOffset(!0));c.wrap.append(f);c.content.css("visibility","hidden");setTimeout(function(){f.css(c._getOffset())},16)}});n("Close.zoom",function(){c._allowZoom()&&(j(),f&&f.remove(),a=null)})}},_allowZoom:function(){return"image"===c.currItem.type},_getItemToZoom:function(){return c.currItem.hasSize?
c.currItem.img:!1},_getOffset:function(b){var d;d=b?c.currItem.img:c.st.zoom.opener(c.currItem.el||c.currItem);var b=d.offset(),f=parseInt(d.css("padding-top"),10),g=parseInt(d.css("padding-bottom"),10);b.top-=a(window).scrollTop()-f;d={width:d.width(),height:(q?d.innerHeight():d[0].offsetHeight)-g-f};return(void 0===Q&&(Q=void 0!==document.createElement("p").style.MozTransform),Q)?d["-moz-transform"]=d.transform="translate("+b.left+"px,"+b.top+"px)":(d.left=b.left,d.top=b.top),d}}});var H=function(a){if(c.currTemplate.iframe){var b=
c.currTemplate.iframe.find("iframe");b.length&&(a||(b[0].src="//about:blank"),c.isIE8&&b.css("display",a?"block":"none"))}};a.magnificPopup.registerModule("iframe",{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},
gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){c.types.push("iframe");n("BeforeChange",function(a,b,c){b!==c&&("iframe"===b?H():"iframe"===c&&H(!0))});n("Close.iframe",function(){H()})},getIframe:function(b,d){var f=b.src,g=c.st.iframe;a.each(g.patterns,function(){return-1<f.indexOf(this.index)?(this.id&&(f="string"==typeof this.id?f.substr(f.lastIndexOf(this.id)+this.id.length,f.length):this.id.call(this,f)),f=this.src.replace("%id%",f),!1):void 0});var h={};
return g.srcAction&&(h[g.srcAction]=f),c._parseMarkup(d,h,b),c.updateStatus("ready"),d}}});var O=function(a){var b=c.items.length;return a>b-1?a-b:0>a?b+a:a};a.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var b=c.st.gallery,
d=Boolean(a.fn.mfpFastClick);return c.direction=!0,b&&b.enabled?(j+=" mfp-gallery",n("Open.mfp-gallery",function(){b.navigateByImgClick&&c.wrap.on("click.mfp-gallery",".mfp-img",function(){return 1<c.items.length?(c.next(),!1):void 0});f.on("keydown.mfp-gallery",function(a){37===a.keyCode?c.prev():39===a.keyCode&&c.next()})}),n("UpdateStatus.mfp-gallery",function(a,b){b.text&&(b.text=b.text.replace(/%curr%/gi,c.currItem.index+1).replace(/%total%/gi,c.items.length))}),n("MarkupParse.mfp-gallery",function(a,
d,f,g){a=c.items.length;f.counter=1<a?b.tCounter.replace(/%curr%/gi,g.index+1).replace(/%total%/gi,a):""}),n("BuildControls.mfp-gallery",function(){if(1<c.items.length&&b.arrows&&!c.arrowLeft){var f=b.arrowMarkup,g=c.arrowLeft=a(f.replace(/%title%/gi,b.tPrev).replace(/%dir%/gi,"left")).addClass("mfp-prevent-close"),f=c.arrowRight=a(f.replace(/%title%/gi,b.tNext).replace(/%dir%/gi,"right")).addClass("mfp-prevent-close"),j=d?"mfpFastClick":"click";g[j](function(){c.prev()});f[j](function(){c.next()});
c.isIE7&&(h("b",g[0],!1,!0),h("a",g[0],!1,!0),h("b",f[0],!1,!0),h("a",f[0],!1,!0));c.container.append(g.add(f))}}),n("Change.mfp-gallery",function(){c._preloadTimeout&&clearTimeout(c._preloadTimeout);c._preloadTimeout=setTimeout(function(){c.preloadNearbyImages();c._preloadTimeout=null},16)}),n("Close.mfp-gallery",function(){f.off(".mfp-gallery");c.wrap.off("click.mfp-gallery");c.arrowLeft&&d&&c.arrowLeft.add(c.arrowRight).destroyMfpFastClick();c.arrowRight=c.arrowLeft=null}),void 0):!1},next:function(){c.direction=
!0;c.index=O(c.index+1);c.updateItemHTML()},prev:function(){c.direction=!1;c.index=O(c.index-1);c.updateItemHTML()},goTo:function(a){c.direction=a>=c.index;c.index=a;c.updateItemHTML()},preloadNearbyImages:function(){var a;a=c.st.gallery.preload;var b=Math.min(a[0],c.items.length),d=Math.min(a[1],c.items.length);for(a=1;(c.direction?d:b)>=a;a++)c._preloadItem(c.index+a);for(a=1;(c.direction?b:d)>=a;a++)c._preloadItem(c.index-a)},_preloadItem:function(b){if(b=O(b),!c.items[b].preloaded){var d=c.items[b];
d.parsed||(d=c.parseEl(b));x("LazyLoad",d);"image"===d.type&&(d.img=a('<img class="mfp-img" />').on("load.mfploader",function(){d.hasSize=!0}).on("error.mfploader",function(){d.hasSize=!0;d.loadError=!0;x("LazyLoadError",d)}).attr("src",d.src));d.preloaded=!0}}}});a.magnificPopup.registerModule("retina",{options:{replaceSrc:function(a){return a.src.replace(/\.\w+$/,function(a){return"@2x"+a})},ratio:1},proto:{initRetina:function(){if(1<window.devicePixelRatio){var a=c.st.retina,b=a.ratio,b=isNaN(b)?
b():b;1<b&&(n("ImageHasSize.retina",function(a,c){c.img.css({"max-width":c.img[0].naturalWidth/b,width:"100%"})}),n("ElementParse.retina",function(c,d){d.src=a.replaceSrc(d,b)}))}}}});var N="ontouchstart"in window,L=function(){t.off("touchmove"+P+" touchend"+P)},P=".mfpFastClick";a.fn.mfpFastClick=function(b){return a(this).each(function(){var c,d=a(this);if(N){var f,g,h,j,m,p;d.on("touchstart"+P,function(a){j=!1;p=1;m=a.originalEvent?a.originalEvent.touches[0]:a.touches[0];g=m.clientX;h=m.clientY;
t.on("touchmove"+P,function(a){m=a.originalEvent?a.originalEvent.touches:a.touches;p=m.length;m=m[0];(10<Math.abs(m.clientX-g)||10<Math.abs(m.clientY-h))&&(j=!0,L())}).on("touchend"+P,function(a){L();j||1<p||(c=!0,a.preventDefault(),clearTimeout(f),f=setTimeout(function(){c=!1},1E3),b())})})}d.on("click"+P,function(){c||b()})})};a.fn.destroyMfpFastClick=function(){a(this).off("touchstart"+P+" click"+P);N&&t.off("touchmove"+P+" touchend"+P)};D()})(window.jQuery||window.Zepto);"function"!==typeof Object.create&&(Object.create=function(a){function c(){}c.prototype=a;return new c});
(function(a,c,g,b){var f={init:function(b,c){this.$elem=a(c);this.options=a.extend({},a.fn.owlCarousel.options,this.$elem.data(),b);this.userOptions=b;this.loadContent()},loadContent:function(){var b=this;"function"===typeof b.options.beforeInit&&b.options.beforeInit.apply(this,[b.$elem]);"string"===typeof b.options.jsonPath?a.getJSON(b.options.jsonPath,function(a){if("function"===typeof b.options.jsonSuccess)b.options.jsonSuccess.apply(this,[a]);else{var c="",f;for(f in a.owl)c+=a.owl[f].item;b.$elem.html(c)}b.logIn()}):
b.logIn()},logIn:function(){this.$elem.data("owl-originalStyles",this.$elem.attr("style")).data("owl-originalClasses",this.$elem.attr("class"));this.$elem.css({opacity:0});this.orignalItems=this.options.items;this.checkBrowser();this.wrapperWidth=0;this.checkVisible;this.setVars()},setVars:function(){if(0===this.$elem.children().length)return!1;this.baseClass();this.eventTypes();this.$userItems=this.$elem.children();this.itemsAmount=this.$userItems.length;this.wrapItems();this.$owlItems=this.$elem.find(".owl-item");
this.$owlWrapper=this.$elem.find(".owl-wrapper");this.playDirection="next";this.prevItem=0;this.prevArr=[0];this.currentItem=0;this.customEvents();this.onStartup()},onStartup:function(){this.updateItems();this.calculateAll();this.buildControls();this.updateControls();this.response();this.moveEvents();this.stopOnHover();this.owlStatus();!1!==this.options.transitionStyle&&this.transitionTypes(this.options.transitionStyle);!0===this.options.autoPlay&&(this.options.autoPlay=5E3);this.play();this.$elem.find(".owl-wrapper").css("display",
"block");this.$elem.is(":visible")?this.$elem.css("opacity",1):this.watchVisibility();this.onstartup=!1;this.eachMoveUpdate();"function"===typeof this.options.afterInit&&this.options.afterInit.apply(this,[this.$elem])},eachMoveUpdate:function(){!0===this.options.lazyLoad&&this.lazyLoad();!0===this.options.autoHeight&&this.autoHeight();this.onVisibleItems();"function"===typeof this.options.afterAction&&this.options.afterAction.apply(this,[this.$elem])},updateVars:function(){"function"===typeof this.options.beforeUpdate&&
this.options.beforeUpdate.apply(this,[this.$elem]);this.watchVisibility();this.updateItems();this.calculateAll();this.updatePosition();this.updateControls();this.eachMoveUpdate();"function"===typeof this.options.afterUpdate&&this.options.afterUpdate.apply(this,[this.$elem])},reload:function(){var a=this;setTimeout(function(){a.updateVars()},0)},watchVisibility:function(){var a=this;if(!1===a.$elem.is(":visible"))a.$elem.css({opacity:0}),clearInterval(a.autoPlayInterval),clearInterval(a.checkVisible);
else return!1;a.checkVisible=setInterval(function(){a.$elem.is(":visible")&&(a.reload(),a.$elem.animate({opacity:1},200),clearInterval(a.checkVisible))},500)},wrapItems:function(){this.$userItems.wrapAll('<div class="owl-wrapper">').wrap('<div class="owl-item"></div>');this.$elem.find(".owl-wrapper").wrap('<div class="owl-wrapper-outer">');this.wrapperOuter=this.$elem.find(".owl-wrapper-outer");this.$elem.css("display","block")},baseClass:function(){var a=this.$elem.hasClass(this.options.baseClass),
b=this.$elem.hasClass(this.options.theme);a||this.$elem.addClass(this.options.baseClass);b||this.$elem.addClass(this.options.theme)},updateItems:function(){if(!1===this.options.responsive)return!1;if(!0===this.options.singleItem)return this.options.items=this.orignalItems=1,this.options.itemsCustom=!1,this.options.itemsDesktop=!1,this.options.itemsDesktopSmall=!1,this.options.itemsTablet=!1,this.options.itemsTabletSmall=!1,this.options.itemsMobile=!1;var b=a(this.options.responsiveBaseWidth).width();
if(b>(this.options.itemsDesktop[0]||this.orignalItems))this.options.items=this.orignalItems;if("undefined"!==typeof this.options.itemsCustom&&!1!==this.options.itemsCustom){this.options.itemsCustom.sort(function(a,b){return a[0]-b[0]});for(var c in this.options.itemsCustom)"undefined"!==typeof this.options.itemsCustom[c]&&this.options.itemsCustom[c][0]<=b&&(this.options.items=this.options.itemsCustom[c][1])}else b<=this.options.itemsDesktop[0]&&!1!==this.options.itemsDesktop&&(this.options.items=
this.options.itemsDesktop[1]),b<=this.options.itemsDesktopSmall[0]&&!1!==this.options.itemsDesktopSmall&&(this.options.items=this.options.itemsDesktopSmall[1]),b<=this.options.itemsTablet[0]&&!1!==this.options.itemsTablet&&(this.options.items=this.options.itemsTablet[1]),b<=this.options.itemsTabletSmall[0]&&!1!==this.options.itemsTabletSmall&&(this.options.items=this.options.itemsTabletSmall[1]),b<=this.options.itemsMobile[0]&&!1!==this.options.itemsMobile&&(this.options.items=this.options.itemsMobile[1]);
this.options.items>this.itemsAmount&&!0===this.options.itemsScaleUp&&(this.options.items=this.itemsAmount)},response:function(){var b=this,f;if(!0!==b.options.responsive)return!1;var g=a(c).width();b.resizer=function(){a(c).width()!==g&&(!1!==b.options.autoPlay&&clearInterval(b.autoPlayInterval),clearTimeout(f),f=setTimeout(function(){g=a(c).width();b.updateVars()},b.options.responsiveRefreshRate))};a(c).resize(b.resizer)},updatePosition:function(){this.jumpTo(this.currentItem);!1!==this.options.autoPlay&&
this.checkAp()},appendItemsSizes:function(){var b=this,c=0,f=b.itemsAmount-b.options.items;b.$owlItems.each(function(g){var q=a(this);q.css({width:b.itemWidth}).data("owl-item",Number(g));if(0===g%b.options.items||g===f)g>f||(c+=1);q.data("owl-roundPages",c)})},appendWrapperSizes:function(){var a=0,a=this.$owlItems.length*this.itemWidth;this.$owlWrapper.css({width:2*a,left:0});this.appendItemsSizes()},calculateAll:function(){this.calculateWidth();this.appendWrapperSizes();this.loops();this.max()},
calculateWidth:function(){this.itemWidth=Math.round(this.$elem.width()/this.options.items)},max:function(){var a=-1*(this.itemsAmount*this.itemWidth-this.options.items*this.itemWidth);this.options.items>this.itemsAmount?this.maximumPixels=a=this.maximumItem=0:(this.maximumItem=this.itemsAmount-this.options.items,this.maximumPixels=a);return a},min:function(){return 0},loops:function(){this.positionsInArray=[0];this.pagesInArray=[];for(var b=0,c=0,f=0;f<this.itemsAmount;f++)if(c+=this.itemWidth,this.positionsInArray.push(-c),
!0===this.options.scrollPerPage){var g=a(this.$owlItems[f]).data("owl-roundPages");g!==b&&(this.pagesInArray[b]=this.positionsInArray[f],b=g)}},buildControls:function(){if(!0===this.options.navigation||!0===this.options.pagination)this.owlControls=a('<div class="owl-controls"/>').toggleClass("clickable",!this.browser.isTouch).appendTo(this.$elem);!0===this.options.pagination&&this.buildPagination();!0===this.options.navigation&&this.buildButtons()},buildButtons:function(){var b=this,c=a('<div class="owl-buttons"/>');
b.owlControls.append(c);b.buttonPrev=a("<div/>",{"class":"owl-prev",html:b.options.navigationText[0]||""});b.buttonNext=a("<div/>",{"class":"owl-next",html:b.options.navigationText[1]||""});c.append(b.buttonPrev).append(b.buttonNext);c.on("touchstart.owlControls mousedown.owlControls",'div[class^="owl"]',function(a){a.preventDefault()});c.on("touchend.owlControls mouseup.owlControls",'div[class^="owl"]',function(c){c.preventDefault();a(this).hasClass("owl-next")?b.next():b.prev()})},buildPagination:function(){var b=
this;b.paginationWrapper=a('<div class="owl-pagination"/>');b.owlControls.append(b.paginationWrapper);b.paginationWrapper.on("touchend.owlControls mouseup.owlControls",".owl-page",function(c){c.preventDefault();Number(a(this).data("owl-page"))!==b.currentItem&&b.goTo(Number(a(this).data("owl-page")),!0)})},updatePagination:function(){if(!1===this.options.pagination)return!1;this.paginationWrapper.html("");for(var b=0,c=this.itemsAmount-this.itemsAmount%this.options.items,f=0;f<this.itemsAmount;f++)if(0===
f%this.options.items){b+=1;if(c===f)var g=this.itemsAmount-this.options.items;var q=a("<div/>",{"class":"owl-page"}),t=a("<span></span>",{text:!0===this.options.paginationNumbers?b:"","class":!0===this.options.paginationNumbers?"owl-numbers":""});q.append(t);q.data("owl-page",c===f?g:f);q.data("owl-roundPages",b);this.paginationWrapper.append(q)}this.checkPagination()},checkPagination:function(){var b=this;if(!1===b.options.pagination)return!1;b.paginationWrapper.find(".owl-page").each(function(){a(this).data("owl-roundPages")===
a(b.$owlItems[b.currentItem]).data("owl-roundPages")&&(b.paginationWrapper.find(".owl-page").removeClass("active"),a(this).addClass("active"))})},checkNavigation:function(){if(!1===this.options.navigation)return!1;!1===this.options.rewindNav&&(0===this.currentItem&&0===this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.addClass("disabled")):0===this.currentItem&&0!==this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.removeClass("disabled")):this.currentItem===
this.maximumItem?(this.buttonPrev.removeClass("disabled"),this.buttonNext.addClass("disabled")):0!==this.currentItem&&this.currentItem!==this.maximumItem&&(this.buttonPrev.removeClass("disabled"),this.buttonNext.removeClass("disabled")))},updateControls:function(){this.updatePagination();this.checkNavigation();this.owlControls&&(this.options.items>=this.itemsAmount?this.owlControls.hide():this.owlControls.show())},destroyControls:function(){this.owlControls&&this.owlControls.remove()},next:function(a){if(this.isTransition)return!1;
this.currentItem+=!0===this.options.scrollPerPage?this.options.items:1;if(this.currentItem>this.maximumItem+(!0==this.options.scrollPerPage?this.options.items-1:0))if(!0===this.options.rewindNav)this.currentItem=0,a="rewind";else return this.currentItem=this.maximumItem,!1;this.goTo(this.currentItem,a)},prev:function(a){if(this.isTransition)return!1;this.currentItem=!0===this.options.scrollPerPage&&0<this.currentItem&&this.currentItem<this.options.items?0:this.currentItem-(!0===this.options.scrollPerPage?
this.options.items:1);if(0>this.currentItem)if(!0===this.options.rewindNav)this.currentItem=this.maximumItem,a="rewind";else return this.currentItem=0,!1;this.goTo(this.currentItem,a)},goTo:function(a,b,c){var f=this;if(f.isTransition)return!1;"function"===typeof f.options.beforeMove&&f.options.beforeMove.apply(this,[f.$elem]);a>=f.maximumItem?a=f.maximumItem:0>=a&&(a=0);f.currentItem=f.owl.currentItem=a;if(!1!==f.options.transitionStyle&&"drag"!==c&&1===f.options.items&&!0===f.browser.support3d)return f.swapSpeed(0),
!0===f.browser.support3d?f.transition3d(f.positionsInArray[a]):f.css2slide(f.positionsInArray[a],1),f.afterGo(),f.singleItemTransition(),!1;a=f.positionsInArray[a];!0===f.browser.support3d?(f.isCss3Finish=!1,!0===b?(f.swapSpeed("paginationSpeed"),setTimeout(function(){f.isCss3Finish=!0},f.options.paginationSpeed)):"rewind"===b?(f.swapSpeed(f.options.rewindSpeed),setTimeout(function(){f.isCss3Finish=!0},f.options.rewindSpeed)):(f.swapSpeed("slideSpeed"),setTimeout(function(){f.isCss3Finish=!0},f.options.slideSpeed)),
f.transition3d(a)):!0===b?f.css2slide(a,f.options.paginationSpeed):"rewind"===b?f.css2slide(a,f.options.rewindSpeed):f.css2slide(a,f.options.slideSpeed);f.afterGo()},jumpTo:function(a){"function"===typeof this.options.beforeMove&&this.options.beforeMove.apply(this,[this.$elem]);a>=this.maximumItem||-1===a?a=this.maximumItem:0>=a&&(a=0);this.swapSpeed(0);!0===this.browser.support3d?this.transition3d(this.positionsInArray[a]):this.css2slide(this.positionsInArray[a],1);this.currentItem=this.owl.currentItem=
a;this.afterGo()},afterGo:function(){this.prevArr.push(this.currentItem);this.prevItem=this.owl.prevItem=this.prevArr[this.prevArr.length-2];this.prevArr.shift(0);this.prevItem!==this.currentItem&&(this.checkPagination(),this.checkNavigation(),this.eachMoveUpdate(),!1!==this.options.autoPlay&&this.checkAp());"function"===typeof this.options.afterMove&&this.prevItem!==this.currentItem&&this.options.afterMove.apply(this,[this.$elem])},stop:function(){this.apStatus="stop";clearInterval(this.autoPlayInterval)},
checkAp:function(){"stop"!==this.apStatus&&this.play()},play:function(){var a=this;a.apStatus="play";if(!1===a.options.autoPlay)return!1;clearInterval(a.autoPlayInterval);a.autoPlayInterval=setInterval(function(){a.next(!0)},a.options.autoPlay)},swapSpeed:function(a){"slideSpeed"===a?this.$owlWrapper.css(this.addCssSpeed(this.options.slideSpeed)):"paginationSpeed"===a?this.$owlWrapper.css(this.addCssSpeed(this.options.paginationSpeed)):"string"!==typeof a&&this.$owlWrapper.css(this.addCssSpeed(a))},
addCssSpeed:function(a){return{"-webkit-transition":"all "+a+"ms ease","-moz-transition":"all "+a+"ms ease","-o-transition":"all "+a+"ms ease",transition:"all "+a+"ms ease"}},removeTransition:function(){return{"-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""}},doTranslate:function(a){return{"-webkit-transform":"translate3d("+a+"px, 0px, 0px)","-moz-transform":"translate3d("+a+"px, 0px, 0px)","-o-transform":"translate3d("+a+"px, 0px, 0px)","-ms-transform":"translate3d("+
a+"px, 0px, 0px)",transform:"translate3d("+a+"px, 0px,0px)"}},transition3d:function(a){this.$owlWrapper.css(this.doTranslate(a))},css2move:function(a){this.$owlWrapper.css({left:a})},css2slide:function(a,b){var c=this;c.isCssFinish=!1;c.$owlWrapper.stop(!0,!0).animate({left:a},{duration:b||c.options.slideSpeed,complete:function(){c.isCssFinish=!0}})},checkBrowser:function(){var a=g.createElement("div");a.style.cssText="  -moz-transform:translate3d(0px, 0px, 0px); -ms-transform:translate3d(0px, 0px, 0px); -o-transform:translate3d(0px, 0px, 0px); -webkit-transform:translate3d(0px, 0px, 0px); transform:translate3d(0px, 0px, 0px)";
a=a.style.cssText.match(/translate3d\(0px, 0px, 0px\)/g);this.browser={support3d:null!==a&&1===a.length,isTouch:"ontouchstart"in c||navigator.msMaxTouchPoints}},moveEvents:function(){if(!1!==this.options.mouseDrag||!1!==this.options.touchDrag)this.gestures(),this.disabledEvents()},eventTypes:function(){var a=["s","e","x"];this.ev_types={};!0===this.options.mouseDrag&&!0===this.options.touchDrag?a=["touchstart.owl mousedown.owl","touchmove.owl mousemove.owl","touchend.owl touchcancel.owl mouseup.owl"]:
!1===this.options.mouseDrag&&!0===this.options.touchDrag?a=["touchstart.owl","touchmove.owl","touchend.owl touchcancel.owl"]:!0===this.options.mouseDrag&&!1===this.options.touchDrag&&(a=["mousedown.owl","mousemove.owl","mouseup.owl"]);this.ev_types.start=a[0];this.ev_types.move=a[1];this.ev_types.end=a[2]},disabledEvents:function(){this.$elem.on("dragstart.owl",function(a){a.preventDefault()});this.$elem.on("mousedown.disableTextSelect",function(b){return a(b.target).is("input, textarea, select, option")})},
gestures:function(){function d(a){return a.touches?{x:a.touches[0].pageX,y:a.touches[0].pageY}:a.pageX!==b?{x:a.pageX,y:a.pageY}:{x:a.clientX,y:a.clientY}}function f(b){"on"===b?(a(g).on(q.ev_types.move,p),a(g).on(q.ev_types.end,m)):"off"===b&&(a(g).off(q.ev_types.move),a(g).off(q.ev_types.end))}function p(b){b=b.originalEvent||b||c.event;q.newPosX=d(b).x-t.offsetX;q.newPosY=d(b).y-t.offsetY;q.newRelativeX=q.newPosX-t.relativePos;"function"===typeof q.options.startDragging&&(!0!==t.dragging&&0!==
q.newRelativeX)&&(t.dragging=!0,q.options.startDragging.apply(q,[q.$elem]));if(8<q.newRelativeX||-8>q.newRelativeX&&!0===q.browser.isTouch)b.preventDefault?b.preventDefault():b.returnValue=!1,t.sliding=!0;(10<q.newPosY||-10>q.newPosY)&&!1===t.sliding&&a(g).off("touchmove.owl");q.newPosX=Math.max(Math.min(q.newPosX,q.newRelativeX/5),q.maximumPixels+q.newRelativeX/5);!0===q.browser.support3d?q.transition3d(q.newPosX):q.css2move(q.newPosX)}function m(b){b=b.originalEvent||b||c.event;b.target=b.target||
b.srcElement;t.dragging=!1;!0!==q.browser.isTouch&&q.$owlWrapper.removeClass("grabbing");q.dragDirection=0>q.newRelativeX?q.owl.dragDirection="left":q.owl.dragDirection="right";if(0!==q.newRelativeX){var d=q.getNewPosition();q.goTo(d,!1,"drag");if(t.targetElement===b.target&&!0!==q.browser.isTouch){a(b.target).on("click.disable",function(c){c.stopImmediatePropagation();c.stopPropagation();c.preventDefault();a(b.target).off("click.disable")});var d=a._data(b.target,"events").click,g=d.pop();d.splice(0,
0,g)}}f("off")}var q=this,t={offsetX:0,offsetY:0,baseElWidth:0,relativePos:0,position:null,minSwipe:null,maxSwipe:null,sliding:null,dargging:null,targetElement:null};q.isCssFinish=!0;q.$elem.on(q.ev_types.start,".owl-wrapper",function(b){b=b.originalEvent||b||c.event;if(3===b.which)return!1;if(!(q.itemsAmount<=q.options.items)){if(!1===q.isCssFinish&&!q.options.dragBeforeAnimFinish||!1===q.isCss3Finish&&!q.options.dragBeforeAnimFinish)return!1;!1!==q.options.autoPlay&&clearInterval(q.autoPlayInterval);
!0!==q.browser.isTouch&&!q.$owlWrapper.hasClass("grabbing")&&q.$owlWrapper.addClass("grabbing");q.newPosX=0;q.newRelativeX=0;a(this).css(q.removeTransition());var g=a(this).position();t.relativePos=g.left;t.offsetX=d(b).x-g.left;t.offsetY=d(b).y-g.top;f("on");t.sliding=!1;t.targetElement=b.target||b.srcElement}})},getNewPosition:function(){var a;a=this.closestItem();a>this.maximumItem?a=this.currentItem=this.maximumItem:0<=this.newPosX&&(this.currentItem=a=0);return a},closestItem:function(){var b=
this,c=!0===b.options.scrollPerPage?b.pagesInArray:b.positionsInArray,f=b.newPosX,g=null;a.each(c,function(q,t){if(f-b.itemWidth/20>c[q+1]&&f-b.itemWidth/20<t&&"left"===b.moveDirection())g=t,b.currentItem=!0===b.options.scrollPerPage?a.inArray(g,b.positionsInArray):q;else if(f+b.itemWidth/20<t&&f+b.itemWidth/20>(c[q+1]||c[q]-b.itemWidth)&&"right"===b.moveDirection())!0===b.options.scrollPerPage?(g=c[q+1]||c[c.length-1],b.currentItem=a.inArray(g,b.positionsInArray)):(g=c[q+1],b.currentItem=q+1)});
return b.currentItem},moveDirection:function(){var a;0>this.newRelativeX?(a="right",this.playDirection="next"):(a="left",this.playDirection="prev");return a},customEvents:function(){var a=this;a.$elem.on("owl.next",function(){a.next()});a.$elem.on("owl.prev",function(){a.prev()});a.$elem.on("owl.play",function(b,c){a.options.autoPlay=c;a.play();a.hoverStatus="play"});a.$elem.on("owl.stop",function(){a.stop();a.hoverStatus="stop"});a.$elem.on("owl.goTo",function(b,c){a.goTo(c)});a.$elem.on("owl.jumpTo",
function(b,c){a.jumpTo(c)})},stopOnHover:function(){var a=this;!0===a.options.stopOnHover&&(!0!==a.browser.isTouch&&!1!==a.options.autoPlay)&&(a.$elem.on("mouseover",function(){a.stop()}),a.$elem.on("mouseout",function(){"stop"!==a.hoverStatus&&a.play()}))},lazyLoad:function(){if(!1===this.options.lazyLoad)return!1;for(var c=0;c<this.itemsAmount;c++){var f=a(this.$owlItems[c]);if("loaded"!==f.data("owl-loaded")){var g=f.data("owl-item"),m=f.find(".lazyOwl"),q;"string"!==typeof m.data("src")?f.data("owl-loaded",
"loaded"):(f.data("owl-loaded")===b&&(m.hide(),f.addClass("loading").data("owl-loaded","checked")),(q=!0===this.options.lazyFollow?g>=this.currentItem:!0)&&(g<this.currentItem+this.options.items&&m.length)&&this.lazyPreload(f,m))}}},lazyPreload:function(a,b){function c(){t+=1;g.completeImg(b.get(0))||!0===n?f():100>=t?setTimeout(c,100):f()}function f(){a.data("owl-loaded","loaded").removeClass("loading");b.removeAttr("data-src");"fade"===g.options.lazyEffect?b.fadeIn(400):b.show();"function"===typeof g.options.afterLazyLoad&&
g.options.afterLazyLoad.apply(this,[g.$elem])}var g=this,t=0;if("DIV"===b.prop("tagName")){b.css("background-image","url("+b.data("src")+")");var n=!0}else b[0].src=b.data("src");c()},autoHeight:function(){function c(){q+=1;g.completeImg(m.get(0))?f():100>=q?setTimeout(c,100):g.wrapperOuter.css("height","")}function f(){var b=a(g.$owlItems[g.currentItem]).height();g.wrapperOuter.css("height",b+"px");g.wrapperOuter.hasClass("autoHeight")||setTimeout(function(){g.wrapperOuter.addClass("autoHeight")},
0)}var g=this,m=a(g.$owlItems[g.currentItem]).find("img");if(m.get(0)!==b){var q=0;c()}else f()},completeImg:function(a){return!a.complete||"undefined"!==typeof a.naturalWidth&&0==a.naturalWidth?!1:!0},onVisibleItems:function(){!0===this.options.addClassActive&&this.$owlItems.removeClass("active");this.visibleItems=[];for(var b=this.currentItem;b<this.currentItem+this.options.items;b++)this.visibleItems.push(b),!0===this.options.addClassActive&&a(this.$owlItems[b]).addClass("active");this.owl.visibleItems=
this.visibleItems},transitionTypes:function(a){this.outClass="owl-"+a+"-out";this.inClass="owl-"+a+"-in"},singleItemTransition:function(){var a=this;a.isTransition=!0;var b=a.outClass,c=a.inClass,f=a.$owlItems.eq(a.currentItem),g=a.$owlItems.eq(a.prevItem),t=Math.abs(a.positionsInArray[a.currentItem])+a.positionsInArray[a.prevItem],n=Math.abs(a.positionsInArray[a.currentItem])+a.itemWidth/2;a.$owlWrapper.addClass("owl-origin").css({"-webkit-transform-origin":n+"px","-moz-perspective-origin":n+"px",
"perspective-origin":n+"px"});g.css({position:"relative",left:t+"px"}).addClass(b).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",function(){a.endPrev=!0;g.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend");a.clearTransStyle(g,b)});f.addClass(c).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",function(){a.endCurrent=!0;f.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend");a.clearTransStyle(f,c)})},clearTransStyle:function(a,b){a.css({position:"",
left:""}).removeClass(b);this.endPrev&&this.endCurrent&&(this.$owlWrapper.removeClass("owl-origin"),this.isTransition=this.endCurrent=this.endPrev=!1)},owlStatus:function(){this.owl={userOptions:this.userOptions,baseElement:this.$elem,userItems:this.$userItems,owlItems:this.$owlItems,currentItem:this.currentItem,prevItem:this.prevItem,visibleItems:this.visibleItems,isTouch:this.browser.isTouch,browser:this.browser,dragDirection:this.dragDirection}},clearEvents:function(){this.$elem.off(".owl owl mousedown.disableTextSelect");
a(g).off(".owl owl");a(c).off("resize",this.resizer)},unWrap:function(){0!==this.$elem.children().length&&(this.$owlWrapper.unwrap(),this.$userItems.unwrap().unwrap(),this.owlControls&&this.owlControls.remove());this.clearEvents();this.$elem.attr("style",this.$elem.data("owl-originalStyles")||"").attr("class",this.$elem.data("owl-originalClasses"))},destroy:function(){this.stop();clearInterval(this.checkVisible);this.unWrap();this.$elem.removeData()},reinit:function(b){b=a.extend({},this.userOptions,
b);this.unWrap();this.init(b,this.$elem)},addItem:function(a,c){var f;if(!a)return!1;if(0===this.$elem.children().length)return this.$elem.append(a),this.setVars(),!1;this.unWrap();f=c===b||-1===c?-1:c;f>=this.$userItems.length||-1===f?this.$userItems.eq(-1).after(a):this.$userItems.eq(f).before(a);this.setVars()},removeItem:function(a){if(0===this.$elem.children().length)return!1;a=a===b||-1===a?-1:a;this.unWrap();this.$userItems.eq(a).remove();this.setVars()}};a.fn.owlCarousel=function(b){return this.each(function(){if(!0===
a(this).data("owl-init"))return!1;a(this).data("owl-init",!0);var c=Object.create(f);c.init(b,this);a.data(this,"owlCarousel",c)})};a.fn.owlCarousel.options={items:5,itemsCustom:!1,itemsDesktop:[1199,4],itemsDesktopSmall:[979,3],itemsTablet:[768,2],itemsTabletSmall:!1,itemsMobile:[479,1],singleItem:!1,itemsScaleUp:!1,slideSpeed:200,paginationSpeed:800,rewindSpeed:1E3,autoPlay:!1,stopOnHover:!1,navigation:!1,navigationText:["prev","next"],rewindNav:!0,scrollPerPage:!1,pagination:!0,paginationNumbers:!1,
responsive:!0,responsiveRefreshRate:200,responsiveBaseWidth:c,baseClass:"owl-carousel",theme:"owl-theme",lazyLoad:!1,lazyFollow:!0,lazyEffect:"fade",autoHeight:!1,jsonPath:!1,jsonSuccess:!1,dragBeforeAnimFinish:!0,mouseDrag:!0,touchDrag:!0,addClassActive:!1,transitionStyle:!1,beforeUpdate:!1,afterUpdate:!1,beforeInit:!1,afterInit:!1,beforeMove:!1,afterMove:!1,afterAction:!1,startDragging:!1,afterLazyLoad:!1}})(jQuery,window,document);(function(a){"function"===typeof define&&define.amd?"undefined"!==typeof jQuery?define(["jquery"],a):define([],a):"undefined"!==typeof jQuery?a(jQuery):a()})(function(a,c){function g(a){a=a.tagName;return"undefined"!==typeof a?p[a.toLowerCase()]:a}function b(a,c,f,g){var j=a.shift();if(j){var m=c[f]=c[f]||[];if("]"==j)if(d(m))""!=g&&m.push(g);else if("object"==typeof m){c=a=m;f=[];for(prop in c)c.hasOwnProperty(prop)&&f.push(prop);a[f.length]=g}else c[f]=[c[f],g];else{~j.indexOf("]")&&(j=j.substr(0,
j.length-1));if(!n.test(j)&&d(m))if(0==c[f].length)m=c[f]={};else{var m={},p;for(p in c[f])m[p]=c[f][p];c[f]=m}b(a,m,j,g)}}else d(c[f])?c[f].push(g):c[f]="object"==typeof c[f]?g:"undefined"==typeof c[f]?g:[c[f],g]}function f(a){for(var a=String(a).split(/&|;/),f=function(a,f){try{f=decodeURIComponent(f.replace(/\+/g," "))}catch(g){}var h=f.indexOf("="),j;a:{for(var m=f.length,p,q=0;q<m;++q)if(p=f[q],"]"==p&&(j=!1),"["==p&&(j=!0),"="==p&&!j){j=q;break a}j=void 0}m=f.substr(0,j||h);j=f.substr(j||h,
f.length);j=j.substr(j.indexOf("=")+1,j.length);""==m&&(m=f,j="");h=m;m=j;if(~h.indexOf("]")){var t=h.split("[");b(t,a,"base",m)}else{if(!n.test(h)&&d(a.base)){j={};for(t in a.base)j[t]=a.base[t];a.base=j}t=a.base;j=t[h];c===j?t[h]=m:d(j)?j.push(m):t[h]=[j,m]}return a},g=0,j=a.length>>0,m={base:{}};g<j;)g in a&&(m=f.call(c,m,a[g],g,a)),++g;return m.base}function d(a){return"[object Array]"===Object.prototype.toString.call(a)}function j(a,b){1===arguments.length&&!0===a&&(b=!0,a=c);for(var a=a||window.location.toString(),
d=b||!1,g=decodeURI(a),d=t[d?"strict":"loose"].exec(g),g={attr:{},param:{},seg:{}},j=14;j--;)g.attr[m[j]]=d[j]||"";g.param.query=f(g.attr.query);g.param.fragment=f(g.attr.fragment);g.seg.path=g.attr.path.replace(/^\/+|\/+$/g,"").split("/");g.seg.fragment=g.attr.fragment.replace(/^\/+|\/+$/g,"").split("/");g.attr.base=g.attr.host?(g.attr.protocol?g.attr.protocol+"://"+g.attr.host:g.attr.host)+(g.attr.port?":"+g.attr.port:""):"";return{data:g,attr:function(a){a=q[a]||a;return"undefined"!==typeof a?
this.data.attr[a]:this.data.attr},param:function(a){return"undefined"!==typeof a?this.data.param.query[a]:this.data.param.query},fparam:function(a){return"undefined"!==typeof a?this.data.param.fragment[a]:this.data.param.fragment},segment:function(a){if("undefined"===typeof a)return this.data.seg.path;a=0>a?this.data.seg.path.length+a:a-1;return this.data.seg.path[a]},fsegment:function(a){if("undefined"===typeof a)return this.data.seg.fragment;a=0>a?this.data.seg.fragment.length+a:a-1;return this.data.seg.fragment[a]}}}
var p={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href"},m="source protocol authority userInfo user password host port relative path directory file query fragment".split(" "),q={anchor:"fragment"},t={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},
n=/^[0-9]+$/;"undefined"!==typeof a?(a.fn.url=function(b){var c="";this.length&&(c=a(this).attr(g(this[0]))||"");return j(c,b)},a.url=j):window.purl=j});require=function e$$0(c,g,b){function f(j,m){if(!g[j]){if(!c[j]){var q="function"==typeof require&&require;if(!m&&q)return q(j,!0);if(d)return d(j,!0);throw Error("Cannot find module '"+j+"'");}q=g[j]={exports:{}};c[j][0].call(q.exports,function(b){var d=c[j][1][b];return f(d?d:b)},q,q.exports,e$$0,c,g,b)}return g[j].exports}for(var d="function"==typeof require&&require,j=0;j<b.length;j++)f(b[j]);return f}({QKdYBy:[function(a,c,g){var a="undefined"!==typeof self?self:"undefined"!==typeof window?window:
{},b=function(a,b){a.super_=b;a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})},f=function(a,b){Object.defineProperty(this,"kind",{value:a,enumerable:!0});b&&b.length&&Object.defineProperty(this,"path",{value:b,enumerable:!0})},d=function(a,b,c){d.super_.call(this,"E",a);Object.defineProperty(this,"lhs",{value:b,enumerable:!0});Object.defineProperty(this,"rhs",{value:c,enumerable:!0})},j=function(a,b){j.super_.call(this,"N",a);Object.defineProperty(this,
"rhs",{value:b,enumerable:!0})},p=function(a,b){p.super_.call(this,"D",a);Object.defineProperty(this,"lhs",{value:b,enumerable:!0})},m=function(a,b,c){m.super_.call(this,"A",a);Object.defineProperty(this,"index",{value:b,enumerable:!0});Object.defineProperty(this,"item",{value:c,enumerable:!0})},q=function(a,b,c){c=a.slice((c||b)+1||a.length);a.length=0>b?a.length+b:b;a.push.apply(a,c);return a},t=function(a,b,c,f,g,h){var f=f||[],n=f.slice(0);g&&n.push(g);f=typeof a;g=typeof b;if("undefined"===f)"undefined"!==
g&&c(new j(n,b));else if("undefined"===g)c(new p(n,a));else if(f!==g)c(new d(n,a,b));else if(a instanceof Date&&b instanceof Date&&0!=a-b)c(new d(n,a,b));else if("object"===f&&null!=a&&null!=b){if(h=h||[],0>h.indexOf(a)){h.push(a);if(Array.isArray(a)){var x,f=function(a){c(new m(n,x,a))};for(x=0;x<a.length;x++)x>=b.length?c(new m(n,x,new p(void 0,a[x]))):t(a[x],b[x],f,[],null,h);for(;x<b.length;)c(new m(n,x,new j(void 0,b[x++])))}else{var f=Object.keys(a),z=Object.keys(b);f.forEach(function(d){var f=
z.indexOf(d);0<=f?(t(a[d],b[d],c,n,d,h),z=q(z,f)):t(a[d],void 0,c,n,d,h)});z.forEach(function(a){t(void 0,b[a],c,n,a,h)})}h.length-=1}}else a!==b&&c(new d(n,a,b))},n=function(a,b,c){c=c||[];t(a,b,function(a){a&&c.push(a)});return c.length?c:void 0},h=function(a,b,c){if(c.path&&c.path.length){var b=a[b],d,f=c.path.length-1;for(d=0;d<f;d++)b=b[c.path[d]];switch(c.kind){case "A":h(b,c.index,c.item);break;case "D":delete b[c.path[d]];break;case "E":case "N":b[c.path[d]]=c.rhs}}else switch(c.kind){case "A":h(a[b],
c.index,c.item);break;case "D":a=q(a,b);break;case "E":case "N":a[b]=c.rhs}return a},x=function(a,b,c){if(!(c instanceof f))throw new TypeError("[Object] change must be instanceof Diff");if(a&&b&&c){var d;d=c.path.length-1;for(b=0;b<d;b++)"undefined"===typeof a[c.path[b]]&&(a[c.path[b]]={}),a=a[c.path[b]];switch(c.kind){case "A":"undefined"===typeof a[c.path[b]]&&(a[c.path[b]]=[]);h(a[c.path[b]],c.index,c.item);break;case "D":delete a[c.path[b]];break;case "E":case "N":a[c.path[b]]=c.rhs}}},z,D,S=
[];z="object"==typeof a&&a?a:"undefined"!==typeof window?window:{};(D=z.DeepDiff)&&S.push(function(){"undefined"!==typeof D&&z.DeepDiff===n&&(z.DeepDiff=D,D=void 0)});b(d,f);b(j,f);b(p,f);b(m,f);Object.defineProperties(n,{diff:{value:n,enumerable:!0},observableDiff:{value:t,enumerable:!0},applyDiff:{value:function(a,b,c){a&&b&&t(a,b,function(d){(!c||c(a,b,d))&&x(a,b,d)})},enumerable:!0},applyChange:{value:x,enumerable:!0},isConflict:{get:function(){return"undefined"!==typeof D},enumerable:!0},noConflict:{value:function(){S&&
(S.forEach(function(a){a()}),S=null);return n},enumerable:!0}});"undefined"!=typeof c&&c&&"object"==typeof g&&g&&c.exports===g?c.exports=n:z.DeepDiff=n},{}],"deep-diff":[function(a,c){c.exports=a("QKdYBy")},{}]},{},[]);(function(a){function c(b){var c=a.formatCurrency.regions[b];return c?c:/(\w+)-(\w+)/g.test(b)?(b=b.replace(/(\w+)-(\w+)/g,"$1"),a.formatCurrency.regions[b]):null}function g(a){if(""===a.symbol)return RegExp("[^\\d"+a.decimalSymbol+"-]","g");var c=a.symbol.replace("$","\\$").replace(".","\\.");return RegExp(c+"|[^\\d"+a.decimalSymbol+"-]","g")}a.formatCurrency={};a.formatCurrency.regions=[];a.formatCurrency.regions[""]={symbol:"$",positiveFormat:"%s%n",negativeFormat:"(%s%n)",decimalSymbol:".",digitGroupSymbol:",",
groupDigits:!0};a.fn.formatCurrency=function(b,f){1==arguments.length&&"string"!==typeof b&&(f=b,b=!1);var d={name:"formatCurrency",colorize:!1,region:"",global:!0,roundToDecimalPlace:2,eventOnDecimalsEntered:!1},d=a.extend(d,a.formatCurrency.regions[""]),f=a.extend(d,f);0<f.region.length&&(f=a.extend(f,c(f.region)));f.regex=g(f);return this.each(function(){$this=a(this);var c="0",c=$this[$this.is("input, select, textarea")?"val":"html"]();0<=c.search("\\(")&&(c="-"+c);if(!(""===c||"-"===c&&-1===
f.roundToDecimalPlace)){if(isNaN(c)){c=c.replace(f.regex,"");if(""===c||"-"===c&&-1===f.roundToDecimalPlace)return;"."!=f.decimalSymbol&&(c=c.replace(f.decimalSymbol,"."));isNaN(c)&&(c="0")}var d=String(c).split("."),g=c==Math.abs(c),q=1<d.length,t=q?d[1].toString():"0",n=t,c=Math.abs(d[0]),c=isNaN(c)?0:c;0<=f.roundToDecimalPlace&&(t=parseFloat("1."+t),t=t.toFixed(f.roundToDecimalPlace),"2"==t.substring(0,1)&&(c=Number(c)+1),t=t.substring(2));c=String(c);if(f.groupDigits)for(d=0;d<Math.floor((c.length-
(1+d))/3);d++)c=c.substring(0,c.length-(4*d+3))+f.digitGroupSymbol+c.substring(c.length-(4*d+3));if(q&&-1==f.roundToDecimalPlace||0<f.roundToDecimalPlace)c+=f.decimalSymbol+t;t=(g?f.positiveFormat:f.negativeFormat).replace(/%s/g,f.symbol);t=t.replace(/%n/g,c);c=a([]);c=b?a(b):$this;c[c.is("input, select, textarea")?"val":"html"](t);q&&(f.eventOnDecimalsEntered&&n.length>f.roundToDecimalPlace)&&c.trigger("decimalsEntered",n);f.colorize&&c.css("color",g?"black":"red")}})};a.fn.toNumber=function(b){var f=
a.extend({name:"toNumber",region:"",global:!0},a.formatCurrency.regions[""]),b=jQuery.extend(f,b);0<b.region.length&&(b=a.extend(b,c(b.region)));b.regex=g(b);return this.each(function(){var c=a(this).is("input, select, textarea")?"val":"html";a(this)[c](a(this)[c]().replace("(","(-").replace(b.regex,""))})};a.fn.asNumber=function(b){var f=a.extend({name:"asNumber",region:"",parse:!0,parseType:"Float",global:!0},a.formatCurrency.regions[""]),b=jQuery.extend(f,b);0<b.region.length&&(b=a.extend(b,c(b.region)));
b.regex=g(b);var f=b,d;a:switch(b.parseType.toLowerCase()){case "int":d="Int";break a;case "float":d="Float";break a;default:throw"invalid parseType";}f.parseType=d;f=a(this).is("input, select, textarea")?"val":"html";f=a(this)[f]();f=(f?f:"").replace("(","(-");f=f.replace(b.regex,"");if(!b.parse)return f;0==f.length&&(f="0");"."!=b.decimalSymbol&&(f=f.replace(b.decimalSymbol,"."));return window["parse"+b.parseType](f)}})(jQuery);var goog={object:{},typeOf:function(a){var c=typeof a;if("object"==c)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return c;var g=Object.prototype.toString.call(a);if("[object Window]"==g)return"object";if("[object Array]"==g||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==g||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==c&&"undefined"==typeof a.call)return"object";return c},isArray:function(a){return"array"==goog.typeOf(a)},isArrayLike:function(a){var c=goog.typeOf(a);return"array"==c||"object"==c&&"number"==typeof a.length},isObject:function(a){var c=typeof a;return"object"==c&&null!=a||"function"==c}};goog.object.getCount=function(a){var c=0,g;for(g in a)c++;return c};function deepCompare(){function a(b,f){var p;if(isNaN(b)&&isNaN(f)&&"number"===typeof b&&"number"===typeof f||b===f)return!0;if("function"===typeof b&&"function"===typeof f||b instanceof Date&&f instanceof Date||b instanceof RegExp&&f instanceof RegExp||b instanceof String&&f instanceof String||b instanceof Number&&f instanceof Number)return b.toString()===f.toString();if(!(b instanceof Object&&f instanceof Object)||(b.isPrototypeOf(f)||f.isPrototypeOf(b))||b.constructor!==f.constructor||b.prototype!==
f.prototype||-1<c.indexOf(b)||-1<g.indexOf(f))return!1;for(p in f)if(f.hasOwnProperty(p)!==b.hasOwnProperty(p)||typeof f[p]!==typeof b[p])return!1;for(p in b){if(f.hasOwnProperty(p)!==b.hasOwnProperty(p)||typeof f[p]!==typeof b[p])return!1;switch(typeof b[p]){case "object":case "function":c.push(b);g.push(f);if(!a(b[p],f[p]))return!1;c.pop();g.pop();break;default:if(b[p]!==f[p])return!1}}return!0}var c,g;if(1>arguments.length)return!0;for(var b=1,f=arguments.length;b<f;b++)if(c=[],g=[],!a(arguments[0],
arguments[b]))return!1;return!0};var tm=tm||{};tm.index=tm.index||{};pubsubEvent=function(a){this._name=a;this._active=!0};pubsubEvent.prototype.getName=function(){return this._name};pubsubEvent.prototype.stopImmediatePropagation=function(){this._active=!1};pubsubEvent.prototype.isActive=function(){return this._active};pubsub=function(){this._handlers={}};pubsub.prototype.sub=function(a,c){"string"===typeof a&&(a=[a]);for(var g in a){this._handlers[a[g]]||(this._handlers[a[g]]=[]);for(var b=1;b<arguments.length;b++)this._handlers[a[g]].push(arguments[b])}};pubsub.prototype.pub=function(a,c){this._event=a;if(this._handlers[a]){var g=[];evt=new pubsubEvent(a);g.push(evt);var b;for(b=1;b<arguments.length;++b)g.push(arguments[b]);for(b in this._handlers[a])if(this._handlers[a][b].apply(null,g),!evt.isActive())break}};
pubsub.prototype.lastEvent=function(){return this._event};var bus=new pubsub;tm=tm||{};
$.fn.wizardWidget=function(a){return this.each(function(){function c(b){var c;$(".wizard-block .view-more").removeClass("open");"#step-1"===b&&(d=d.slice(0,1),c=d[0]);"#prev"==b&&(c=d.pop());if((c=c||$(a.items+"[data-id="+b.slice(1)+"]",g))&&c.length)"#prev"!=b&&d.push(f),a.hideFu.call(f),a.showFu.call(f=c)}var g=$(this),b,f,d;a=$.extend({items:">ul>li",followLinkClass:"a",showFu:function(){this.show()},hideFu:function(){this.hide()},def:0},a);b=$(a.items,g);b.not(f=b.eq(a.def)).hide();d=[f];g.on("click",
a.followLinkClass,function(){var a=$(this).attr("href");c(a);g.trigger("change.slide",a);return!1}).on("close.wizard",function(){c("#step-1");g.trigger("close.slide")})})};
tm.index.wizard=function(a,c){this.wizardBlock=a;this.wizardBlockWrapper=c;a.wizardWidget({showFu:function(){this.fadeIn(500);$(".last-step").css("color","#2D81D7")},hideFu:function(){this.hide()},items:">.step",followLinkClass:"a.wizard-link"});a.on("change.slide",$.proxy(function(c,b){if("#step-1"===b||"#prev"===b&&a.hasClass("mini"))a.removeClass("mini").stop().animate({height:204,paddingTop:50},{duration:700}),$(".wizard-block-wrapper").stop().animate({height:204},{duration:700}),this.getIndexOverlay().fadeIn()},
this)).on("close.slide",function(){$.when($(".wizard-block-wrapper")).then(function(){a.css({height:204,paddingTop:50})})});this.wizardSpinner=$('<div class="wizard-spinner"><div/></div>').hide(200);this.wizardSpinner.appendTo(this.wizardBlock);this.filter_overlay=$('<div class="overlay"/>').hide().appendTo(".box-search-results");this.wizardSearchResults=$("#wizard-search-results").css({position:"relative"});this.wizardSearchResultsProducts=$("#products")};tm.index.wizard.prototype.wizardBlock;tm.index.wizard.prototype.wizardBlockWrapper;
tm.index.wizard.prototype.wizardSearchResults;tm.index.wizard.prototype.wizardSpinner;tm.index.wizard.prototype.filter_overlay;tm.index.wizard.startup=function(){$(document).ready(function(){var a=new tm.index.wizard($(".wizard-block"),$(".wizard-block-wrapper").hide());$(".wizard-type").click($.proxy(a.onClick,a));$("#wizard-start").click($.proxy(a.openWizard,a));$(".wizard-block .close-x").click($.proxy(a.closeWizard,a))})};
tm.index.wizard.prototype.onClick=function(a){var c=$(a.target),g=c.html(),a=c.attr("data-keywords"),b=c.attr("data-prop-topic"),f=c.attr("data-prop-type"),d=c.attr("data-exclude-prop-topic"),j=c.attr("data-exclude-prop-types"),p=c.attr("data-exclude-prop-functionality"),c=c.attr("data-prop-functionality"),m={},a={keywords:a,"excludepropertylist[topic]":d,"excludepropertylist[types]":j,"excludepropertylist[functionality]":p,"propertylist[functionality]":c,"propertylist[topic]":b,"propertylist[types]":f},
q;for(q in a)if("propertylist["==q.substr(0,13)||"excludepropertylist["==q.substr(0,20)){if(b=$.trim(a[q]),""!==b){var b=b.split(/\s*,\s*/),t;for(t in b)m[q+"["+t+"]"]=b[t]}}else m[q]=a[q];this.wizardSpinner.fadeIn();this.getIndexOverlay().fadeIn();tm.search.engine.search(m,"wizard").done($.proxy(function(a){$("#js-wrap-view-all").remove();for(var b in m)("undefined"==typeof m[b]||0===m[b].length||"buttonWords"==b)&&delete m[b];b=$.param(m);this.wizardSearchResultsProducts.html(a.getText());$(".last-step").css("color",
"#fff");tm.search.ui.onDiscountUpdate({target:$("#products")});var c="";20<a.getCount()&&(c="<a onClick=\"_gaq.push(['b._trackEvent', 'wizard', 'click', 'view all']);\" class='btn btn-default btn-listing' id='more' href='/templates.php?"+b+"'>View all "+g+" templates</a>");$(".thumbnail-link",this.wizardSearchResults).html(c)},this)).done($.proxy(function(){this.onAfterSearch();this.onStopSearch()},this))};
tm.index.wizard.prototype.openWizard=function(){if($("#wizard-start").is(".js-none"))return!1;$("#wizard-start").addClass("js-none");this.wizardBlockWrapper.height(0).show().animate({height:204},{duration:700});$.scrollTo(this.wizardBlock,700);this.getIndexOverlay().fadeIn();return!1};
tm.index.wizard.prototype.closeWizard=function(){$("#wizard-start").removeClass("js-none");this.wizardBlockWrapper.stop().animate({height:0},{duration:600,complete:$.proxy(function(){this.wizardBlockWrapper.hide();this.wizardBlock.children().css({visibility:"visible"})},this)});this.wizardBlock.children().css({visibility:"hidden"});this.wizardBlock.removeClass("mini").data("indexoverlay").fadeOut(function(){$(this).detach()});this.wizardBlock.trigger("close.wizard");return!1};
tm.index.wizard.prototype.getIndexOverlay=function(){if(!this.wizardBlock.data("indexoverlay")){var a=$('<div class="index-overlay"/>').hide();a.appendTo(this.wizardSearchResults);this.wizardBlock.data({indexoverlay:a})}return this.wizardBlock.data("indexoverlay")};
tm.index.wizard.prototype.onStopSearch=function(){$("[rel=tooltip]").tooltip();this.filter_overlay.is(":visible")&&this.filter_overlay.fadeOut();$.fn.leanModal&&($(".js-trigger").leanModal({top:200,overlay:0.5,closeButton:".modal_close"}),$(".js-trigger1").leanModal({top:"scroll",overlay:0.6,closeButton:".modal_close"}),$(".js-trigger2").leanModal({top:200,overlay:0.5,closeButton:".modal_close1, .close-popup"}))};
tm.index.wizard.prototype.onAfterSearch=function(){this.getIndexOverlay().fadeOut($.proxy(function(){this.getIndexOverlay().detach().css({top:"18px"})},this));this.wizardSpinner.fadeOut();this.wizardBlock.addClass("mini").stop().animate({height:144,paddingTop:24},{duration:700});this.wizardBlockWrapper.stop().animate({height:168},{duration:700});tm.thumbnail.renew();$(".js-thumbnail").hover(function(){$(this).find("a.zoom").stop().animate({opacity:"1"},250)},function(){$(this).find("a.zoom").stop().animate({opacity:"0"},
250)})};var __topics={state:"open",attr:{"single-select":1},data:[{data:"All Categories",children:[],attr:{id:"category-all"}},{data:"Art & Culture",attr:{"data-topic":51033},children:[{data:"Art",attr:{id:"topicart","data-topic":50233},children:[{data:"Art Gallery",attr:{"data-topic":50234}},{data:"Art School",attr:{"data-topic":50235}},{data:"Artist Portfolio",attr:{"data-topic":50236}},{data:"Art Store",attr:{"data-topic":50237}},{data:"Art Studio",attr:{"data-topic":50238}},{data:"Clip Art",attr:{"data-topic":50239}},
{data:"Print Shop",attr:{"data-topic":50240}},{data:"Sculpture",attr:{"data-topic":50582}}]},{data:"Music",attr:{"data-topic":50564},children:[{data:"Music Band",attr:{"data-topic":50423}},{data:"Music Portal",attr:{"data-topic":50424}},{data:"Music Store",attr:{"data-topic":50425}},{data:"Recording Studio",attr:{"data-topic":50426}},{data:"Music Festival",attr:{"data-topic":50427}},{data:"Music Blog",attr:{"data-topic":50428}},{data:"Singer",attr:{"data-topic":50617}},{data:"MP3 Store",attr:{"data-topic":50339}},
{data:"DJ",attr:{"data-topic":50341}}]},{data:"Museum",attr:{"data-topic":50468}},{data:"Movie",attr:{"data-topic":50331}},{data:"Theater",attr:{"data-topic":50332}}]},{data:"Animals & Pets",attr:{"data-topic":50159},children:[{data:"Pets",attr:{"data-topic":50220},children:[{data:"Exotic",attr:{"data-topic":50227}},{data:"Cat",attr:{"data-topic":50223}},{data:"Dog",attr:{"data-topic":50222}},{data:"Fish",attr:{"data-topic":50226}},{data:"Bird",attr:{"data-topic":50224}},{data:"Guinea Pigs",attr:{"data-topic":50229}}]},
{data:"Wild",attr:{"data-topic":50584}},{data:"Zoo",attr:{"data-topic":50230}},{data:"Veterinary",attr:{"data-topic":50221}},{data:"Horse",attr:{"data-topic":50225}},{data:"Animal Shelter",attr:{"data-topic":50219}},{data:"Pet Sitting",attr:{"data-topic":50585}},{data:"Dolphin",attr:{"data-topic":50231}},{data:"Reptile",attr:{"data-topic":50228}}]},{data:"Design & Photography",attr:{"data-topic":51034},children:[{data:"Design",attr:{"data-topic":50629},children:[{data:"Exterior Design",attr:{"data-topic":50545},
children:[{data:"Landscape Design",attr:{"data-topic":50343}},{data:"Garden Design",attr:{"data-topic":50344}}]},{data:"Interior & Furniture",attr:{"data-topic":50556},children:[{data:"Interior Design",attr:{"data-topic":50395},children:[{data:"Feng Shui",attr:{"data-topic":50396}},{data:"Home Remodeling",attr:{"data-topic":50398}}]},{data:"Furniture",attr:{"data-topic":50397}},{data:"Decor",children:[{data:"Window Decor",attr:{"data-topic":50399}},{data:"Home Decor",attr:{"data-topic":50400}}]},
{data:"Housewares",attr:{"data-topic":50636}},{data:"Window",attr:{"data-topic":50647}},{data:"Flooring",attr:{"data-topic":50659}}]},{data:"Architecture",attr:{"data-topic":50160},children:[{data:"Construction Company",attr:{"data-topic":50232}},{data:"Drafting",attr:{"data-topic":50583}}]},{data:"Web Design",attr:{"data-topic":50578}},{data:"Design Portfolio",attr:{"data-topic":50631}},{data:"Design Studio",attr:{"data-topic":50630}}]},{data:"Photography",attr:{"data-topic":50241},children:[{data:"Photo Gallery",
attr:{"data-topic":50242}},{data:"Photographer Portfolio",attr:{"data-topic":50243}},{data:"Photo Lab",attr:{"data-topic":50244}},{data:"Photo Studio",attr:{"data-topic":50586}}]}]},{data:"Education & Books",attr:{"data-topic":51035},children:[{data:"Books",attr:{"data-topic":50156},children:[{data:"Publishing Company",attr:{"data-topic":50255}},{data:"Book Reviews",attr:{"data-topic":50256}}]},{data:"Education",attr:{"data-topic":50540},children:[{data:"Colleges & Universities",children:[{data:"University",
attr:{"data-topic":50317}}]},{data:"Library",attr:{"data-topic":50323}},{data:"Career & Special Education",children:[{data:"Traffic School",attr:{"data-topic":50599}},{data:"Cooking School",attr:{"data-topic":50324}},{data:"Career Education",attr:{"data-topic":50322}},{data:"Business School",attr:{"data-topic":50321}},{data:"Music School",attr:{"data-topic":50320}},{data:"Flight School",attr:{"data-topic":50319}},{data:"Dance School",attr:{"data-topic":50318}},{data:"Language School",attr:{"data-topic":50316}},
{data:"Swimming School",attr:{"data-topic":50314}},{data:"Religious School",attr:{"data-topic":50315}}]},{data:"Primary School",attr:{"data-topic":50603}}]},{data:"Science",attr:{"data-topic":50570},children:[{data:"Astronomy",attr:{"data-topic":50450}},{data:"Astrology",attr:{"data-topic":50333}},{data:"Science Lab",attr:{"data-topic":50654}},{data:"UFO",attr:{"data-topic":50452}}]}]},{data:"Business & Services",attr:{"data-topic":51036},children:[{data:"IT",attr:{"data-topic":50269}},{data:"Security",
attr:{"data-topic":50571},children:[{data:"Police",attr:{"data-topic":50455}},{data:"Fire Department",attr:{"data-topic":50453}},{data:"Locksmith",attr:{"data-topic":50456}},{data:"Private Investigator",attr:{"data-topic":50637}}]},{data:"Agriculture",attr:{"data-topic":50524},children:[{data:"Gardening",attr:{"data-topic":50211}},{data:"Farms",attr:{"data-topic":50208},children:[{data:"Cattle",attr:{"data-topic":50209}},{data:"Poultry",attr:{"data-topic":50212}},{data:"Sheep",attr:{"data-topic":50213}}]},
{data:"Fruits & Vegetables",attr:{"data-topic":50210}},{data:"Winery",attr:{"data-topic":50215}}]},{data:"Environmental",attr:{"data-topic":50639},children:[{data:"Alternative Power",attr:{"data-topic":50525}},{data:"Wind Energy",attr:{"data-topic":50217}},{data:"Solar Energy",attr:{"data-topic":50216}},{data:"Biofuel",attr:{"data-topic":50218}}]},{data:"Auction",attr:{"data-topic":50643}},{data:"Law",attr:{"data-topic":50559},children:[{data:"Lawyer",attr:{"data-topic":50404}},{data:"Law Firm",attr:{"data-topic":50405}}]},
{data:"Antique",attr:{"data-topic":50632},children:[{data:"Antique Store",attr:{"data-topic":50633}}]},{data:"Transportation",attr:{"data-topic":50576},children:[{data:"Moving Company",attr:{"data-topic":50384}},{data:"Maritime",attr:{"data-topic":50479}},{data:"Taxi",attr:{"data-topic":50480}},{data:"Private Airline",attr:{"data-topic":50651}},{data:"Trucking",attr:{"data-topic":50627}}]},{data:"Hotels",attr:{"data-topic":50554},children:[{data:"Hotel Reviews",attr:{"data-topic":50387}},{data:"Motel",
attr:{"data-topic":50388}}]},{data:"Industrial",attr:{"data-topic":50555},children:[{data:"Gas & Oil",attr:{"data-topic":50389}},{data:"Steelworks",attr:{"data-topic":50390}},{data:"Welding",attr:{"data-topic":50391}},{data:"Mining Company",attr:{"data-topic":50392}},{data:"Civil Engineering",attr:{"data-topic":50393}},{data:"Lighting & Electricity",attr:{"data-topic":50394}},{data:"Cement",attr:{"data-topic":50610}},{data:"Timber",attr:{"data-topic":50645}},{data:"Packaging",attr:{"data-topic":50648}}]},
{data:"Maintenance Services",attr:{"data-topic":50560},children:[{data:"Air Conditioning",attr:{"data-topic":50644}},{data:"Cleaning",attr:{"data-topic":50382}},{data:"Delivery Services",attr:{"data-topic":50383}},{data:"Dry Cleaners",attr:{"data-topic":50376}},{data:"Home Repairs",attr:{"data-topic":50380}},{data:"Laundry",attr:{"data-topic":50386}},{data:"Painting Company",attr:{"data-topic":50375}},{data:"Pest Control",attr:{"data-topic":50385}},{data:"Plumbing",attr:{"data-topic":50378}},{data:"Pool Cleaning",
attr:{"data-topic":50379}},{data:"Roofing Company",attr:{"data-topic":50381}},{data:"Window Cleaning",attr:{"data-topic":50377}}]},{data:"Media",attr:{"data-topic":50561},children:[{data:"News Portal",attr:{"data-topic":50406}},{data:"Celebrity Website",attr:{"data-topic":50407}},{data:"TV Channel",attr:{"data-topic":50408}},{data:"Weather",attr:{"data-topic":50616}},{data:"Video Lab",attr:{"data-topic":50409}},{data:"Videographer",attr:{"data-topic":50589}},{data:"Video Gallery",attr:{"data-topic":50590}}]},
{data:"Tobacco",attr:{"data-topic":50596}},{data:"Business Services",children:[{data:"SEO Website",attr:{"data-topic":50265}},{data:"Outsourcing Company",attr:{"data-topic":50266}},{data:"Translation Bureau",attr:{"data-topic":50270}},{data:"Consulting",attr:{"data-topic":50258}},{data:"Marketing",attr:{"data-topic":50259}},{data:"Accounting",attr:{"data-topic":50262}},{data:"Management",attr:{"data-topic":50263}},{data:"Advertising Agency",attr:{"data-topic":50264}},{data:"Call Center",attr:{"data-topic":50267}},
{data:"Public Relations",attr:{"data-topic":50268}},{data:"Merchant",attr:{"data-topic":50605}},{data:"Job Portal",attr:{"data-topic":50635}},{data:"Stationery",attr:{"data-topic":50640}},{data:"Office",attr:{"data-topic":50646}}]},{data:"Finance",children:[{data:"Banking Services",attr:{"data-topic":50594}},{data:"Financial Advisor",attr:{"data-topic":50261}},{data:"Insurance",attr:{"data-topic":50593}},{data:"Loans",attr:{"data-topic":55681}},{data:"Credit and Collection",attr:{"data-topic":55682}},
{data:"Merchant Services",attr:{"data-topic":50605}},{data:"Investment Company",attr:{"data-topic":50260}},{data:"Mortgages",attr:{"data-topic":50595}}]}]},{data:"Cars & Motorcycles",attr:{"data-topic":51037},children:[{data:"Cars",attr:{"data-topic":50535},children:[{data:"Car Dealer",attr:{"data-topic":50295}},{data:"Car Audio",attr:{"data-topic":50296}},{data:"Car Repair",attr:{"data-topic":50297}},{data:"Car Tuning",attr:{"data-topic":50298}},{data:"Car Rental",attr:{"data-topic":50299}},{data:"Car Club",
attr:{"data-topic":50300}},{data:"Car Wash",attr:{"data-topic":50301}},{data:"Car Insurance",attr:{"data-topic":50302}},{data:"Wheels & Tires",attr:{"data-topic":50303}},{data:"Auto Parts",attr:{"data-topic":50304}},{data:"Car Racing",attr:{"data-topic":50305}},{data:"Limousine Services",attr:{"data-topic":50598}},{data:"Car Scrap Yard",attr:{"data-topic":50306}}]},{data:"Motorcycles",attr:{"data-topic":50517},children:[{data:"Bike Shop",attr:{"data-topic":50307}},{data:"Biker Club",attr:{"data-topic":50308}}]}]},
{data:"Computers & Internet",attr:{"data-topic":51038},children:[{data:"Computers",attr:{"data-topic":50538},children:[{data:"Computer Repair",attr:{"data-topic":50541}},{data:"Computer Store",attr:{"data-topic":50542}}]},{data:"Hosting",attr:{"data-topic":50553}},{data:"Internet",attr:{"data-topic":50557},children:[{data:"Domain Registrar",attr:{"data-topic":50401}},{data:"Email Services",attr:{"data-topic":50402}},{data:"Internet Cafe",attr:{"data-topic":50403}}]},{data:"Software",attr:{"data-topic":50573},
children:[{data:"Software Store",attr:{"data-topic":50652}},{data:"Web Development",attr:{"data-topic":50470}},{data:"Software Company",attr:{"data-topic":50469}}]},{data:"Information Security",attr:{"data-topic":50454}},{data:"Communications",attr:{"data-topic":50537},children:[{data:"Satellite TV",attr:{"data-topic":50312}},{data:"ISP",attr:{"data-topic":50311}},{data:"VOIP",attr:{"data-topic":50313}},{data:"Mobile Company",attr:{"data-topic":50601}}]}]},{data:"Electronics",attr:{"data-topic":50543},
children:[{data:"Mobile Store",attr:{"data-topic":50325}},{data:"Electronics Review",attr:{"data-topic":50326}},{data:"Video Store",attr:{"data-topic":50327}},{data:"Audio Store",attr:{"data-topic":50328}},{data:"Electronics Store",attr:{"data-topic":50602}}]},{data:"Entertainment, Games & Nightlife",attr:{"data-topic":51039},children:[{data:"Entertainment",attr:{"data-topic":50544},children:[{data:"Amusement Park",attr:{"data-topic":50329}},{data:"Tickets Website",attr:{"data-topic":50330}},{data:"Movie",
attr:{"data-topic":50331}},{data:"Theater",attr:{"data-topic":50332}},{data:"Mobile",attr:{"data-topic":50334}},{data:"DVD Store",attr:{"data-topic":50335}},{data:"Event Planner",attr:{"data-topic":50336}},{data:"Toy Store",attr:{"data-topic":50337}},{data:"Flash Games",attr:{"data-topic":50338}},{data:"Radio Website",attr:{"data-topic":50340}},{data:"Fortune Teller",attr:{"data-topic":50451}}]},{data:"Games",attr:{"data-topic":50550},children:[{data:"Game Portal",attr:{"data-topic":50656}}]},{data:"Night Club",
attr:{"data-topic":50565},children:[{data:"DJ",attr:{"data-topic":50341}}]},{data:"Online Casino (Gambling)",attr:{"data-topic":50566},children:[{data:"Online Poker",attr:{"data-topic":50429}},{data:"Slot Machines",attr:{"data-topic":50430}},{data:"Online Betting",attr:{"data-topic":50431}}]},{data:"Hobbies & Crafts",attr:{"data-topic":50612}}]},{data:"Home & Family",attr:{"data-topic":51040},children:[{data:"Family",attr:{"data-topic":50546},children:[{data:"Kids & Children",children:[{data:"Baby Store",
attr:{"data-topic":50604}},{data:"Day Care",attr:{"data-topic":50309}},{data:"Babysitter",attr:{"data-topic":50345}},{data:"Newborn",attr:{"data-topic":50348}},{data:"Kids Center",attr:{"data-topic":50350}},{data:"Summer Camp",attr:{"data-topic":50349}}]},{data:"Family Center",attr:{"data-topic":50346}},{data:"Family Psychologist",attr:{"data-topic":50347}}]},{data:"Exterior Design",attr:{"data-topic":50545},children:[{data:"Landscape Design",attr:{"data-topic":50343}},{data:"Garden Design",attr:{"data-topic":50344}}]},
{data:"Interior & Furniture",attr:{"data-topic":50556},children:[{data:"Interior Design",attr:{"data-topic":50395},children:[{data:"Feng Shui",attr:{"data-topic":50396}},{data:"Home Remodeling",attr:{"data-topic":50398}}]},{data:"Furniture",attr:{"data-topic":50397}},{data:"Decor",children:[{data:"Window Decor",attr:{"data-topic":50399}},{data:"Home Decor",attr:{"data-topic":50400}}]},{data:"Housewares",attr:{"data-topic":50636}},{data:"Window",attr:{"data-topic":50647}},{data:"Flooring",attr:{"data-topic":50659}}]},
{data:"Tools & Equipment",attr:{"data-topic":50575}},{data:"Architecture",attr:{"data-topic":50160},children:[{data:"Construction Company",attr:{"data-topic":50232}},{data:"Drafting",attr:{"data-topic":50583}}]},{data:"Wedding",attr:{"data-topic":50579},children:[{data:"Wedding Shop",attr:{"data-topic":50471}},{data:"Wedding Planner",attr:{"data-topic":50472}},{data:"Wedding Dresses",attr:{"data-topic":50473}},{data:"Wedding Venues",attr:{"data-topic":50474}},{data:"Wedding Album",attr:{"data-topic":50475}},
{data:"Wedding Cake",attr:{"data-topic":50609}}]}]},{data:"Fashion & Beauty",attr:{"data-topic":51041},children:[{data:"Fashion",attr:{"data-topic":50547},children:[{data:"Jeans",attr:{"data-topic":50356}},{data:"T-shirt Shop",attr:{"data-topic":50354}},{data:"Fashion Blog",attr:{"data-topic":50357}},{data:"Fashion Store",attr:{"data-topic":50650}},{data:"Apparel",attr:{"data-topic":50355}},{data:"Kids' fashion",attr:{"data-topic":55680}},{data:"Shoe Store",attr:{"data-topic":50353}},{data:"Accessories",
children:[{data:"Eye Glasses",attr:{"data-topic":50653}},{data:"Watches",attr:{"data-topic":50607}},{data:"Handbags",attr:{"data-topic":50352}}]},{data:"Swimwear",attr:{"data-topic":50358}},{data:"Men's Fashion",children:[{data:"underwear",attr:{"data-topic":50606}}]},{data:"Model Agency",attr:{"data-topic":50359}},{data:"Model Portfolio",attr:{"data-topic":50360}},{data:"Women's Fashion",children:[{data:"Lingerie",attr:{"data-topic":50351}}]}]},{data:"Beauty",attr:{"data-topic":50529},children:[{data:"Cosmetics Store",
attr:{"data-topic":50246}},{data:"Spa Accessories",attr:{"data-topic":50247}},{data:"Piercing Shop",attr:{"data-topic":50253}},{data:"Salon",attr:{"data-topic":50245},children:[{data:"Tanning Salon",attr:{"data-topic":50591}},{data:"Beauty Salon",attr:{"data-topic":50245}},{data:"Massage Salon",attr:{"data-topic":50250}},{data:"Nail Salon",attr:{"data-topic":50249}},{data:"Hair Salon",attr:{"data-topic":50251}},{data:"Tattoo Salon",attr:{"data-topic":50252}}]},{data:"Beauty School",attr:{"data-topic":50248}},
{data:"Sauna",attr:{"data-topic":50649}}]},{data:"Jewelry",attr:{"data-topic":50558}},{data:"Wedding",attr:{"data-topic":50579},children:[{data:"Wedding Shop",attr:{"data-topic":50471}},{data:"Wedding Planner",attr:{"data-topic":50472}},{data:"Wedding Dresses",attr:{"data-topic":50473}},{data:"Wedding Venues",attr:{"data-topic":50474}},{data:"Wedding Album",attr:{"data-topic":50475}},{data:"Wedding Cake",attr:{"data-topic":50609}}]}]},{data:"Food & Restaurant",attr:{"data-topic":51042},children:[{data:"Cafe",
attr:{"data-topic":50271},children:[{data:"Coffee Shop",attr:{"data-topic":50292}},{data:"Cocktail Bar",attr:{"data-topic":50294}}]},{data:"Restaurant",attr:{"data-topic":50534},children:[{data:"Steakhouse",attr:{"data-topic":50273}},{data:"BBQ",attr:{"data-topic":50272}},{data:"Asian",attr:{"data-topic":50274},children:[{data:"Japanese",attr:{"data-topic":50275}},{data:"Vietnamese",attr:{"data-topic":50276}},{data:"Chinese",attr:{"data-topic":50277}},{data:"Indian",attr:{"data-topic":50278}},{data:"Sushi Bar",
attr:{"data-topic":50279}}]},{data:"European",attr:{"data-topic":50280},children:[{data:"Italian",attr:{"data-topic":50281}},{data:"Greek",attr:{"data-topic":50282}},{data:"French",attr:{"data-topic":50283}},{data:"Spanish",attr:{"data-topic":50284}},{data:"German",attr:{"data-topic":50285}}]},{data:"Seafood",attr:{"data-topic":50286}},{data:"Mexican",attr:{"data-topic":50287}},{data:"Fast Food",attr:{"data-topic":50288}},{data:"Vegetarian",attr:{"data-topic":50289}},{data:"Tapas",attr:{"data-topic":50290}},
{data:"Restaurant Reviews",attr:{"data-topic":50293}},{data:"Pizza",attr:{"data-topic":50291}}]},{data:"Food",attr:{"data-topic":50549},children:[{data:"Food Store",attr:{"data-topic":50369}},{data:"Frozen Food",attr:{"data-topic":50362}},{data:"Grocery Store",attr:{"data-topic":50363}},{data:"Spice Shop",attr:{"data-topic":50364}},{data:"Sweet Shop",attr:{"data-topic":50366}},{data:"Bakery",attr:{"data-topic":50367}},{data:"Ice Cream",attr:{"data-topic":50370}},{data:"Catering",attr:{"data-topic":50371}},
{data:"Chef",attr:{"data-topic":50372}},{data:"Cooking",attr:{"data-topic":50373}},{data:"Honey Store",attr:{"data-topic":50374}}]},{data:"Drink",children:[{data:"Water",attr:{"data-topic":50608}},{data:"Wine",attr:{"data-topic":50368}},{data:"Tea Shop",attr:{"data-topic":50365}}]},{data:"Brewery",attr:{"data-topic":50532},children:[{data:"Pub",attr:{"data-topic":50257}}]}]},{data:"Holidays, Gifts & Flowers",attr:{"data-topic":51043},children:[{data:"Holiday",attr:{"data-topic":50310},children:[{data:"E-cards",
attr:{"data-topic":50342}},{data:"Christmas",attr:{"data-topic":50166}},{data:"Halloween",attr:{"data-topic":50179}},{data:"St. Valentine",attr:{"data-topic":50203}},{data:"St. Patrick Green",attr:{"data-topic":50202}}]},{data:"Gifts",attr:{"data-topic":50551},children:[{data:"Gifts Store",attr:{"data-topic":50552}}]},{data:"Flowers",attr:{"data-topic":50548},children:[{data:"Flower Shop",attr:{"data-topic":50361}}]}]},{data:"Medical (Healthcare)",attr:{"data-topic":50562},children:[{data:"Dentistry",
attr:{"data-topic":50414}},{data:"Plastic Surgery",attr:{"data-topic":50415}},{data:"Pediatrician",attr:{"data-topic":50416}},{data:"Ambulance",attr:{"data-topic":50417}},{data:"Hair Clinic",attr:{"data-topic":50418}},{data:"Optometry",attr:{"data-topic":50419}},{data:"Weight Loss",attr:{"data-topic":50410}},{data:"Drug Store",attr:{"data-topic":50411}},{data:"Medical Equipment",attr:{"data-topic":50412}},{data:"Nutrition Store",attr:{"data-topic":50413}},{data:"Counseling",attr:{"data-topic":50597}},
{data:"Herbal",attr:{"data-topic":50592}},{data:"Reproduction Clinic",attr:{"data-topic":50614}},{data:"Rehabilitation",attr:{"data-topic":50615}},{data:"Pregnancy",attr:{"data-topic":50613}}]},{data:"Real Estate",attr:{"data-topic":50568},children:[{data:"Real Estate Agency",attr:{"data-topic":50437}},{data:"Land Broker",attr:{"data-topic":50438}},{data:"Home Staging",attr:{"data-topic":50439}},{data:"Mortgage",attr:{"data-topic":50595}}]},{data:"Society & People",attr:{"data-topic":51044},children:[{data:"Police",
attr:{"data-topic":50455}},{data:"Personal Pages",attr:{"data-topic":50588}},{data:"Politics",attr:{"data-topic":50567},children:[{data:"Political Candidate",attr:{"data-topic":50432}},{data:"Political Party",attr:{"data-topic":50433}},{data:"City Council",attr:{"data-topic":50434}},{data:"Government",attr:{"data-topic":50435}},{data:"Political News",attr:{"data-topic":50436}}]},{data:"Religious",attr:{"data-topic":50569},children:[{data:"Christian",attr:{"data-topic":50440}},{data:"Presbyterian",
attr:{"data-topic":50441}},{data:"Islam",attr:{"data-topic":50442}},{data:"Islamic Social Center",attr:{"data-topic":50465}},{data:"Jehovah",attr:{"data-topic":50443}},{data:"Buddhist",attr:{"data-topic":50444}},{data:"Hinduism",attr:{"data-topic":50445}},{data:"Catholic",attr:{"data-topic":50446}},{data:"Sinagogue",attr:{"data-topic":50447}},{data:"Lutheran",attr:{"data-topic":50448}},{data:"Easter Gifts Store",attr:{"data-topic":50449}}]},{data:"Charity",attr:{"data-topic":50536},children:[{data:"Child Charity",
attr:{"data-topic":50600}}]},{data:"Law",attr:{"data-topic":50559},children:[{data:"Lawyer",attr:{"data-topic":50404}},{data:"Law Firm",attr:{"data-topic":50405}}]},{data:"Military",attr:{"data-topic":50563},children:[{data:"Veterans",attr:{"data-topic":50420}},{data:"Army",attr:{"data-topic":50421}},{data:"Gun Shop",attr:{"data-topic":50422}}]},{data:"Dating",attr:{"data-topic":50539}},{data:"Wedding",attr:{"data-topic":50579},children:[{data:"Wedding Shop",attr:{"data-topic":50471}},{data:"Wedding Planner",
attr:{"data-topic":50472}},{data:"Wedding Dresses",attr:{"data-topic":50473}},{data:"Wedding Venues",attr:{"data-topic":50474}},{data:"Wedding Album",attr:{"data-topic":50475}},{data:"Wedding Cake",attr:{"data-topic":50609}}]},{data:"Elderly Care",attr:{"data-topic":50457}},{data:"Funeral Services",attr:{"data-topic":50458}},{data:"Life Coach",attr:{"data-topic":50459}},{data:"Retirement Planning",attr:{"data-topic":50460}},{data:"Adoption Agency",attr:{"data-topic":50461}},{data:"Boy Scout",attr:{"data-topic":50462}},
{data:"Immigration Consulting",attr:{"data-topic":50463}},{data:"Social Foundation",attr:{"data-topic":50467}},{data:"City Portal",attr:{"data-topic":50466}},{data:"Teen Club",attr:{"data-topic":50464}}]},{data:"Sports, Outdoors & Travel",attr:{"data-topic":51045},children:[{data:"Sports",attr:{"data-topic":50574},children:[{data:"Diving",attr:{"data-topic":50496}},{data:"Fishing",attr:{"data-topic":50482}},{data:"Fitness",attr:{"data-topic":50481}},{data:"Golf",attr:{"data-topic":50495}},{data:"Soccer",
attr:{"data-topic":50498}},{data:"Sports Store",attr:{"data-topic":50503}},{data:"Yoga",attr:{"data-topic":50494}},{data:"More Sports",children:[{data:"BMX",attr:{"data-topic":50483}},{data:"Boxing",attr:{"data-topic":50484}},{data:"Martial Arts",attr:{"data-topic":50485}},{data:"Swimming",attr:{"data-topic":50486}},{data:"Archery",attr:{"data-topic":50487}},{data:"Baseball",attr:{"data-topic":50488}},{data:"Paintball",attr:{"data-topic":50489}},{data:"Hunting",attr:{"data-topic":50490}},{data:"Rafting",
attr:{"data-topic":50491}},{data:"Bowling",attr:{"data-topic":50492}},{data:"Billiards",attr:{"data-topic":50493}},{data:"Football",attr:{"data-topic":50497}},{data:"Badminton",attr:{"data-topic":50499}},{data:"Skydiving",attr:{"data-topic":50500}},{data:"Surfing",attr:{"data-topic":50501}},{data:"Rugby",attr:{"data-topic":50502}},{data:"Hockey",attr:{"data-topic":50504}},{data:"Wakeboarding",attr:{"data-topic":50505}},{data:"Bodybuilding",attr:{"data-topic":50506}},{data:"F1",attr:{"data-topic":50507}},
{data:"Field Hockey",attr:{"data-topic":50508}},{data:"Climbing",attr:{"data-topic":50509}},{data:"Shooting",attr:{"data-topic":50510}},{data:"Tennis",attr:{"data-topic":50511}},{data:"Yachting",attr:{"data-topic":50512}},{data:"Horse Racing",attr:{"data-topic":50513}},{data:"Squash",attr:{"data-topic":50514}},{data:"Skiing",attr:{"data-topic":50515}},{data:"Basketball",attr:{"data-topic":50516}},{data:"Motor Sports",attr:{"data-topic":50517}},{data:"Cycling",attr:{"data-topic":50518}},{data:"Cricket",
attr:{"data-topic":50519}},{data:"Running",attr:{"data-topic":50520}},{data:"Hiking",attr:{"data-topic":50521}},{data:"Chess",attr:{"data-topic":50522}},{data:"Cheerleading",attr:{"data-topic":50523}},{data:"Skating",attr:{"data-topic":50618}},{data:"Snowboarding",attr:{"data-topic":50619}},{data:"Extreme Sports",attr:{"data-topic":50620}},{data:"Karting",attr:{"data-topic":50621}},{data:"Curling",attr:{"data-topic":50622}},{data:"Paragliding",attr:{"data-topic":50623}},{data:"Kitesurfing",attr:{"data-topic":50624}},
{data:"Polo",attr:{"data-topic":50625}},{data:"Volleyball",attr:{"data-topic":50641}},{data:"Weapons Store",attr:{"data-topic":50642}},{data:"Online Poker",attr:{"data-topic":50429}},{data:"Sports News",attr:{"data-topic":50655}}]}]},{data:"Travel",attr:{"data-topic":50577},children:[{data:"Travel Guide",attr:{"data-topic":50476}},{data:"Travel Agency",attr:{"data-topic":50477}},{data:"Camping",attr:{"data-topic":50478}},{data:"Airline Tickets",attr:{"data-topic":50626}},{data:"Travel Store",attr:{"data-topic":50628}}]},
{data:"Hotels",attr:{"data-topic":50554},children:[{data:"Hotel Reviews",attr:{"data-topic":50387}},{data:"Motel",attr:{"data-topic":50388}}]}]}]};var __types={state:"open",data:[{data:"Web Templates",state:"open",children:[{data:"Website Templates",attr:{"data-type":50108}},{data:"Mobile Templates",attr:{"data-type":50117}},{data:"PSD Templates",attr:{"data-type":67711}},{data:"Photo Gallery Templates",attr:{"data-type":50112}}]},{data:"E-commerce Templates",state:"open",children:[{data:"Magento Themes",attr:{"data-type":50115}},{data:"PrestaShop Themes",attr:{"data-type":50116}},{data:"VirtueMart Templates",attr:{"data-type":50118}},{data:"Jigoshop Themes",
attr:{"data-type":50119}},{data:"osCommerce Templates",attr:{"data-type":50120}},{data:"ZenCart Templates",attr:{"data-type":50121}},{data:"OpenCart Templates",attr:{"data-type":50122}},{data:"WooCommerce Themes",attr:{"data-type":61529}},{data:"Shopify Themes",attr:{"data-type":67280}}]},{data:"CMS Templates",state:"open",children:[{data:"WordPress Themes",attr:{"data-type":50125}},{data:"Joomla Templates",attr:{"data-type":50126}},{data:"Drupal Templates",attr:{"data-type":50127}},{data:"Moto CMS HTML Templates",
attr:{"data-type":50128}},{data:"Flash CMS Templates",attr:{"data-type":50110}},{data:"Wix Website Templates",attr:{"data-type":61528}},{data:"Turnkey Websites 1.0",attr:{"data-type":50151}},{data:"Turnkey Websites 2.0",attr:{"data-type":50150}}]},{data:"Corporate Design",state:"open",children:[{data:"PowerPoint Templates",attr:{"data-type":50132}},{data:"Logo Templates",attr:{"data-type":50133}},{data:"Corporate Identity",attr:{"data-type":50134}},{data:"Logosets",attr:{"data-type":50135}},{data:"Icon Sets",
attr:{"data-type":50136}}]},{data:"Flash & Media",state:"open",children:[{data:"Flash Intro Templates",attr:{"data-type":50111}},{data:"Flash Templates",attr:{"data-type":50109}},{data:"SWiSH Templates",attr:{"data-type":50113}},{data:"After Effects Intros",attr:{"data-type":50146}},{data:"After Effects Logo Reveals",attr:{"data-type":50147}},{data:"Video Ecards",attr:{"data-type":50148}},{data:"HD Graphics Packages",attr:{"data-type":50149}},{data:"Music",attr:{"data-type":50137}},{data:"Silverlight Templates",
attr:{"data-type":50138}},{data:"Silverlight Intro Templates",attr:{"data-type":50139}}]},{data:"Facebook Layouts",state:"open",children:[{data:"Facebook Flash Templates",attr:{"data-type":50141}},{data:"Facebook Flash CMS Templates",attr:{"data-type":50142}},{data:"Facebook Templates",attr:{"data-type":50143}},{data:"Turnkey CMS Facebook Templates",attr:{"data-type":50144}},{data:"Facebook HTML CMS Templates",attr:{"data-type":50145}}]}]};(function(a){function c(b){var c=!1;f.each(function(){var d=a(this);d.is(".js-step-link-"+b)?(c=!0,d.addClass("active")):d.removeClass("active");c?d.removeClass("step-passed"):d.addClass("step-passed")})}function g(c,f){if(a.isFunction(d[c])){var g=b.filter(".js-step-"+f).get(0);return d[c](window.History,g,f)}}var b,f,d={initial_step:"step1",before_tab_switching:a.noop,after_tab_switching:a.noop};a.fn.checkoutSteps=function(j,p,m){b=a(this).find("div.js-step");f=a(this).find(".js-checkout-step-links .js-step-link");
var q=window.History;switch(j){case "switch":a:if(j=m,m=b.filter(".js-step-"+p),m.size()){var t=m.data("url"),n="TemplateMonster.com";if(t){if(q.enabled)"undefined"!==typeof m.data("title")&&(n+=": "+m.data("title")),q.pushState({step:p},n,t),b.hide(),m.show();else if(window.location.pathname!=t){a.isPlainObject(j)||(j={});j._force_redirect=1;window.location.href=t+"?"+a.param(j);break a}c(p)}}break;case "get-step":return f.filter(".active").data("step");default:d=a.extend(d,a.isPlainObject(j)?j:
{}),g("before_tab_switching",d.initial_step),q.enabled&&q.Adapter.bind(window,"statechange",function(){var d=q.getState();g("before_tab_switching",d.data.step);var f=d.data.step,j=b.filter(".js-step-"+f);b.hide();j.show();c(f);"undefined"!==typeof _gaq&&(_gaq.push(["a._trackPageview"]),_gaq.push(["b._trackPageview"]));a(window.document).scrollTop(0);g("after_tab_switching",d.data.step)}),g("after_tab_switching",d.initial_step)}return this}})(jQuery);
(function(a){var c={status_index:"selector_status",item_selector:".item.panel",handler_selector:".js-radio-collapse",submit_button_selector:".js-choose-payment-system",server_error_container:".js-checkout3-error-block:first",item_input_name:"paymentCheck"};a.fn.paymentSelector=function(g,b){c=a.extend(c,a.isPlainObject(g)?g:{});switch(g){case "show-server-error":a(c.server_error_container).html('<div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>'+
b+"</div>");break;case "enable-selector":var f=c;a(this).data(f.status_index,!0);break;case "disable-selector":f=c;a(this).data(f.status_index,!1);break;case "enable-submit-button":var d=a(c.submit_button_selector,this);a(document).trigger("stop.cart.load",{button:d,callbackFunk:function(){d.prop("disabled",!1)}});break;case "disable-submit-button":var j=a(c.submit_button_selector,this);a(document).trigger("start.cart.load",{button:j,callbackFunk:function(){j.removeClass("disabled")}});j.prop("disabled",
!0);break;default:var p=this,m=c;a(p).data(m.status_index,!0);a(m.handler_selector,p).attr("data-toggle","collapse");a(p).collapse().on("show.bs.collapse",function(b){if(!a(p).data(m.status_index))return!1;a(m.item_selector,p).removeClass("selected").find('input[name="'+m.item_input_name+'"]').removeProp("checked");a(b.target).parents(m.item_selector+":first").addClass("selected").find('input[name="'+m.item_input_name+'"]').prop("checked",!0);return!0}).on("hide.bs.collapse",function(b){return a(b.target).parents(m.item_selector+
".selected").length?!1:!0})}return this}})(jQuery);var Tm=Tm||{};
Tm.Checkout=function(){function a(a){var c=a.submit.innerHTML;a.submit.innerHTML=0>=$(".js-cart-summary .js-total-price").attr("data-price")?c.replace("Continue to Payment","Complete Order"):c.replace("Complete Order","Continue to Payment")}var c=$("#content"),g=["US","CA"];return{checkField:function(a){for(var c=[],d=regula.validate(),g=0;g<d.length;g++)$(d[g].failingElements).hasClass(a)&&-1===$.inArray(d[g].message,c)&&c.push(d[g].message);return c},showLoginError:function(a){var c=$(".js-checkout-login-error:first");
a?c.html('<div class="alert" style="width: 225px;">'+a+"</div>"):c.html("")},checkBillingInfoForm:function(){for(var a=[],c=regula.validate(),d=0;d<c.length;d++)$(c[d].failingElements).hasClass("js-customer-field")&&a.push({name:c[d].constraintName,messages:[c[d].message]});return a},fillBillingInfoForm:function(a){var c=document.forms.billingInfo;$(c).formValidation("disable-validation");$(c.name).val(a.name);$(c.email).val(a.email);$(c.postalcode).val(a.postalcode);$(c.city).val(a.city);$(c.address).val(a.address);
var d=$(c.contactme).filter(":checkbox");a.phone===a.contactphone?d.attr("checked","checked"):d.removeAttr("checked");d.trigger("change");$(c.phone).val(a.phone);$(c.contactphone).val(a.contactphone);var g=d="";"undefined"!==typeof a.country&&(d=a.country);d||(d=$.cookie("country_code"));"undefined"!==typeof a.state&&(a.state.length&&"XX"!==a.state)&&(g=a.state);$(c.state).val(g).change();$(c.country).val(d).change();$(c).formValidation("reset-errors");$(c).formValidation("enable-validation")},init:function(){var b=
this,f=document.forms.billingInfo,d=document.forms.signin_mode,j=document.forms.checkout_signin,p={before_tab_switching:b._onBeforeStepSwitching,after_tab_switching:b._onAfterStepSwitching},m=window.location.href.match(/step([0-9]+)\.html$/);m&&(p.initial_step="step"+m[1]);new Tm.Signin;$(".js-checkout-calback-step2:first").click(function(){b.switchStep("step2");return!1});var m=$(f.country),q=$(f.state);m.val()||m.val($.cookie("country_code"));a(f);q.change(function(){$(this).trigger("chosen:updated")});
m.change(function(){var a=!0,b="",c="",d="";-1!==$.inArray(this.value,g)?(a=!1,c="",q.val()&&"XX"!==q.val()&&(d=q.val())):this.value.length&&(b="Outside U.S./Canada",d=c="XX");q.find("option:first").text(b).val(c).end().attr("disabled",a);q.val(d).data("validation-value",-1);q.change();$(this).trigger("chosen:updated")}).change();m.chosen({placeholder_text_single:" ",width:m.css("width")});q.chosen({placeholder_text_single:" ",width:q.css("width")});$(f.contactme).change(function(){var a=document.forms.billingInfo;
$(a.phone).change();$(f.contactphone).trigger("keyup");$(this).is(":checked")?$(".js-contact-phone-container",a).hide():$(".js-contact-phone-container",a).show();$(this).blur()});$(d.customer).click(function(){var a=$(".js-customer-new-from"),b=$(".js-customer-sigin-from");switch(this.value){case "new":b.hide();a.show();break;case "existing":b.show(function(){var a=$(":input[name=email]",this),b=$(":input[name=password]",this);a.val().length?b.focus():a.focus()}),a.hide()}});$(f).formValidation({disable_regula:detectOldIe(),
validator_callbacks:{email:function(a,b){$.ajax({url:"/wac/check-account.php",type:"POST",data:{email:$(b).val()},"datatype ":"json",async:!0,success:function(b){b.status||$(a).formValidation("show-errors",[{name:"email",messages:b.messages}],[],!0)}});return[]}},on_empty_checks_callbacks:{phone:function(a){$(a.contactme).filter(":checkbox").is(":checked")&&(a.contactphone.value=a.phone.value)},contactphone:function(a){return $(a.contactme).filter(":checkbox").is(":checked")?!0:null}},on_before_validate:function(a){$([a.phone,
a.contactphone]).each(function(){this.value=this.value.replace(/[^\d]/gi,"")})},on_after_validate:function(a){var b=(new Date).toString();$(a.localtime).val(b);if(-1===$.inArray(a.country.value,g)&&$(a.state).is(":disabled")){var b=$(a).data("validation-errors"),c;for(c in b)"state"===b[c].name&&delete b[c];$(a).data("validation-errors",b)}},on_submit_success:function(a,c,d){$(".js-billinginfo-details").html(d.billingInfoDetailsHtml);$("#payment-methods-container").html(d.paymentMethodsFormHtml);
$("#payment-collapse").paymentSelector();(new Tm.Signin).checkCookie();0==$(".js-cart-summary .js-total-price").attr("data-price")?($(f).formValidation("show-ajax-progress"),$(".js-payment-complete-order .js-choose-payment-system").click()):b.switchStep("step3")}});$(j).formValidation({disable_regula:detectOldIe(),on_submit_success:function(a,b,c){(new Tm.Signin).signInCallback(c)}});$(".js-new-customer-link",c).click(function(){b.showLoginError("");b.resetBillingForm();b.switchStep("step2");(new tm.cart).recalculate();
return!1}).removeAttr("disabled").removeClass("disabled");$("#payment-methods-container").on("click",".js-choose-payment-system",function(){var a=$(this),b=$("#payment-collapse, .js-payment-form-block");b.paymentSelector("disable-submit-button");var a=a.attr("data-payment"),c=$(".js-total-redeemed-bonus-amount").attr("data-amount"),d=(new Date).toString();b.paymentSelector("disable-selector");$.ajax({url:"/ajax/create-order.php",type:"POST",data:{payment:a,bonusesAmount:c,localTime:d},datatype:"json",
success:function(a){"undefined"!=typeof a.error?(b.paymentSelector("show-server-error",a.error),b.paymentSelector("enable-selector"),b.paymentSelector("enable-submit-button")):"undefined"!=typeof a.paymentForm?($("body:first").html(a.paymentForm),$("form:first").submit()):"undefined"!=typeof a.paymentLink?location.href=a.paymentLink:"undefined"!=typeof a.redirectUrl&&(location.href=a.redirectUrl)},error:function(){b.paymentSelector("enable-selector");b.paymentSelector("enable-submit-button");b.paymentSelector("show-server-error",
"The server is temporarily unavailable")}});return!1});$("#billingInfo-form").on("click",".js-goto-login",function(){b.goToSignin(!0,f.email.value);return!1});$("#payment-collapse").paymentSelector();c.checkoutSteps(p);this.signChecking()},signChecking:function(a){if(a||!$.getQueryParam("_force_redirect"))a=new Tm.Signin,this.switchStep(a.getCheckOutStep())},goToSignin:function(a,c){"undefined"==typeof a&&(a=!1);"undefined"==typeof c&&(c="");this.switchStep("step1",{email:c});if(a){$("#returning-customer-radio").click();
var d=document.forms.checkout_signin;$(d.email).val(c);$(d.password).val("").focus()}return this},switchStep:function(a,f){c.checkoutSteps("switch",a,f)},getStep:function(){return c.checkoutSteps("get-step")},resetBillingForm:function(){this.fillBillingInfoForm({});$(document.forms.billingInfo).formValidation("show-errors",[])},_onBeforeStepSwitching:function(a,c,d){-1!==$.inArray(d,["step2","step3"])&&(a=$(c).find(".js-cart-summary-container"),0===a.children("form").size()&&(c=$(".js-cart-summary-container .js-cart-summary"),
a.append(c)))},_onAfterStepSwitching:function(b,c,d){"step1"===d&&(b=document.forms.checkout_signin,c=new Tm.Signin,(c=c.isSignedIn()?c.getUserEmail():$.getQueryParam("email"))?($(b.email).val(c),$(b.password).val(""),$(b).formValidation("hide-errors"),$("#returning-customer-radio").click()):($(b.email).val(""),$(b.password).val(""),$(b).formValidation("hide-errors"),$("#new-customer-radio").click()));"step2"==d&&(d=document.forms.billingInfo,$(d).formValidation("reset-errors"),$(d).formValidation("focus-first"),
a(d))}}};$(document).ready(function(){$(".payment-methods .item").click(function(){$(this).find('input[type="radio"]').attr("checked",!0);$(this).siblings().find('input[type="radio"]').attr("checked",!1)})});Tm=Tm||{};
Tm.StatusDownload=function(){return{init:function(){var a=this;this.stopRefresh=!1;a.getStatusDownload();this.stopRefresh||(this.updateStatusDownloadMarker=setInterval(this.getStatusDownload,3E4));$("#content-top").on("click",'form[name="phone_verification"]:first a',function(){var c=$('#content-top form[name="phone_verification"]:first');$(this).hasClass("small_button")?c.find('input[name="call"]:first').val("1"):c.find('input[name="do_not_call"]:first').val("1");a.telesignAjax(c.serialize());return!1});
$("#content-top").on("click",'form[name="input_pin"]:first a',function(){var c=$('#content-top form[name="input_pin"]:first');$(this).hasClass("small_button")&&a.telesignAjax(c.serialize());return!1})},getStatusDownload:function(){"undefined"==typeof $.url().param("order_id")&&(this.stopRefresh=!0);this.stopRefresh?clearInterval(this.updateStatusDownloadMarker):$.ajax({url:"/jajaxserver.php?app=StatusDownloadSurvey&action=orderStatusInfo",type:"POST",data:"order_id="+$.url().param("order_id")+"&referer="+
location.href,datatype:"json",success:function(a){"undefined"!=typeof a.redirect&&(location.href=a.redirect);if("undefined"!=typeof a.eval)for(var c in a.eval)eval(a.eval[c]);if("undefined"!=typeof a.innerhtml)for(var g in a.innerhtml)"GA"==a.innerhtml[g].id?(c=a.innerhtml[g].html)&&eval(c):$("#"+a.innerhtml[g].id).html(a.innerhtml[g].html);$('#content-top form[name="phone_verification"]:first a, #content-top form[name="input_pin"]:first a').attr("onclick","")},error:function(){}})},telesignAjax:function(a){var c=
this;$.ajax({url:"/ajax/telesign.php",type:"POST",data:a,datatype:"json",success:function(a){!0===a.status&&c.getStatusDownload()},error:function(){}})}}};(function(a){function c(b,c){a(b).formValidation("validate-and-show");if(0<j(b,c).length)return!1;a(b).formValidation("hide-errors");var d=a(b).attr("action"),f=a(b).attr("method"),g=a(b).serialize();a(b).formValidation("show-ajax-progress");if(c.disable_ajax){if(!a.isFunction(c.on_submit_success))return!1;c.on_submit_success(b,c);a(b).formValidation("hide-ajax-progress")}else a.ajax({url:d,type:f,data:g,async:c.ajax_async_mode,datatype:"json",success:function(d){a(b).formValidation("hide-ajax-progress");
a.isFunction(c.on_ajax_response)&&(d=c.on_ajax_response(b,c,d));if(d.status){if(a.isFunction(c.on_submit_success))c.on_submit_success(b,c,d)}else{var f=a.isArray(d.errors)?d.errors:c.default_error_message;if(a.isFunction(c.on_submit_error))c.on_submit_error(b,c,d);a(b).formValidation("show-errors",f);return!1}},error:function(){a(b).formValidation("hide-ajax-progress");a(b).formValidation("show-errors",c.default_error_message)}});return!0}function g(b,c){var d=B(b),f=A(b,c);a(d).attr("disabled","disabled").filter("select").change();
a(f).attr("disabled","disabled").find("div.progress").show()}function b(b,c){var d=B(b),f=A(b,c);a(d).removeAttr("disabled").filter("select").change();a(f).removeAttr("disabled").find("div.progress").hide()}function f(b,c,f){if(a.isFunction(c.on_before_validate))c.on_before_validate(b,c);if("undefined"!==typeof f)d(b,f,c);else{var f=J(b),g;for(g in f)"undefined"!==typeof f[g]&&d(b,f[g],c)}a.isFunction(c.on_after_validate)&&(g=j(b,c),c.on_after_validate(b,c,g))}function d(b,c,d){if(K(b)){var f=a(c).val(),
g=a(c).data("validation-value");if(f!==g){d.autotrim_fields&&f!==a.trim(f)&&(f=a.trim(f),a(c).val(f));var g=a(c).attr("name"),h,j=[],n=[];d.disable_regula||a(a.regula("validate")).each(function(a,c){for(var d in c.failingElements)if(c.failingElements[d].form===b)a:{var f=n,g=c.failingElements[d].name,h=c.constraintName,j=c.message,m=void 0;for(m in f)if(f[m].name===g){f[m].messages[h]=j;break a}m={};m[h]=j;f.push({name:g,messages:m})}});for(h in n)if(n[h].name===g){j=n[h].messages;break}h=j;var j=
[],p;for(p in h)-1===a.inArray(h[p],j)&&j.push(h[p]);0===j.length&&(a.isPlainObject(d.validator_callbacks)&&a.isFunction(d.validator_callbacks[g]))&&(j=d.validator_callbacks[g](b,c,d));m(b,{name:g,messages:j});a(c).data("validation-value",f);I(b,'checkField "'+g+'",  messages: ',j)}}}function j(b,c,d){var f=[],g=B(b),h=a(b).data("validation-errors");a.isArray(d)||(d=[]);var j=[],m;for(m in g)if("undefined"!==typeof g[m]){var n=a(g[m]).attr("name");if(!(d.length&&-1===a.inArray(n,d))&&!(c.hide_errors_for_empty&&
0===a.trim(a(g[m]).val()).length))for(var p in h)if(h[p].name===n)f.push(h[p]);else if("undefined"===typeof h[p].name||null===h[p].name&&a.isArray(h[p].messages))for(var q in h[p].messages)-1===a.inArray(h[p].messages[q],j)&&j.push(h[p].messages[q])}j.length&&f.push({name:null,messages:j});I(b,"getFormErrors: ",f);return f}function p(b){a(b).data("validation-errors",[]);var c=B(b),d;for(d in c)"undefined"!==typeof c[d]&&a(c[d]).data("validation-value",null===a(c[d]).val()?"":null);I(b,"resetFormErrors")}
function m(b,c){var d=a(b).data("validation-errors"),f=!1,g;for(g in d)if("undefined"!==typeof d[g]&&d[g].name===c.name){d[g]=c;f=!0;break}f||d.push(c);f=[];for(g in d)d[g].messages&&0<d[g].messages.length&&f.push(d[g]);d=f;a(b).data("validation-errors",d);I(b,"mergeFormErrors ",d);return d}function q(b,c){var d=A(b,c),f=a(B(b)).filter("[required]").get(),g=0,h=0,j=[],m,n,p;for(p in f)if("undefined"!==typeof f[p]){n=a(f[p]).attr("id");m=a(f[p]).attr("name");if(a.isPlainObject(c.on_empty_checks_callbacks)&&
a.isFunction(c.on_empty_checks_callbacks[m])&&(m=c.on_empty_checks_callbacks[m](b,f[p],c),!0===m))continue;0===a.trim(a(f[p]).val()).length?(g++,m=y(f[p]),j.push('<label for="'+n+'">'+a.trim(m)+"</label>")):h++}0===g?a(c.submit_button).is(":enabled")||(c.disable_submit_on_empty&&a(d).removeAttr("disabled"),c.show_submit_button_hint&&D(b,c)):(c.disable_submit_on_empty&&a(d).attr("disabled","disabled"),c.show_submit_button_hint&&(d="Please complete the form to proceed",0<h&&0<j.length&&(d="You need to fill the following fields: "+
j.join(", ")),z(b,c,d)))}function t(b,c){var d=B(b),f;for(f in d)if("undefined"!==typeof d[f]){var g=d[f],h=c;h.show_popover&&S(g).popover("destroy");h.highlight_border&&u(g)}a(c.common_errors_container).html("");q(b,c)}function n(b,c,d){var f,g,h,j;"string"===typeof d&&d.length&&(d=[{messages:d}]);if(a.isArray(d)){h=[];j=0;a(b).formValidation("hide-errors");for(var m in d)if("undefined"!==typeof d[m])if(f=d[m].name?b[d[m].name]:null,g=a.isArray(d[m].messages)?d[m].messages.join(c.strings_delimiter):
d[m].messages,"undefined"===typeof f||!f)h.push(g);else if(!c.display_only_firts_popover||0===j)f&&0===a.trim(a(f).val()).length?a(b).formValidation("show-field-error",f,"Please enter "+y(f)):(a(b).formValidation("show-field-error",f,g),a(c.submit_button).is(":enabled")&&(g='<label for="'+a(f).attr("id")+'">'+g+"</label>",z(b,c,g))),j++,c.autofocus_firts_popover_field&&x(b,f,c);h.length&&a(b).formValidation("show-form-error",h)}}function h(b,c){var d=B(b),d=a(d).filter(":not([type=hidden]):not(:hidden)").get(0);
"undefined"!==typeof d&&x(b,d,c)}function x(b,c){a(c).focus();I(b,"focusField: ",a(c).attr("name"))}function z(b,c,d){b=A(b,c);a(b).next(".js-empty-label-after-submit").children("small").html(d).end().show()}function D(b,c){var d=A(b,c);a(d).next(".js-empty-label-after-submit").children("small").html("").end().hide()}function S(b){return a(b).data("chosen")&&a(b).data("chosen").container?a(b).data("chosen").container:a(b)}function u(b){return a(b).removeClass("error").parents("div.form-group:first").removeClass("has-error")}
function A(b,c){return a(c.submit_button).get()}function B(b){return a(b).find(":input").get()}function J(b){return a(B(b)).filter("[data-constraints]").get()}function y(b){var c=a.trim(a(b).parents(".form-group:first").find("label").html());c.length||(c=a.trim(a(b).data("label")));c.length||(c=a.trim(a(b).attr("placeholder")));c.length&&":"===c.substr(-1)&&(c=c.substr(0,c.length-1));return c}function v(b){a(b).data("form-validation",!0);I(b,"enableFormValidation");return K(b)}function K(b){return a(b).data("form-validation")}
function I(b,c,d){"object"===typeof window.console&&("function"===typeof window.console.info&&a.cookie("form-validation-debug"))&&window.console.info("FV("+a(b).attr("name")+"): ",c,d)}var Q={disable_regula:!1,highlight_border:!0,show_popover:!0,disable_submit_on_empty:!1,disable_ajax:!1,show_submit_button_hint:!1,check_fields_on_blur:!0,autoscroll_on_form_error:!0,autofocus_first_field:!0,autohandle_form_submit:!0,display_only_firts_popover:!0,autofocus_firts_popover_field:!0,autotrim_fields:!0,
hide_errors_on_type:!0,hide_errors_for_empty:!0,autovalidate_fields:[],submit_hint_template:'<p class="js-empty-label-after-submit" style="display:none;"><small></small></p>',popover_placement:"right",common_errors_container:null,common_errors_close_handler:'<a class="close" data-dismiss="alert" href="#" aria-hidden="true">&times;</a>',show_progressbar:!0,progressbar_code:'<div class="progress progress-striped active" style="display: none;"><div class="progress-bar progress-bar-default" role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div></div>',
common_errors_html_classes:"alert alert-warning fade in",default_error_message:"Server Error",strings_delimiter:"<br/>",submit_button:null,validator_callbacks:{},on_empty_checks_callbacks:{},on_ajax_response:null,on_before_validate:a.noop,on_after_validate:a.noop,on_submit_success:a.noop,on_submit_error:a.noop,ajax_async_mode:!0};a.fn.formValidation=function(d,y,N,L){if(!this.size())return this;var P={},r=this.get(0);a.isPlainObject(d)||"undefined"===typeof d?(P=d,d="init"):a.isPlainObject(y)&&(P=
y);var w="init"===d,C=a.extend({},Q);if(!w){var U=a(r).data("validation-options");a.isPlainObject(U)&&a.extend(C,U)}a.isPlainObject(P)&&a.extend(C,P);C.common_errors_container||(C.common_errors_container="#"+a(r).attr("id")+"-errors");C.submit_button||(C.submit_button=a("button,:input[type=button]:input[type=submit]",r));w&&a(r).data("validation-options",C);C.disable_submit_on_empty||(C.hide_errors_for_empty=!1);switch(d){case "validate":return N=a.isArray(N)?N:[],f(r,C,y),j(r,C,N);case "validate-and-show":N=
a.isArray(N)?N:[];L&&(C.autofocus_firts_popover_field=!1,C.hide_errors_for_empty=!0);d=N;N=!0;f(r,C,y);L=j(r,C,d);if(d&&y){var y=a(y).attr("name"),N=!1,V;for(V in L)if("undefined"!==typeof L[V]&&L[V].name===y&&L[V].messages.length){N=!0;break}}N&&n(r,C,L);break;case "show-ajax-progress":g(r,C);break;case "hide-ajax-progress":b(r,C);break;case "show-errors":if(L)for(var M in y)"undefined"!==typeof y[M]&&m(r,y[M]);n(r,C,y);break;case "hide-errors":t(r,C);break;case "reset-errors":t(r,C);p(r);break;
case "show-field-error":L||(L=a(y).parents("div.form-group:first").find("label:first").text(),L=a.trim(L));C.show_popover&&(V=a.isArray(N)?N.join(C.strings_delimiter):a.trim(N),N=L,L=C.popover_placement,d=S(y),d.popover({content:V,placement:L,title:N,trigger:"manual",html:!0}),d.popover("show"));C.highlight_border&&!(y&&0===a.trim(a(y).val()).length)&&a(y).parents("div.form-group:first").addClass("has-error");break;case "hide-field-error":C.show_popover&&S(y).popover("destroy");C.highlight_border&&
u(y);break;case "show-form-error":y=a.isArray(y)?y.join(C.strings_delimiter):a.trim(y);a(C.common_errors_container).html('<div class="'+C.common_errors_html_classes+'">'+C.common_errors_close_handler+y+"</div>").scrollTop(0);C.autoscroll_on_form_error&&(y=a(C.common_errors_container).offset(),a(window.document).scrollTop(y.top));break;case "hide-form-error":a(C.common_errors_container).html("");break;case "show-submit-hint":z(r,C,y);break;case "hide-submit-hint":D(r,C);break;case "focus":x(r,y,C);
break;case "focus-first":h(r,C);break;case "show-ajax-progress":g(r,C);break;case "hide-ajax-progress":b(r,C);break;case "enable-validation":v(r);break;case "disable-validation":a(r).data("form-validation",!1);I(r,"disableFormValidation");K(r);break;case "is-validation-enabled":return K(r);case "init":C.disable_regula||a.regula("bind"),y=J(r),p(r),v(r),C.show_submit_button_hint&&(V=A(r,C),a(V).after(C.submit_hint_template),q(r,C)),V=B(r),a(V).filter(":not(select,:checkbox,:radio)").keyup(function(){q(r,
C)}),a(V).filter("select,:checkbox,:radio").change(function(){q(r,C)}),a(V).bind("input DOMAutoComplete propertychange DOMCharacterDataModified DOMSubtreeModified",function(){q(r,C)}),C.check_fields_on_blur&&a(y).blur(function(){a(r).formValidation("validate-and-show",this,C.autovalidate_fields,!0)}).filter("select").change(function(){a(this).blur()}).end(),C.hide_errors_on_type&&a(y).filter(":not(select,:checkbox,:radio)").keyup(function(){if(a(this).val()!==a(this).data("validation-value")){a(r).formValidation("hide-field-error",
this);var b;if(a(C.submit_button).is(":enabled")&&A(r,C).length){var c=a(A(r,C)).next(".js-empty-label-after-submit").find("label:first").attr("for");c&&(b=a("#"+c).get(0))}b===this&&D(r,C)}}),C.autohandle_form_submit&&(a(A(r,C)).click(function(){a(r).submit();return!1}),a(r).submit(function(){c(r,C);return!1})),C.autofocus_first_field&&h(r,C),C.show_progressbar&&a(A(r,C)).each(function(){a(this).html(a(this).html()+C.progressbar_code)})}return this}})(jQuery);tm.excResource=function(a){this._status=!0;this._name=a};tm.excResource.prototype.get=function(a){if("undefined"===typeof a)throw"caller must be defined";if(this._status)return this.log("is now locked"),this._status=!1,this._caller=a,!0;this.log("is locked already");return!1};tm.excResource.prototype.isAvailable=function(a){return"undefined"===typeof a?this._status:a===this._caller};
tm.excResource.prototype.release=function(){if(!this._status)return this.log("Unlocked"),this._status=!0,this._caller=void 0,!0;throw"Resource "+this._name+" is not locked.";};tm.excResource.prototype.log=function(a){this._debug&&(console.log(this._name+": "+a),1<this._debug&&console.trace())};function chatInit(a,c){function g(a){var b="",f="";$.isPlainObject(c)&&c.isSignedIn()&&(b=c.getUserFullName(),f=c.getUserEmail());$(h.name).val(b);$(h.email).val(f);$(h).formValidation("reset-errors").formValidation("hide-ajax-progress");j.stop().animate({right:-43},{duration:150,complete:function(){j.stop().animate({height:257},{duration:150,complete:function(){d.css({right:-235}).show().animate({right:"3%"},{duration:150});j.hide();a&&$(h).formValidation("focus-first")}})}});_gaq.push(["b._trackEvent",
"SliderBanner","PreSales Chat","Show"]);n?_gaq.push(["b._trackEvent","PreSalesChatBanner","open","manual-open"]):_gaq.push(["b._trackEvent","PreSalesChatBanner","open","auto-open"])}function b(){d.find("input, textarea").popover("destroy").removeClass("error").stop().animate({right:-235},{duration:150,complete:function(){d.hide();j.show().animate({height:36},{duration:150,complete:function(){j.animate({right:"1%"},{duration:150,complete:function(){$.browser.mozilla&&$(".live-chat-out").css({position:"absolute"});
setTimeout(function(){$(".live-chat-out").css({position:"fixed"})},1)}});$(".live-chat-form a.btn div.progress").hide();$(".live-chat-form input").removeAttr("disabled");$(".live-chat-form a.btn").css("z-index","10")}})}});"1"!==$.cookie("tmLivechat")&&(Tm.setCookie("tmLivechat","1"),clearTimeout(x));_gaq.push(["b._trackEvent","SliderBanner","PreSales Chat","Close"]);t?n?_gaq.push(["b._trackEvent","PreSalesChatBanner","close","manual-open-auto-close"]):_gaq.push(["b._trackEvent","PreSalesChatBanner",
"close","auto-open-auto-close"]):n?_gaq.push(["b._trackEvent","PreSalesChatBanner","close","manual-open-manual-close"]):_gaq.push(["b._trackEvent","PreSalesChatBanner","close","auto-open-manual-close"])}function f(a){$(".live-chat-form a.btn div.progress").show();$(".live-chat-form input").attr("disabled","");$(".live-chat-form a.btn").css("z-index","-10");$.trim(a.find("input.name").val());$.trim(a.find("input.email").val());_gaq.push(["b._trackEvent","SliderBanner","PreSales Chat","Goto"]);n?_gaq.push(["b._trackEvent",
"PreSalesChatBanner","chat","manual"]):_gaq.push(["b._trackEvent","PreSalesChatBanner","chat","auto"]);b()}var d=$(".live-chat-in").hide(),j=$(".live-chat-out").hide();if(function(a){if(MobileEsp.DetectTierTablet()||MobileEsp.DetectTierIphone()||!a.enabled)return!1;var b=$.cookie("country_code");if("undefined"===typeof b||-1!=$.inArray(b,a.blockCountry))return!1;if(!a.showForAllCustomers&&(a=$.cookie("fd"),"undefined"!==typeof a)){var b=new Date,c=new Date;c.setTime(1E3*a);if(c.getFullYear()!==b.getFullYear()||
c.getMonth()!==b.getMonth()||c.getDate()!==b.getDate())return!1}return!0}(a)){j.show();var p=1E3*parseInt(a.autoOpenTimeout)||7E3,m=1E3*parseInt(a.autoCloseTimeout)||15E3,q=1E3*parseInt(a.autoCloseAfterManualOpen)||15E3,t=!1,n=!1,h=document.forms.live_chat;j.click(function(){n=!0;g(!0)});d.find(".btn-close").click(function(){t=!1;b()});var x,z,D;$(".live-chat-in").click(function(){clearTimeout(z);clearTimeout(D)});$(".live-chat-in .live-chat-form .box-input input").focus(function(){clearTimeout(z);
clearTimeout(D)});$(".live-chat-out").click(function(){clearTimeout(x);D=setTimeout(function(){t=!0;b()},q)});$(h).formValidation({popover_placement:"left",ajax_async_mode:!1,on_submit_success:function(a,b,c){$(a).formValidation("show-ajax-progress");var d;if(null===c)return!1;if("undefined"!==typeof c.innerhtml)for(d in c.innerhtml)$("#"+c.innerhtml[d].id).html(c.innerhtml[d].html);if("undefined"!=typeof c.eval)for(d in c.eval)eval(c.eval[d]);"undefined"!=typeof c.live_chat_url&&("undefined"!==typeof onChatEnter&&
(onChatEnter(),$("#gui-invitation-to-chat input").removeClass("error-border")),b=navigator.userAgent.toLowerCase(),-1!=b.indexOf("mac")?window.open(c.live_chat_url,"tmPreSalesChat","width=800, height=672"):(-1!=b.indexOf("firefox")&&window.open(c.live_chat_url,"tmPreSalesChat","width=800, height=695"),-1!=b.indexOf("webkit")&&(-1!=b.indexOf("chrome")?window.open(c.live_chat_url,"tmPreSalesChat","width=800, height=680"):-1!=b.indexOf("safari")&&window.open(c.live_chat_url,"tmPreSalesChat","width=800, height=597")),
-1!=b.indexOf("msie")&&window.open(c.live_chat_url,"tmPreSalesChat","width=800, height=683"),-1!=b.indexOf("opera")&&window.open(c.live_chat_url,"tmPreSalesChat","width=800, height=680")),f($(a)))}});$.isPlainObject(c)&&c.isSignedIn()&&($(".live-chat-form input.name").val(c.getUserFullName()).trigger("setValue.placeholder"),$(".live-chat-form input.email").val(c.getUserEmail()).trigger("setValue.placeholder"));"1"!==$.cookie("tmLivechat")&&(x=setTimeout(function(){n=!1;g();z=setTimeout(function(){t=
!0;b()},m)},p))}};History.options.disableSuid=!0;tm.history=function(){this.inprocess_=!1};tm.history.prototype.inprocess_;tm.history.SCROLL_FINISHED="history.scroll.after";tm.history.CHANGED="history.changed";
tm.history.prototype.enterDocument=function(){var a=History.getState(),c=!0;if("undefined"!==typeof a.data.templateId&&"undefined"!==typeof a.data.templateOffsetTop){var g=$(".js-thumbnail[data-tid="+a.data.templateId+"]");0<g.length&&($("html,body").animate({scrollTop:g.offset().top-a.data.templateOffsetTop},400,"swing",function(){bus.pub(tm.history.SCROLL_FINISHED)}),c=!1)}c&&bus.pub(tm.history.SCROLL_FINISHED);$(window).on("statechange",$.proxy(function(){this.inprocess_||bus.pub(tm.history.CHANGED)},
this))};tm.history.prototype.push=function(a,c){c=c||"";this.inprocess_=!0;"undefined"!==typeof a.page&&2>a.page&&delete a.page;if(!deepCompare(a,this.current())){var g=jQuery.extend({},a),b=jQuery.extend({},this.current());delete g.page;delete b.page;delete g.templateId;delete b.templateId;delete g.templateOffsetTop;delete b.templateOffsetTop;g=deepCompare(g,b)?"replaceState":"pushState";History[g].apply(null,[a,window.document.title,c+this._normalizeQuery(serialize(a))])}this.inprocess_=!1};
tm.history.prototype.replace=function(a){this.inprocess_=!0;"undefined"!==typeof a.page&&2>a.page&&delete a.page;var c=jQuery.extend({},a);delete c.templateId;delete c.templateOffsetTop;History.replaceState(a,window.document.title,this._normalizeQuery(serialize(c)));this.inprocess_=!1};tm.history.prototype._normalizeQuery=function(a){a=a.replace(/&$/,"").replace(/^&/,"");return a.length?"?"+a:""};tm.history.prototype.currentUrl=function(){return History.getState().url};
tm.history.prototype.current=function(){var a=History.getState(),c;if("/templates.php"!==a.hash.substr(0,14))return c;if(a.hash.match(/\?/)&&(c=jQuery.deparam.querystring(a.hash.replace(/^.*\?/,"")),"undefined"!==typeof c.propertylist)){var a={},g;for(g in c.propertylist)a[g]=this._normalizeArray(c.propertylist[g]);c.propertylist=a}return c};tm.history.prototype._normalizeArray=function(a){var c=[],g;for(g in a)c[g]="string"===typeof a[g]&&parseInt(a[g])==a[g]?parseInt(a[g]):a[g];return c};tm.discount=tm.discount||{};tm.discount=function(){this.getPage()};tm.discount.prototype.page_="";tm.discount.prototype.slot_="";tm.discount.prototype.context_=!1;tm.discount.prototype.originalPrice_=0;tm.discount.prototype.purchasePrice_=0;tm.discount.prototype.regularPriceContainer_;tm.discount.prototype.tids_=[];
tm.discount.prototype.getPage=function(){if(""==this.page_)switch(!0){case detectDemoPage():this.slot_=this.page_="demo";break;case detectPreviewPage():this.slot_=this.page_="preview";break;case detectCartPage():this.page_="cart";this.slot_="cart-summary";break;case detectCheckoutPage():this.page_="checkout";this.slot_="cart-summary";break;default:this.page_="index",this.slot_="thumbnail"}return this.page_};
tm.discount.prototype.getTemplateIds=function(){var a=[];switch(this.getPage()){case "index":$(".js-thumbnail ").each(function(){a.push(parseInt($(this).data("tid")))});break;case "demo":a=[parseInt($(".js-demo-upper-menu").data("template_id"))];break;case "preview":case "cart":case "checkout":"cart-summary"==this.slot_?$(".cart-summary-item.js-item-template").each(function(){a.push(parseInt($(this).data("product")))}):(a=[parseInt($(".js-modal-preview-popup").data("template_id"))],this.context_&&
$(".js-thumbnail ").each(function(){a.push(parseInt($(this).data("tid")))}),0<$(".js-also-available-as").length&&$(".js-also-available-as").each(function(){a.push(parseInt($(this).data("tid")))}))}return this.tids_=a};tm.discount.prototype.setContext=function(a){this.context_=a};tm.discount.prototype.setSlot=function(a){this.slot_=a};tm.discount.prototype.getSlot=function(){""==this.slot_&&this.getPage();return this.slot_};
tm.discount.prototype.drawPrices=function(){this.getTemplateIds();switch(this.getSlot()){case "demo":this.drawPricesOnDemoPage_();break;case "preview":this.drawPricesOnPreviewPage_();this.setSlot("cart-summary");this.drawPricesInCartSummary_();this.setSlot("thumbnail");this.drawPricesInContext_();this.setSlot("also-available-as");this.drawPricesInAlsoAvailableAs_();break;case "cart-summary":this.drawPricesInCartSummary_();break;case "thumbnail":this.drawPricesInContext_()}$(".js-preview-accordion-panel").TMCalcPrice();
(new tm.cart).recalculate()};
tm.discount.prototype.drawPricesOnPreviewPage_=function(){var a=this.getTemplateIds();for(tid in a){var c=this.getOriginalPrice(a[tid]),g=this.getPurchasePrice(a[tid]);$('.js-preview-accordion-panel[data-template_id="'+a[tid]+'"]').each(function(){if("exclusive"!=$(this).attr("data-variant")){var a=$(".js-price",this),f=a.data("price"),d=a.data("full_price"),j=parseInt(f)-parseInt(c)+parseInt(g);d==f&&f!=j&&a.attr("data-price",j).html('<span class="discount" style="display:none">$'+f+"</span> $"+
j)}return!0})}};tm.discount.prototype.drawPricesInContext_=function(){var a=this.getTemplateIds();for(tid in a){var c=this.getOriginalPrice(a[tid]),g=this.getPurchasePrice(a[tid]),b=$('.js-template-price[data-tid="'+a[tid]+'"]');c!=g&&b.html('<span class="dollar-icon">$</span>'+g+'<span class="discount-price">/ <span class="line-through">$'+c+"</span></span>")}};
tm.discount.prototype.drawPricesOnDemoPage_=function(){var a=this.getTemplateIds();for(tid in a){var c=this.getOriginalPrice(a[tid]),g=this.getPurchasePrice(a[tid]);$(".js-demo-buy-button").each(function(){if("exclusive"!=$(this).data("variant")){var a=$(this).data("price"),f=parseInt(a)-parseInt(c)+parseInt(g);a!=f&&($(".js-price",this).html('<span class="discount">$'+a+"</span> $"+f),$(this).attr("data-price",f),$('.js-demo-list-li[data-variant="'+$(this).data("variant")+'"] ').attr("data-price",
f).find(".js-price").html('<span class="discount">$'+a+"</span> $"+f))}return!0})}};
tm.discount.prototype.drawPricesInCartSummary_=function(){var a=this.getTemplateIds();for(tid in a){var c=this.getOriginalPrice(a[tid]),g=this.getPurchasePrice(a[tid]);$('.js-license-radio[data-template_id="'+a[tid]+'"]:not([data-license="exclusive"]), \n.js-license[data-template_id="'+a[tid]+'"]:not([data-license="exclusive"])').each(function(){var a=$(".js-txt-price",this),f=parseInt($(this).data("full_price"));parseInt($(this).data("price"));var d=parseInt(f)-parseInt(c)+parseInt(g);$(this).attr("data-subtotal_price")!=
d&&($(this).attr("data-subtotal_price",d),$(this).attr("data-price",d),f!=d?a.html('<span class="discount">+$'+f+"</span> +$"+d):a.html(" +$"+d))})}};tm.discount.prototype.getOriginalPrice=function(a){a=this.getRegularPriceContainer(a);if(1==a.length)switch(this.getSlot()){case "cart-summary":case "preview":case "demo":this.originalPrice_=parseInt(a.data("full_price"));break;default:this.originalPrice_=parseInt(a.data("price"))}return this.originalPrice_};
tm.discount.prototype.getRegularPriceContainer=function(a){var c;switch(this.getSlot()){case "demo":$(".js-demo-buy-button").each(function(){"regular"==$(this).data("variant")&&(c=$(this))});this.regularPriceContainer_=c;break;case "cart-summary":this.regularPriceContainer_=$(".template-"+a+" .js-license-regular");break;case "preview":this.regularPriceContainer_=$('.js-preview-accordion-panel[data-variant="regular"]:first .js-price:first');break;case "thumbnail":this.regularPriceContainer_=$('.js-template-price[data-tid="'+
a+'"]');break;case "also-available-as":this.regularPriceContainer_=$('.js-also-available-as[data-tid="'+a+'"] .js-price')}return this.regularPriceContainer_};tm.discount.prototype.calculateDiscount=function(a,c){c=100<c?100:c;return Math.round(0.01*a*(100-(0>c?0:c)))};
tm.discount.prototype.getPurchasePrice=function(a){var c=this.getOriginalPrice(a),g=this.getNewsletterDiscount_(a,c);if("undefined"!=typeof ssd)for(var b in ssd)if(-1!=$.inArray(a,ssd[b])){g=this.calculateDiscount(c,b);g=this.getNewsletterDiscount_(a,g);break}return this.purchasePrice_=g};
tm.discount.prototype.getNewsletterDiscount_=function(a,c){if("undefined"!=typeof discount_link&&!1===this.getIsTemplatePromocode_(a))for(var g in discount_link)if(-1!=$.inArray(a,discount_link[g]))return this.calculateDiscount(c,g);return c};
tm.discount.prototype.getIsTemplatePromocode_=function(a){if(0<$(".js-total-promocode-discount").not(".js-none").length){var c=$(".js-total-promocode-discount").not(".js-none").attr("data-namespace"),g=$(".js-total-promocode-discount").not(".js-none").attr("data-products").match(/\d+/g);return"template"===c&&-1!==$.inArray(a.toString(),g)}return!1};
tm.discount.prototype.drawPricesInAlsoAvailableAs_=function(){var a=this.getTemplateIds();for(tid in a){var c=this.getOriginalPrice(a[tid]),g=this.getPurchasePrice(a[tid]);if(!isNaN(c)&&!isNaN(g)){var b=$('.js-also-available-as[data-tid="'+a[tid]+'"] .js-price');c!=g&&b.html('<span class="discount">+$'+c+"</span> +$"+g)}}};tm.cart=tm.cart||{};tm.cart=function(){this.cart_=$("header .shop-cart");this.cart_counter_=$(".js-cart-count");this.header_cart_counter_=this.cart_.find("#cart-count");this.header_=$("h1.shopping-cart-title")};tm.cart.prototype.cart_counter_;tm.cart.prototype.header_cart_counter_;tm.cart.prototype.header_;tm.cart.prototype.isEmpty=function(){return!this.cart_counter_.is(":visible")};tm.cart.prototype.showCounter=function(a){this.cart_counter_.html(a);return this.header_cart_counter_.html(a+'<b class="arrow"></b>').show()};
tm.cart.prototype.hideCounter=function(){this.header_.html("Shopping Cart is Empty");return this.showCounter(0)};tm.cart.prototype.checkCookie=function(){var a=parseInt($.cookie("sci_count")),c=parseInt($.cookie("sca_value"));!isNaN(a)&&!isNaN(c)&&0<a?this.showCounter(a,c):this.hideCounter()};
tm.cart.prototype.recalculate=function(){var a=$(".js-cart-summary-content .js-item-template").not(".js-none"),c=$(".js-cart-summary-subtotal .js-price"),g=0,b=0,f=$(".js-total-price"),d=0,j=0;a.each(function(){var a=0,b=0;$(this).find(".js-popup-cart-item").not(".js-none").each(function(){b+=parseInt($(this).attr("data-subtotal_price"));a+=parseInt($(this).attr("data-price"))});d+=parseInt(a);j+=parseInt(b)});$(".js-cart-oncart-offers .js-popup-cart-item").not(".js-none").each(function(){b+=parseInt($(this).attr("data-price"));
g+=parseInt($(this).attr("data-subtotal_price"))});d+=b;d-=this.getBonuses_();j+=g;c.attr("data-price",j).html("$"+j);f.attr("data-price",d).html("$"+d);this.checkCookie()};tm.cart.prototype.getBonuses_=function(){return parseInt($(".js-total-redeemed-bonus-amount").attr("data-amount"))};tm.cart.spinner=function(){};tm.cart.spinner.prototype.spinner_;tm.cart.spinner.prototype.checkout_button_;
tm.cart.spinner.prototype.enterDocument=function(){tm.cart.spinner.prototype.checkout_button_=$(".js-checkout-button");$(document).on("start.cart.load",$.proxy(this.onLoadStart,this));$(document).on("start.cart.load.block.checkout",$.proxy(this.onLoadStartBlockCheckout,this));$(document).on("stop.cart.load",$.proxy(this.onLoadStop,this));$(document).on("stop.cart.load.block.checkout",$.proxy(this.onLoadStopBlockCheckout,this))};
tm.cart.spinner.prototype.onLoadStart=function(a,c){if("undefined"===typeof c)return!1;this.SpinnerOn_(c.button);this.ButtonOff_(c.button);"function"===typeof c.callbackFunk&&c.callbackFunk()};tm.cart.spinner.prototype.onLoadStartBlockCheckout=function(a,c){if("undefined"===typeof c)return!1;this.onLoadStart(a,c);this.checkout_button_.prop("disabled",!0).addClass("disabled")};
tm.cart.spinner.prototype.onLoadStop=function(a,c){if("undefined"===typeof c)return!1;this.SpinnerOff_(c.button);this.ButtonOn_(c.button);"function"===typeof c.callbackFunk&&c.callbackFunk()};tm.cart.spinner.prototype.onLoadStopBlockCheckout=function(a,c){if("undefined"===typeof c)return!1;this.checkout_button_.prop("disabled",!1).removeClass("disabled");this.onLoadStop(a,c)};tm.cart.spinner.prototype.SpinnerOn_=function(a){a.find(".js-cart-spinner").removeClass("js-none")};
tm.cart.spinner.prototype.SpinnerOff_=function(a){a.find(".js-cart-spinner").addClass("js-none")};tm.cart.spinner.prototype.ButtonOn_=function(a){a.removeClass("disabled")};tm.cart.spinner.prototype.ButtonOff_=function(a){a.addClass("disabled")};tm.cart.spinner.update_offer_spinner=Object.create(new tm.cart.spinner);tm.cart.spinner.update_offer_spinner.enterDocument=function(){tm.cart.spinner.prototype.checkout_button_=$(".js-checkout-button");$(document).on("start.offer.update",$.proxy(this.onLoadStartBlockCheckout,this));$(document).on("stop.offer.update",$.proxy(this.onLoadStopBlockCheckout,this))};tm.cart.spinner.update_offer_spinner.ButtonOn_=function(){};tm.cart.spinner.update_offer_spinner.ButtonOff_=function(){};window.tm.cart.bonus=function(){};
window.tm.cart.bonus.prototype.enterDocument=function(){var a=this;$(".js-checkout-bonus-input").on("focus",function(){$(this).parents(".js-loyalty-bonus-radio").find(".js-bonus-amount-radio").click()});$(".js-checkout-bonus-input").currencyFormater();$("#bonuses-form").formValidation({disable_ajax:!0,popover_placement:"top",on_before_validate:function(a){$(".js-checkout-bonus-available-amount").attr("data-clear_amount",a.bonus.value);a.bonus.value=$(a.bonus).currencyFormater().val();0>=a.bonus.value&&
(a.bonus.value=0)},on_submit_success:function(c){var g=$(".js-checkout-bonus-input").currencyFormater().val(),g=a.getRedeemedAmount_(g);if(0>=g)return $(".js-bonus-amount-none").click(),!1;var b=a.getFullAmount_(),b=b-g;$(".js-checkout-bonus-available-amount").html("$"+b).attr("data-redeemed_amount",g);$(c).parent("div").addClass("js-none");$(".js-checkout-bonus-input").click();$(".js-checkout-bonus-redeemed-amount").html("$"+g).siblings(".js-bonus-amount-radio").click().parents(".js-loyalty-bonus-radio").removeClass("js-none");
$(".js-total-redeemed-bonus-amount").attr("data-amount",g).html(g).parents(".js-total-redeemed-bonus").removeClass("js-none");a.getShoppingCart_().recalculate();c=parseInt($(".js-total-price").attr("data-price"));a.displayBuyButtons_(0!==c)},validator_callbacks:{bonus:function(c,g){var b=[],f=$(".js-checkout-bonus-available-amount").attr("data-clear_amount"),d=$(g).currencyFormater().val(),d=a.getRedeemedAmount_(d),j=a.getAvailableAmount_();isNaN(d)&&(d=0);d<=j?(0==d&&/[^0-9\$]+/.test(f)&&b.push("The input must contain digits"),
$(".js-checkout-bonus-available-amount").attr("data-redeemed_amount",d)):(f=a.getFullAmount_(),$(".js-checkout-bonus-available-amount").html("$"+f).attr("data-redeemed_amount",j),b.push("You can't apply more than $"+j+" bonus for this particular order!"));return b}}});$(".js-redeemed-button-change").click(function(){a.openChangeBlock_();$(".js-checkout-bonus-input").parents(".js-loyalty-bonus-radio").find(".js-bonus-amount-radio").click()});$(".js-bonus-amount-none").click(function(){a.doNotApply_()})};
window.tm.cart.bonus.prototype.displayBuyButtons_=function(a){a?($(".js-payment-select-merchant").removeClass("js-none"),$(".js-payment-complete-order").addClass("js-none")):($(".js-payment-select-merchant").addClass("js-none"),$(".js-payment-complete-order").removeClass("js-none"));return!1};window.tm.cart.bonus.prototype.openChangeBlock_=function(){$(".js-redeemed-button-change").parents(".js-loyalty-bonus-radio").addClass("js-none");$(".js-checkout-bonus-input").parents(".js-loyalty-bonus-radio").removeClass("js-none")};
window.tm.cart.bonus.prototype.getAvailableAmount_=function(){return parseInt($(".js-checkout-bonus-available-amount").attr("data-available_amount"))};window.tm.cart.bonus.prototype.getFullAmount_=function(){return parseInt($(".js-checkout-bonus-available-amount").attr("data-full_amount"))};window.tm.cart.bonus.prototype.getShoppingCart_=function(){return new window.tm.cart};
window.tm.cart.bonus.prototype.doNotApply_=function(){$(".js-total-redeemed-bonus-amount").attr("data-amount",0).html(0).parents(".js-total-redeemed-bonus").addClass("js-none");this.getShoppingCart_().recalculate();$(".js-checkout-bonus-available-amount").html("$"+this.getFullAmount_()).attr("data-redeemed_amount",this.getAvailableAmount_());this.displayBuyButtons_(!0);this.openChangeBlock_();$(".js-checkout-bonus-input").val("$"+this.getAvailableAmount_()).blur()};
window.tm.cart.bonus.prototype.getRedeemedAmount_=function(a){return parseInt(a.replace(/\D/g,""))};(function(a){a.fn.TMCalcPrice=function(){return this.each(function(){var c=0,g=0,c=0,c=parseInt(a(this).find(".js-price").attr("data-price"));a(this).find('input.js-preview-offer-checkbox[type="checkbox"]:checked').each(function(){a(this).is(":checked")&&(g+=parseInt(a(this).data("price")))});c+=g;a(this).find(".js-template-price").html('<span class="dollar-icon">$</span>'+c+"</span>")})}})(jQuery);
function updateCartItems(a){var c=parseInt($(".js-modal-preview-popup").data("template_id")),g;for(g in a)switch(g){case "promocode":$(".js-promo-result-box").html(a[g].message);a[g].code&&($(".js-total-discount").html(a[g].value+a[g].type),$(".js-promocode-box").val(a[g].code));0<a[g]["total-discount-amount"]?($(".js-promocode-box").val(a[g].code),$(".js-total-promocode-value-type").html(a[g].value+a[g].type),$(".js-total-promocode-discount-amount").html(a[g]["total-discount-amount"]),$(".js-total-promocode-discount").attr("data-namespace",
a[g].namespace).attr("data-products",a[g].products).removeClass("js-none")):($(".js-total-promocode-discount").addClass("js-none"),$(".js-total-promocode-discount-amount").html(a[g]["total-discount-amount"]).attr("data-namespace","template"));break;case "license":for(var b in a[g]){var f=b.replace(/template-/,"");$("."+b+" .js-popup-cart-item.js-license").addClass("js-none").removeClass("js-license-default");$(".js-form_select_license").find('.js-license-radio[template_id="'+f+'"]').removeClass("selected").find("input:checked").removeProp("checked");
$("."+b+" .js-popup-cart-item.js-license-"+a[g][b]).addClass("js-license-default").removeClass("js-none");$('.js-license-radio[template_id="'+f+'"]').each(function(){a[g][b]==$(this).data("license")&&$(this).addClass("selected").find("input").prop("checked",!0)})}break;case "cart_templates":$(".js-cart-summary-content .js-item-template").remove();$(".js-cart-summary-content").prepend(a[g]);break;case "cart_select_license_block":$(".js-cart-select-license-block").hide();$(".js-cart-select-license-block").replaceWith(a[g]);
$(".js-cart-select-license-block").show();break;case "cart_offers":$(".item-onCartOffer").hide();$(".item-onCartOffer").replaceWith(a[g]);$(".item-onCartOffer").show();break;case "offer":for(var d in a[g])if(f=d.replace(/offer-/,""),!0===a[g][d].value){$(".js-popup-cart-item."+d+".js-parent-"+a[g][d].parent).hasClass("js-parent-oncart")&&$(".js-cart-oncart-offers").removeClass("js-none");$(".js-popup-cart-item."+d+".js-parent-"+a[g][d].parent).removeClass("js-none");var j=$(".js-popup-cart-item.js-static-"+
d+".js-parent-"+a[g][d].parent+" .js-add-offer");if(j.hasClass("js-add-offer")){var p=j.html().toLowerCase();j.addClass("disabled").removeClass("btn-primary").addClass("btn-default").html(p.replace("add to cart","added")).data("action","")}c==a[g][d].parent&&$('.js-preview-offer input[value="'+f+'"]').prop("checked",!0).siblings("a").addClass("active")}else $(".js-popup-cart-item."+d+".js-parent-"+a[g][d].parent).addClass("js-none"),0===$(".js-cart-oncart-offers .js-parent-oncart:visible").length&&
$(".js-cart-oncart-offers").addClass("js-none"),j=$(".js-popup-cart-item.js-static-"+d+".js-parent-"+a[g][d].parent+" .js-add-offer"),j.hasClass("js-add-offer")&&(p=j.html().toLowerCase(),j.removeClass("disabled").removeClass("btn-default").addClass("btn-primary").html(p.replace("added","add to cart")).data("action","add")),c==a[g][d].parent&&$('.js-preview-offer input[value="'+f+'"]').prop("checked",!1).siblings("a").removeClass("active");break;case "template":for(d in a[g])!1===a[g][d]?($(".js-item-template."+
d).addClass("js-none"),c==d.replace(/template-/,"")&&$(".js-add-to-cart button").html('<i class="icon-cart"></i> Add to Cart')):(c==d.replace(/template-/,"")&&$(".js-add-to-cart button").html('<i class="icon-checkmark"></i> Added to Cart'),$(".js-item-template."+d).removeClass("js-none"));break;case "oncart_full_prices":for(d in a[g])a[g][d]!=$(".offer-"+d).data("price")&&($(".offer-"+d).attr("data-price",a[g][d]),$(".offer-"+d).attr("data-subtotal_price",a[g][d]),$(".offer-"+d).find(".js-original-price").addClass("js-none"),
$(".offer-"+d).find(".js-purchase-price").html("+$"+a[g][d]));break;case "prices":for(d in a[g])/^template-.+/.test(d)&&(parseInt($(".js-item-template."+d+" .js-license-regular").data("full_price")),"exclusive"!=$(".js-item-template."+d+" .js-license-default").data("license")&&(f=d.replace(/template-/,""),$('.js-license-radio[data-template_id="'+f+'"]:not([data-license="exclusive"]) .js-txt-price, \n\t\t\t\t\t\t\t.js-license[data-template_id="'+f+'"]:not([data-license="exclusive"]) .js-txt-price').each(function(){$(this).parents(".js-license").attr("data-price",
a[g][d])}))),f=/^offer-(\d+)-(\d+)$/,f.test(d)&&(j=d.match(f),f=j[1],j=parseInt(j[2]),j=0<j?j:"oncart",0<$(".js-cart-summary .js-parent-"+j+".offer-"+f).data("full_price")&&$(".js-cart-summary .js-parent-"+j+".offer-"+f).attr("data-price",a[g][d]));break;case "bonuses":!1!==a[g]&&0<a[g].available?($(".js-total-redeemed-bonus-amount").html(a[g].redeemed).attr("data-amount",a[g].redeemed),$(".js-checkout-bonus-available-amount").attr("data-full_amount",a[g].amount).attr("data-available_amount",a[g].available).attr("data-redeemed_amount",
a[g].available).html("$"+a[g].amount),$(".js-checkout-bonus-input").val("$"+a[g].available),$(".js-loyalty-programm-block").removeClass("js-none")):($(".js-total-redeemed-bonus-amount").html(0).attr("data-amount",0),$(".js-checkout-bonus-available-amount").attr("data-full_amount",0).attr("data-available_amount",0).attr("data-redeemed_amount",0).html("$0"),$(".js-checkout-bonus-input").val("$0"),$(".js-loyalty-programm-block").addClass("js-none"));break;case "emptyCart":a[g]?($(".js-cart-not-empty").addClass("hide"),
$(".js-cart-empty").removeClass("hide")):($(".js-cart-not-empty").removeClass("hide"),$(".js-cart-empty").addClass("hide"))}c=Object.create(new tm.discount);c.setSlot("cart-summary");c.drawPrices();$(".js-preview-accordion-panel").TMCalcPrice();(new tm.cart).recalculate();hideChatLink()}
function addToCart(a){var c=a.parents("form"),a=a.parents(".js-preview-accordion-panel").data("variant");c.find('input[name="price_variant"]').val(a);c=c.serialize();$.ajax({url:"/cart-ajax/addtemplate.php",data:c,dataType:"json",success:function(a){updateCartItems(a);(new tm.cart).recalculate()}});return!1}
function selectLicense(a){var c=a.find(".js-license-radio.selected").data("license"),g=a.find(".js-license-radio.selected").data("price"),b=a.find(".js-license-radio.selected").data("template_id"),a="license="+c+"&price="+g+"&action=changeLicense&template_id="+b,f=parseInt($(".js-modal-preview-popup").data("template_id"));$(document).trigger("start.cart.load.block.checkout",{button:$(".js-license-popup-button")});$.ajax({url:"/cart-ajax/changelicense.php",data:a,dataType:"json",success:function(a){$(document).trigger("stop.cart.load.block.checkout",
{button:$(".js-license-popup-button")});$(".js-item-template.template-"+b).find(".js-popup-cart-item.js-license").removeClass("js-license-default").addClass("js-none");$(".js-item-template.template-"+b).find(".js-popup-cart-item.js-license.js-license-"+c).addClass("js-license-default").removeClass("js-none");updateCartItems(a);b==f&&openSelectedLicenseAccordionBlock(c);(new tm.cart).recalculate()}})}
function updateCart(){var a=$("body").attr("id").replace("-page","");$.ajax({url:"/cart-ajax/getupdate.php",data:"page="+a,dataType:"json",success:function(a){updateCartItems(a);(new tm.cart).recalculate()}})}function hideChatLink(){0<$(".js-popup-cart-item.js-static-offer, .js-popup-cart-item.js-static-oncart-offer").length?$(".js-offers-question-block").removeClass("js-none"):$(".js-offers-question-block").addClass("js-none")}
$(document).ready(function(){hideChatLink();var a=Object.create(new tm.cart.spinner),c=Object.create(tm.cart.spinner.update_offer_spinner);a.enterDocument();c.enterDocument();(new tm.cart.bonus).enterDocument();if(detectCheckoutPage())$(".js-cart-summary-content").on("mouseover",".js-popup-cart-item div, .js-item-template",function(){$(".js-edit-license, .js-dell-template, .js-dell-offer").addClass("js-none");return!1});$(document).on("click",".js-license-radio",function(){$(".js-license-radio.selected").removeClass("selected");
$(this).addClass("selected")});$(document).on("click",".js-item-template a.js-dell-template",function(){if(detectCheckoutPage())return!1;var a=$(this).data("product"),b=$(this).data("action");$.ajax({url:"/cart-ajax/deltemplate.php",data:"product="+a+"&action="+b,dataType:"json",success:function(a){updateCartItems(a);var b=new tm.cart;b.recalculate();if("undefined"!=typeof a.location){var c=parseInt($(".js-modal-preview-popup").data("template_id")),d;for(d in a.template)d==c&&(window.location=a.location)}b.isEmpty()&&
detectCheckoutPage()&&(window.location="/cart.php")}})});var g=$("#promocode_add_content").find(".js-promocode-box"),b=$("#promocode-form").formValidation({autoscroll_on_form_error:!1,on_submit_success:function(a,b,c){updateCartItems(c);"undefined"!=typeof c.promocode.code&&0==c.promocode.code.length&&$("#promocode_add_content").collapse("hide");(new tm.cart).recalculate();g.data("current-code",c.promocode.code)},on_submit_error:function(a,b,c){updateCartItems(c);(new tm.cart).recalculate();g.data("current-code",
c.promocode.code)}});g.data("current-code",g.val());$("#promocode_add_content").on("hidden.bs.collapse",function(){b.formValidation("hide-errors");g.val(g.data("current-code"))}).on("shown.bs.collapse",function(){$(".js-promocode-box",this).focus()});$(document).on("click",".js-popup-cart-item.js-static-offer a.js-add-offer, .js-popup-cart-item.js-static-oncart-offer a.js-add-offer, .js-popup-cart-item.offer a.js-dell-offer",function(){var a=$(this),b=a.data("product"),c=a.data("offer_id"),g=a.data("action");
if(""===g)return!1;var m="&position=&presentation_id=&search_context_id=&channel_id";"add"==g?($(".js-cart-summary").trigger("start.cart.load.block.checkout",{button:a}),m="&position="+a.data("position")+"&presentation_id="+a.data("presentation_id")+"&search_context_id="+a.data("search_context_id")+"&channel_id="+a.data("channel")):a.parents("li:first").hasClass("js-parent-oncart")?a.parents("li:first").remove():a.parents("li:first").addClass("js-none");$.ajax({url:"/cart-ajax/updateoffer.php",data:"product="+
b+"&offer_id="+c+"&action="+g+"Offer"+m,dataType:"json",success:function(b){$(".js-cart-summary").trigger("stop.cart.load.block.checkout",{button:a});updateCartItems(b);(new tm.cart).isEmpty()&&detectCheckoutPage()&&(window.location="/cart.php")}})});(new tm.cart).recalculate()});Tm=Tm||{};
Tm.Signin=function(){var a=new tm.cart,c={submenu_account:"",submenu_signin:"",submenu_signout:"",signin_link:"",signin_form:"",signin_form_container:"",signin_error_container:"",signin_submit_link:"",signout_link:""},g;g=detectCheckoutPage()?document.forms.checkout_signin:document.forms.signin;var b=$(g).data("config");$.isPlainObject(b)&&$.extend(c,b);return{init:function(a){$.extend(c,a);var b=this;$(c.signout_link).click(function(){b.signOut();return!1});g.billingInfo.value=b._isCheckoutPage()?"1":
"";g.cartHtml.value=b._isCartPage()?"1":"";$(g).formValidation({disable_regula:detectOldIe(),show_submit_button_hint:!1,on_submit_success:function(a,c,f){b.signInCallback(f);b._isCartPage()&&"undefined"===typeof f.error&&location.reload()}});$(c.signin_link).click(function(){$(g.email).val("");$(g.password).val("");$(g).formValidation("hide-errors");$(g).formValidation("focus-first")});$(g).data("config",c);return b},getCheckOutStep:function(){return this.isSignedIn()?this.isBillingInfoValid()?"step3":
"step2":"step1"},isSignedIn:function(){return!!$(g).data("signed-in")},hasBillingInfo:function(){return!!$(g).data("has-billing-info")},isBillingInfoValid:function(){return!!$(g).data("is-billing-info-valid")},getUserFullName:function(){return $(g).data("user-fullname")},getUserEmail:function(){return $(g).data("user-email")},getBillingInfo:function(){return $(g).data("billing-info")},signInCallback:function(b){this._mainSignIn(b);this._isCheckoutPage()&&this._checkoutSignIn(b);a.checkCookie();"undefined"!=
typeof b.billingInfoDetailsHtml&&$(".js-billinginfo-details").html(b.billingInfoDetailsHtml);"undefined"!=typeof b.paymentMethodsFormHtml&&($("#payment-methods-container").html(b.paymentMethodsFormHtml),$("#payment-collapse").paymentSelector());"undefined"!=typeof b.cartHtml&&$(".js-cart-summary-container:visible").html(b.cartHtml);detectCartPage()||updateCart()},signOut:function(){var b=this,c=this._isCheckoutPage();$.ajax({url:"/wac/signout.php",type:"POST",dataType:"json",success:function(){b._markSignedIn(!1);
b._setUserFullName("");b._setUserEmail("");b._setBillingInfo(null);b._setBillingInfoIsValid(!1);b._switchSigninButton();a.checkCookie();if(c){var g=new Tm.Checkout;g.resetBillingForm();g.goToSignin()}},error:function(){}})},checkCookie:function(a){var b="1"===$.cookie("wac");if(this._loadNeeded()||this.isSignedIn()!=b)this._autoSignIn(a);else if($.isPlainObject(a)&&$.isFunction(a.onComplete))a.onComplete()},_loadNeeded:function(){return"signed-but-not-loaded"===$(g).data("signed-in")},_isCheckoutPage:function(){return"checkout-page"==
$("#checkout-page").attr("id")},_isCartPage:function(){return"cart-page"==$("#cart-page").attr("id")},_setUserInfo:function(b){this._markSignedIn(!0);this._setUserFullName(b.fullName);this._setUserEmail(b.email);a.checkCookie()},_mainSignIn:function(a){$(c.signin_submit_link).removeClass("progress_bar").find(".progress-striped").hide();"error"in a?(this._showError(a.error.message),$(c.signin_submit_link).focus()):(this._showError(""),this._setUserInfo(a.userData),"undefined"===typeof a.billingInfo&&
(a.billingInfo=null),this._setBillingInfo(a.billingInfo),this._setBillingInfoIsValid(a.billingInfoIsValid),$(c.signin_form_container).hide().parents(".signin-form-active").removeClass("signin-form-active"));this._switchSigninButton()},_showError:function(a){$(c.signin_error_container).html(a)},_checkoutSignIn:function(a){var b=new Tm.Checkout;"error"in a?b.showLoginError(a.error.message):this.hasBillingInfo()&&b.fillBillingInfoForm({email:a.billingInfo.email,name:a.billingInfo.fullName,country:a.billingInfo.countryISO2,
state:a.billingInfo.stateISO2,postalcode:a.billingInfo.postalCode,city:a.billingInfo.cityName,address:a.billingInfo.address,phone:a.billingInfo.phone,contactphone:a.billingInfo.contactPhone});b.signChecking(!0)},_autoSignIn:function(a){var b=this;jQuery.ajax({url:"/wac/get-data.php",type:"POST",dataType:"json",data:{billingInfo:b._isCheckoutPage()},success:function(c){var g=!1,m,q,t=null;c.isSignedIn&&(g=!0,m=c.userData.fullName,q=c.userData.email,"undefined"!==typeof c.billingInfo&&(t=c.billingInfo));
b._markSignedIn(g)._setUserFullName(m)._setUserEmail(q)._setBillingInfoIsValid(c.billingInfoIsValid)._setBillingInfo(t);b._switchSigninButton();if($.isPlainObject(a)&&$.isFunction(a.onComplete))a.onComplete(b)}})},_setUserFullName:function(a){$("#your-account-link span").text(a);$('.live-chat-form input.name, #tellForm input[name="ow_name"]').val(a).trigger("setValue.placeholder");$(g).data("user-fullname",a);return this},_setUserEmail:function(a){$('.live-chat-form input.email, #tellForm input[name="ow_email"]').val(a).trigger("setValue.placeholder");
$(g).data("user-email",a);return this},_changeCheckoutUrl:function(){var a=$(".js-checkout-button");if(0<$(".js-checkout-button").length){var b=a.data("init-url");"undefined"==typeof b&&(b=a.attr("href"),a.data("init-url",b));a.attr("href",b.replace("step1",this.getCheckOutStep()))}},_setBillingInfoIsValid:function(a){$(g).data("is-billing-info-valid",a);this._changeCheckoutUrl();return this},_setBillingInfo:function(a){$(g).data("billing-info",a);$(g).data("has-billing-info",!!a);return this},_markSignedIn:function(a){$(g).data("signed-in",
a);return this},_switchSigninButton:function(){this.isSignedIn()?($(c.submenu_account).show(),$(c.submenu_signout).show(),$(c.submenu_signin).hide()):($(c.submenu_account).hide(),$(c.submenu_signout).hide(),$(c.submenu_signin).show())}}};Tm=Tm||{};
Tm.Tracker=function(){var a=["aff","affT","ref","country_code"],c=["utm_campaign"];return{trackGaEvent:function(){if("undefined"!==typeof _gaq){var a="1"===$.cookie("wac")?"Yes":"No",b=$.cookie("cid");"undefined"!==typeof b&&(_gaq.push(["a._setCustomVar",2,"CID",b,2]),_gaq.push(["b._setCustomVar",2,"CID",b,2]));_gaq.push(["a._setCustomVar",1,"Account",a,2]);_gaq.push(["b._setCustomVar",1,"Account",a,2]);_gaq.push(["a._trackPageview"]);_gaq.push(["b._trackPageview"])}},checkCookie:function(a){this._checkFd();this._checkAff(a)},
_checkFd:function(){var a=$.cookie("fd");"undefined"===typeof a&&(a=Math.floor((new Date).getTime()/1E3),Tm.setCookie("fd",a,36500))},_checkAff:function(g){"undefined"===typeof g&&(g={});"undefined"===typeof g.onComplete&&(g.onComplete=$.noop);var b=!1,f;for(f in a)if(!$.cookie(a[f])){b=!0;break}$.cookie("wdl")&&(b=!0);var d={};for(f in c){var j=$.url().param(c[f]);"undefined"!=typeof j&&(d[c[f]]=j,b=!0)}if(b)d.referer=document.referrer?document.referrer:window.location.href,jQuery.ajax({url:"/aff.php",
type:"POST",data:$.param(d),complete:function(){g.onComplete()}});else g.onComplete()}}};Tm=Tm||{};Tm.setCookie=function(a,c,g){var b=window.location.hostname.split("."),b="."+b.slice("dev"===b[b.length-1]?-3:-2).join(".");"undefined"===typeof g&&(g=null);$.cookie(a,c,{expires:g,path:"/",domain:b})};(function(a){var c=!1;a.fn.validateForm=function(){c||(c=!0,a.regula("bind"));var g=!0;this.each(function(){var b=a(this).find("input, textarea");b.focus(function(){a("* input, * textarea").popover("destroy")}).popover("destroy").removeClass("error").each(function(){var c=a(this);b.each(function(){!a(this).hasClass("bot")&&(!a(this).hasClass("pass")&&!a(this).hasClass("message"))&&(a(this).val(a.trim(a(this).val())),""===a(this).val()&&a(this).siblings("span._placeholder").css("display","block"))});
if(""===c.val()&&!c.hasClass("bot")&&!c.hasClass("no-required"))return c.popover({content:"Your "+c.attr("error_message")+" is required",placement:"left",title:c.attr("error_title")}),c.popover("show").addClass("error"),g=!1;if(c.attr("data-constraints")){var d=c.regula("validate");if(0<d.length)return c.popover({content:d[0].message,placement:"left",title:c.attr("error_title")}),c.popover("show").addClass("error"),g=!1}})});return g}})(jQuery);$(function(){$(document.forms.subscribe).formValidation({disable_regula:detectOldIe(),show_submit_button_hint:!1,autofocus_first_field:!1,popover_placement:"left",on_ajax_response:function(a,c,g){a={status:!1,errors:[],status_message:""};if($.isArray(g.innerhtml))for(var b in g.innerhtml){if("errorBox"===g.innerhtml[b].id){a.errors.push({messages:g.innerhtml[b].html});break}if("newsletterSubscriptionForm"===g.innerhtml[b].id){a.status=!0;a.status_message=g.innerhtml[b].html;break}}return a},on_submit_success:function(a,
c,g){$(a.email).val("");$(a).formValidation("hide-errors");$(a).formValidation("show-form-error",g.status_message)}})});function validateEmail(a){return RegExp(/^[\w\-\'\~\_\.\*\/=\^\{\}\?\+\!\#\$\%\&\`\|]+[\@][\w\_\.\-]+[\.][\w]{2,6}$/i).test(a)}regula.custom({name:"email",defaultMessage:"Please enter a valid email address",validator:function(){return validateEmail(this.value)}});function isEmptyString(a){return!(!a||0===a.trim().length)}regula.custom({name:"Name",defaultMessage:"Please enter a valid name",validator:function(){return isEmptyString(this.value)}});
regula.custom({name:"Message",defaultMessage:"The text area is required",validator:function(){return isEmptyString(this.value)}});regula.custom({name:"Country",defaultMessage:"Please enter a valid country",validator:function(){return isEmptyString(this.value)}});regula.custom({name:"State",params:["country_field_id"],defaultMessage:"Please enter a valid state",validator:function(a){a=document.getElementById(a.country_field_id);return-1!==["US","CA"].indexOf(a.value)?isEmptyString(this.value):!0}});
regula.custom({name:"ZipCode",defaultMessage:"Please enter a valid zip code",validator:function(){return isEmptyString(this.value)}});regula.custom({name:"City",defaultMessage:"Please enter a valid city",validator:function(){return isEmptyString(this.value)}});regula.custom({name:"Address",defaultMessage:"Please enter a valid address",validator:function(){return isEmptyString(this.value)}});regula.custom({name:"Phone",defaultMessage:"Please enter a valid phone",validator:function(){return isEmptyString(this.value)}});
regula.custom({name:"Password",defaultMessage:"Please enter a valid password",validator:function(){return isEmptyString(this.value)}});(function(a){a.fn.currencyFormater=function(){var c=a(this).val();"undefined"!==typeof c&&(c=c.replace(",","."),a(this).val(c).toNumber().formatCurrency({roundToDecimalPlace:0,digitGroupSymbol:"",negativeFormat:"%s%n"}));return this}})(jQuery);tm.stringUtils={};tm.stringUtils.noPrefix=function(a){return a.replace(/^.*?-/,"")};tm.stringUtils.bareId=function(a){return parseInt(a.replace(/^\D+/,""))};tm.nodeUtils={};tm.nodeUtils.getElementText=function(a){return $.trim($(a).contents().filter(function(){return 3===this.nodeType}).text())};tm.nodeUtils.getClassOfType=function(a,c){if(a.length)for(var g=a.attr("class").split(/\s+/),b=RegExp("^"+c+"-"),f=0;f<g.length;f++)if(b.test(g[f]))return tm.stringUtils.noPrefix(g[f])};tm.search=tm.search||{};tm.search.response=function(a){if(!a)throw"Invalid data parameter";this.data_=a};tm.search.response.prototype.getTemplateCount=function(a){return"undefined"===typeof this.data_.p?{}:"undefined"===typeof a?this.data_.p:"undefined"!==typeof this.data_.p[a]&&"undefined"!==typeof this.data_.p[a].v?this.data_.p[a].v:{}};tm.search.response.prototype.getText=function(){return this.data_.t||""};tm.search.response.prototype.getCount=function(){return this.data_.c};
tm.search.response.prototype.getNextCount=function(){return 0<this.data_.m?this.data_.m:0};tm.search.response.prototype.hasMore=function(){return this.data_.n};tm.search.response.prototype.getPageTitle=function(){return this.data_.pt||null};tm.search.response.prototype.getPageContentTitle=function(){return this.data_.pct||null};tm.search.response.prototype.getPageContentDescription=function(){return this.data_.pcd||null};
tm.search.response.prototype.getPageNumber=function(){return this.data_.pa||1};tm.search.params=function(a){this.setPage(a.page||1);this.title_=a.title||"";this.data_="undefined"===typeof a?{namespace:{}}:jQuery.extend(!0,{},a);delete this.data_.title;"undefined"===typeof this.data_.propertylist&&(this.data_.propertylist={});"undefined"===typeof this.data_.colors&&(this.data_.colors=[]);for(var c in this.data_.namespace)"number"===typeof this.data_.namespace[c]&&(this.data_.namespace[c]=[this.data_.namespace[c]])};tm.search.params.prototype.page_;tm.search.params.prototype.data_;
tm.search.params.prototype._hardReset=function(){this.data_={};this.resetPage();return this};tm.search.params.prototype.reset=function(){var a;"undefined"!==typeof this.data_.keywords&&(a=this.data_.keywords);this.data_={};void 0!==a&&(this.data_.keywords=a);this.resetPage();return this};tm.search.params.prototype.getPage=function(){return this.page_};tm.search.params.prototype.setPage=function(a){this.page_=parseInt(a);return this};
tm.search.params.prototype.resetPage=function(){this.setPage(1);return this};tm.search.params.prototype.nextPage=function(){this.setPage(1+this.getPage());return this};tm.search.params.prototype.isEmpty=function(){var a=this.getData(!0);delete a.page;for(var c in a)if("keywords"!==c||this.hasKeyword())return!1;return!0};
tm.search.params.prototype.setNamespace=function(a,c){if("page"!==a)return"undefined"===typeof this.data_.namespace&&(this.data_.namespace={}),delete this.data_.namespace[a],this.data_.namespace[a]=c,this};
tm.search.params.prototype.getData=function(a){var a=a||!1,c={};c.page=this.getPage();"undefined"===typeof c.propertylist&&(c.propertylist={});"undefined"===typeof c.colors&&(c.colors=[]);for(var g in this.data_.namespace)if("colors"===g)for(var b in this.data_.namespace[g])c.colors[b]=this.data_.namespace[g][b];else if("propertylist"===g)for(b in this.data_.namespace[g])c.propertylist[b]=this.data_.namespace[g][b];else c.propertylist[g]=this.data_.namespace[g];for(g in this.data_)if("page"!==g&&
"namespace"!==g)if("propertylist"!==g){if(null!==this.data_[g]&&!(($.isArray(this.data_[g])||$.isPlainObject(this.data_[g]))&&0==this.data_[g].length))c[g]=this.data_[g]}else"undefined"===typeof c.propertylist&&(c.propertylist={}),c.propertylist=$.extend(c.propertylist,this.data_[g]);if(a){if("undefined"!==typeof c.propertylist){for(g in c.propertylist)goog.isArrayLike(c.propertylist[g])&&!c.propertylist[g].length&&delete c.propertylist[g],goog.isObject(c.propertylist[g])&&0===goog.object.getCount(c.propertylist[g])&&
delete c.propertylist[g];0===Object.keys(c.propertylist).length&&delete c.propertylist}"undefined"!==typeof c.colors&&goog.isArrayLike(c.colors)&&!c.colors.length&&delete c.colors}return c};tm.search.params.prototype.fromData=function(a){this._hardReset();"undefined"!==typeof a.page&&this.setPage(a.page);for(var c in a)"page"!==c&&this.setNamespace(c,a[c])};tm.search.params.prototype.hasFilters=function(){var a=this.getData(!0);delete a.page;delete a.keywords;delete a.wr;return 0!==Object.keys(a).length};
tm.search.params.prototype.hasKeyword=function(){return!1!==this.getKeyword()&&""!==this.getKeyword()&&null!==this.getKeyword()};tm.search.params.prototype.getKeyword=function(){return this._getParam("keywords")};tm.search.params.prototype.hasKeywordOnly=function(){var a=this.getData(!0);delete a.page;delete a.keywords;delete a.wr;return this.hasKeyword()&&0===Object.keys(a).length};tm.search.params.prototype.getTitle=function(){return this.title_};
tm.search.params.prototype._getParam=function(a){return"undefined"!==typeof this.data_[a]?this.data_[a]:"undefined"===typeof this.data_.namespace?!1:"undefined"!==typeof this.data_.namespace[a]?this.data_.namespace[a]:!1};tm.search.engine={};tm.search.engine.search=function(a,c){c=c||"search";bus.pub("searchengine.start",c);var g=$.Deferred().done(function(){bus.pub("searchengine.stop",c)});$.when($.getJSON("/ajax/"+c+".php",a)).done(function(b){var f=b.c,d="undefined"!=typeof b.r;if("undefined"===typeof a.wr){if(d&&!f)return location.href=b.r,!1}else if(d&&1==f)return location.href=b.r,!1;g.resolve(new tm.search.response(b));bus.pub("searchengine.result.resolved",c)});return g};tm.compatibilityProperties=function(){};tm.compatibilityProperties.getCompatibilityProperties=function(){return{2617:[43],2619:[40],2621:[64,17],2615:[14],2613:[61],2611:[27],2609:[24,40],2607:[26],2623:[16],2627:[64],2657:[69]}};
tm.compatibilityProperties.getCompatibilityTypes=function(){return{50108:1,50111:3,50133:5,50134:7,50109:9,50131:10,50135:11,50136:12,50113:13,50120:14,50129:15,50121:16,50125:17,50123:18,50126:24,50130:25,50127:26,50115:27,50151:29,50137:30,50132:32,50138:33,50114:34,50110:36,50139:38,50118:40,50117:42,50116:43,50140:45,50150:46,50146:48,50147:49,50148:50,50152:51,50141:52,50142:54,50143:55,50149:57,50144:59,50122:61,50128:63,50119:64,50145:65,50124:66,50154:68,61529:69,61528:70,67280:76,67711:77}};
tm.compatibilityProperties.countDistinctTypes=function(){return tm.compatibilityProperties.getDistinctTypes().length};tm.compatibilityProperties.getDistinctTypes=function(a){var c=tm.compatibilityProperties.getCompatibilityTypes(),g={},b,f,d;for(b in a){f=Object.keys(a[b].v);for(var j=0;j<f.length;j++)d=c[""+f[j]],"undefined"!==typeof d&&(g[d]=1)}return Object.keys(g)};
tm.compatibilityProperties.getTypePropertyGroups=function(a,c){var c=parseInt(c),g=tm.compatibilityProperties.getCompatibilityTypes(),b={},f,d,j;for(f in a){d=Object.keys(a[f].v);for(var p=0;p<d.length;p++)j=g[""+d[p]],j===c&&(b[f]=1)}return Object.keys(b)};tm.search.ui=function(a,c,g){this.tags_=new tm.search.ui.tags;this.params_=new tm.search.params(a);this.initial_params_=new tm.search.params(a);this.initial_base_params_=new tm.search.params(c);this.options_=g||{};this.history_=new tm.history;this.disable_autopager_=!0;this.autopager_inprogress_=this.disable_spinner_=!1;this._rsrcSearch=new tm.excResource("ui.search")};
tm.search.ui.prototype.enterDocument=function(){$("body").on("discount.update",tm.search.ui.onDiscountUpdate);this.spinner_=new tm.search.ui.spinner;this.pager_=new tm.search.ui.pager($.proxy(this.params_.getPage,this.params_));this.topics_=new tm.search.ui.topic("#topics",this._getOptions("topics"));this.types_=new tm.search.ui.type("#types");this.colors_=new tm.search.ui.color("#colors-list");this.properties_=new tm.search.ui.property($(".js-search-filters"));this.search_options_=new tm.search.ui.tools;
this.search_options_.enterDocument();this._updateSearchOptionsBar();this._rsrcSearch.get(this);$.when(this.topics_.isLoaded(),this.types_.isLoaded(),this.properties_.isLoaded(),this.colors_.isLoaded()).done($.proxy(this._onDocumentLoaded,this));var a=[];"undefined"!==typeof __topics&&(this.topics_.enterDocument(this.params_.hasKeyword(),$.proxy(function(a){this._rsrcSearch.isAvailable()||(a.preventDefault(),a.stopImmediatePropagation())},this),$.proxy(function(a){this._rsrcSearch.get(this.topics_)||
(a.preventDefault(),a.stopImmediatePropagation())},this)),a.push($.proxy(this.topics_.onAfterSearch,this.topics_)));if("undefined"!==typeof __types){var c=this.params_.getData(),c=$.isPlainObject(c.propertylist)&&$.isArray(c.propertylist.types)?c.propertylist.types:{};this.types_.enterDocument(c,$.proxy(function(a){this._rsrcSearch.isAvailable()||(a.preventDefault(),a.stopImmediatePropagation())},this),$.proxy(function(a){this._rsrcSearch.isAvailable()?this._rsrcSearch.get(this.types_)||(a.preventDefault(),
a.stopImmediatePropagation()):(a.preventDefault(),a.stopImmediatePropagation())},this));a.push($.proxy(this.types_.onAfterSearch,this.types_))}this.properties_.enterDocument($.proxy(function(a){this._rsrcSearch.isAvailable()||(a.preventDefault(),a.stopImmediatePropagation())},this),$.proxy(function(a){this._rsrcSearch.get(this.properties_)||(a.preventDefault(),a.stopImmediatePropagation())},this));a.push($.proxy(this.properties_.onAfterSearch,this.properties_));this.colors_.enterDocument($.proxy(function(){this._rsrcSearch.get(this.colors_)||
(e.preventDefault(),e.stopImmediatePropagation())},this));a.push($.proxy(this.colors_.onAfterSearch,this.colors_));c=$(".js-search-tags");this.tags_.enterDocument(c,$.proxy(this._onTagContainerClick,this));bus.sub(tm.history.SCROLL_FINISHED,$.proxy(function(){this.disable_autopager_=!1},this));this.history_.enterDocument();this.pager_.enterDocument();a.push($.proxy(this.pager_.onAfterSearch,this.pager_));a.push($.proxy(tm.thumbnail.renew,null));bus.sub("tm.aftersearch",$.proxy(function(b,c){for(var d=
[],g=0;g<a.length;g++)d.push(a[g].call(null,c));$.when.apply(null,d).done($.proxy(function(){this._rsrcSearch.isAvailable()||this._rsrcSearch.release()},this))},this));bus.sub(tm.search.ui.pager.EVENT_NEXTPAGE,$.proxy(function(){if(!this.disable_autopager_&&!this.autopager_inprogress_){if(!this._rsrcSearch.get("pager"))return!1;this.disable_spinner_=this.autopager_inprogress_=!0;this.pager_.showProgressBar();this.params_.nextPage();this._onAutoPager().always($.proxy(function(a){this.autopager_inprogress_=
this.disable_spinner_=!1;tm.thumbnail.renew();this.pager_.onAfterSearch(a)},this)).done(function(){$("body").trigger("discount.update")})}},this));this.spinner_.enterDocument();bus.sub("searchengine.start",$.proxy(function(){this.disable_spinner_||bus.pub("ui.spinner.start")},this));bus.sub("searchengine.stop",$.proxy(function(){this.disable_spinner_||bus.pub("ui.spinner.stop")},this));bus.sub("ui.spinner.start",$.proxy(function(){this.spinner_.show()},this));bus.sub("ui.spinner.stop",$.proxy(function(){this.spinner_.hide()},
this));bus.sub("page.class.search",$.proxy(this._attachThumbnailSleuth,this));bus.sub("searchengine.start",$.proxy(function(){this.disable_autopager_=!0},this));bus.sub("searchengine.stop",$.proxy(function(){this.disable_autopager_=!1},this));bus.sub(["property.search","type.search","topic.search","color.search"],$.proxy(function(a,c,d){this._onSearch(c,d)},this));bus.sub(["type.update.finished","topic.update.finished","property.update.finished","color.update.finished"],$.proxy(this._onUpdateFinished,
this));var g=[this.types_,this.topics_,this.properties_,this.colors_];bus.sub("tags.remove",$.proxy(function(a,c){var d,j;goog.isArray(c)||(c=[c]);for(j=0;j<c.length;j++)for(d=0;d<g.length;d++)g[d].onTagRemove(c[j]);for(d=0;d<g.length;d++){j=g[d].getSearchParams();for(var p in j)this.params_.setNamespace(p,j[p])}this._onSearch()},this));bus.sub("tags.first",$.proxy(this._onTagFirst,this));bus.sub("tags.last",$.proxy(this._onTagLast,this));$("a.js-clear-tags").click($.proxy(this._onClearFilters,this));
this._getSearchForm().submit($.proxy(this._onKeywordSearch,this));bus.sub(tm.history.CHANGED,$.proxy(function(){var a=this.history_.current();a?(this.params_.fromData(a),this._onSearch(null,!0)):window.location.href=this.history_.currentUrl()},this));bus.sub(tm.search.ui.pagergage.EVENT_PAGEUPDATE,$.proxy(function(a,c){this.params_.setPage(c);this._saveHistory()},this));this._gage=new tm.search.ui.pagergage;this._gage.enterDocument()};
tm.search.ui.prototype._onAutoPager=function(){return this._search().done($.proxy(function(a){$('<div class="page_divider"><span>Page '+a.getPageNumber()+"</span></div>").attr("id","page"+a.getPageNumber()).appendTo("#products");$("#products").append(a.getText())},this)).always($.proxy(function(){this._rsrcSearch.release()},this))};
tm.search.ui.prototype._onDocumentLoaded=function(){var a=this.params_.getData();"undefined"!==typeof a.propertylist&&"undefined"!==typeof a.propertylist.topic&&this.topics_.setSelection(a.propertylist.topic);this.properties_.setSelection(a.propertylist);this.colors_.setSelection(a.colors);this._onUpdateFinished();this._rsrcSearch.isAvailable()||this._rsrcSearch.release()};tm.search.ui.prototype._onTagContainerClick=function(a){this._rsrcSearch.get(this.tags_)||(a.preventDefault(),a.stopImmediatePropagation())};
tm.search.ui.prototype._onTagFirst=function(){$(".js-narrow-results").show()};tm.search.ui.prototype._onTagLast=function(){$(".js-narrow-results").hide()};tm.search.ui.prototype._onClearFilters=function(){if(this._rsrcSearch.get(this.tags_))return this.tags_.reset(),!1};tm.search.ui.prototype._getSearchForm=function(){return $("#js-searchForm")};tm.search.ui.prototype._getSearchKeyword=function(){return $.trim(this._getSearchForm().find(".keyword-search-field:first").val())};
tm.search.ui.prototype._onKeywordSearch=function(){this._updateSearchOptionsBar();this.pager_.reset();this.params_.resetPage();this.params_.data_.keywords=this._getSearchKeyword();if(this.search_options_.isWithin()){if(null!==this.initial_params_.getKeyword()&&null!==this._getSearchKeyword()){var a=this.initial_params_.getData(!0);a.keywords=this._getSearchKeyword();this.initial_params_=new tm.search.params(a)}}else this.params_.reset(),this.tags_.reset(),this.types_.reset(),this.topics_.reset(),
this.properties_.reset(),this.colors_.reset(),this.initial_params_=new tm.search.params({keywords:this.params_.data_.keywords});tm.search.engine.search(this.params_.getData()).done($.proxy(function(a){this._saveHistory();this._updatePageWithSearchResults(a);bus.pub("tm.aftersearch",{response:a})},this));return!1};
tm.search.ui.prototype._saveHistory=function(){var a=require("deep-diff"),c=this.params_.getData(!0),g=this.initial_base_params_.getData(!0),b={colors:[]};if(c=a.diff(g,c))for(var f=0;f<c.length;f++)JSON.stringify(a.applyChange(b,g,c[f]));a=window.location.pathname;if(this.params_.hasKeywordOnly()||this.params_.isEmpty())a="/templates.php";this.history_.push(b,a)};
tm.search.ui.prototype._onUpdateFinished=function(){var a=new tm.search.ui.tagContainer;a.addTags(this.types_.getTags());a.addTags(this.properties_.getTags());a.addTags(this.topics_.getTags());a.addTags(this.colors_.getTags());this.tags_.update(a)};tm.search.ui.prototype._preSearch=function(a){if(a)for(var c in a.params)this.params_.setNamespace(c,a.params[c]);this._onUpdateFinished()};
tm.search.ui.prototype._onSearch=function(a,c){a=a||{};"undefined"===typeof a?a=this.params_.getData():this._preSearch(a);var g="undefined"===typeof a.keep?"":a.keep;c||(this.params_.resetPage(),this.pager_.reset());this._updateSearchOptionsBar();this._search(g).done($.proxy(function(a){c||this._saveHistory();this._updatePageWithSearchResults(a);tm.thumbnail.renew();bus.pub("tm.aftersearch",{response:a,keep:g})},this)).done(function(){$("body").trigger("discount.update")});return!1};
tm.search.ui.prototype._updateSearchOptionsBar=function(){this.search_options_.setToolboxVisible(this.params_.hasFilters())};tm.search.ui.prototype._search=function(a){var c=this.params_.getData();c.keep=a;return tm.search.engine.search(c).always(function(){_gaq.push(["a._trackPageview"]);_gaq.push(["b._trackPageview"])})};
tm.search.ui.prototype._updatePageWithSearchResults=function(a){if(null!==a.getPageTitle()){$("title:first").text(a.getPageTitle()).html();var c=$(".js-heading-1"),g={templateTotalFound:a.getCount()};this.params_.isEmpty()?(g.searchByKeywordOnly=!1,g.contentTitle=a.getPageContentTitle()):this.initial_params_.hasKeyword()&&this.initial_params_.hasKeywordOnly()?(g.searchByKeywordOnly=!0,g.contentTitle=this.initial_params_.getKeyword()):(g.searchByKeywordOnly=this.initial_params_.isEmpty()||this.params_.hasKeywordOnly(),
this.initial_params_.isEmpty()||(g.contentTitle=this.initial_params_.getTitle()||a.getPageContentTitle()));if(null===a.getPageContentTitle()||""===a.getPageContentTitle())g.searchByKeywordOnly=!0;c.html(Twig.render(search_h1,g));$("#js-slide-down-text").html(a.getPageContentDescription());null===a.getPageContentDescription()||0===a.getPageContentDescription().trim().length?$("#js-slide-down-txt").hide():$("#js-slide-down-txt").show()}$("#products").html("").append(a.getText())};
tm.search.ui.prototype._attachThumbnailSleuth=function(){$("#products, .thumbContent").live("click",".js-thumb_preview, .js-thumb_preview a",$.proxy(function(a){var c=1,g,b;if($(".page_divider").length){g=$(a.currentTarget).closest(".thumbContent");g.length?(g=g.find("[data-tid]"),g.length&&(b=parseInt(g.first().data("tid")))):(g=$(a.target).closest(".js-template-data"),g.length&&(b=parseInt(g.prev().first().data("tid"))));g=$('.js-thumbnail[data-tid="'+b+'"]');if(!g.length)return!1;a=g.closest("li").prevAll("div.page_divider").first();
a.length?c=parseInt(a.attr("id").replace(/\D/g,"")):(a=g.closest("li").nextAll("div").first(),a.length&&(c=parseInt(a.attr("id").replace(/\D/g,""))-1))}else c=this.params_.getPage();a=jQuery.deparam.querystring(window.location.search);a.page=c;1<c&&(c=parseInt(g.offset().top-$(window).scrollTop()),a.templateId=b,a.templateOffsetTop=c);this.history_.replace(a);return!0},this))};tm.search.ui.onDiscountUpdate=function(){var a=Object.create(new tm.discount);a.setContext(!0);a.drawPrices()};
tm.search.ui.prototype._getOptions=function(a){return"undefined"===typeof this.options_[a]?{}:this.options_[a]};tm.search.ui.getCountHtml=function(a){return"undefined"===typeof a?$("<span>(0)</span>"):"("+a+")"};tm.search.ui.spinner=function(){};tm.search.ui.spinner.prototype.overlay_;tm.search.ui.spinner.prototype.spinner_;tm.search.ui.spinner.prototype.spinner_div_left_;tm.search.ui.spinner.prototype.spinner_div_;tm.search.ui.spinner.prototype._scrlbl;tm.search.ui.spinner.prototype.spnr_;tm.search.ui.spinner.prototype.spinner_top_;tm.search.ui.spinner.prototype.spinner_left_;tm.search.ui.spinner.prototype.spinner_div_height_;tm.search.ui.spinner.prototype.spinner_div_width_;tm.search.ui.spinner.prototype.spinner_div_top_;
tm.search.ui.spinner.prototype.enterDocument=function(){this.spinner_=$('<div class="ajax-spinner"><div/></div>');this.overlay_=$('<div class="js-overlay"/>').hide().appendTo(".js-search-overl");this._scrlbl=$(window)._scrollable()[0];this.spnr_=this.spinner_[0];this.spinner_top_=this.spinner_.appendTo($("ul.thumbnails").parent()).show().offset().top;this.spinner_left_=this.spinner_.offset().left;this.spinner_div_=$(">div",this.spinner_);this.spinner_div_height_=this.spinner_div_.height();this.spinner_div_width_=
this.spinner_div_.width();this.spinner_div_top_=this.spinner_div_.prop("offsetTop");this.spinner_div_left_=this.spinner_div_.prop("offsetLeft");this.spinner_.hide();$(document).on("scroll",$.proxy(this.onScroll,this));$(window).resize($.proxy(this.onResize,this))};tm.search.ui.spinner.prototype.isRelevant=function(){return 0<$("ul.thumbnails").length};tm.search.ui.spinner.prototype.show=function(){this.overlay_.show();this.isRelevant()&&(this.spinner_.fadeIn(),$(window).resize())};
tm.search.ui.spinner.prototype.hide=function(){this.overlay_.hide();this.isRelevant()&&(this.spinner_.fadeOut(),$(window).resize())};
tm.search.ui.spinner.prototype.onResize=function(){this.isRelevant()&&(this.spinner_.is(":hidden")?(this.spinner_.show(),this.spinner_left_=this.spinner_.offset().left,this.spinner_div_left_=this.spinner_div_.prop("offsetLeft"),this.spinner_.hide()):(this.spinner_left_=this.spinner_.offset().left,this.spinner_div_left_=this.spinner_div_.css({position:"absolute",left:"50%"}).prop("offsetLeft"),this.onScroll()))};
tm.search.ui.spinner.prototype.onScroll=function(){if(this.isRelevant()&&this.spinner_.is(":visible")){var a=0<this._scrlbl.scrollTop-this.spinner_top_;a&&this._scrlbl.scrollTop-this.spnr_.offsetHeight-this.spinner_top_+this.spinner_div_height_<2*-this.spinner_div_top_?this.spinner_div_.css({position:"fixed",top:this.spinner_div_top_,left:this.spinner_div_left_+this.spinner_left_+this.spinner_div_width_/2-1}):a?this.spinner_div_.css({position:"absolute",top:this.spnr_.offsetHeight-this.spinner_div_height_-
this.spinner_div_top_,left:"50%"}):this.spinner_div_.css({position:"absolute",top:this.spinner_div_top_,left:"50%"})}};tm.search.ui.tag=function(a,c,g,b){this._title=a;this._id=c;this._type=g;this._htmlid="tag"+this._hashCode(g+c);this._options=b||{}};tm.search.ui.tag.prototype.getId=function(){return this._id};tm.search.ui.tag.prototype.getHtmlId=function(){return this._htmlid};tm.search.ui.tag.prototype.getTitle=function(){return this._title};tm.search.ui.tag.prototype.getType=function(){return this._type};tm.search.ui.tag.prototype.getData=function(){if("undefined"!==typeof this._options.data)return this._options.data};
tm.search.ui.tag.prototype.isDisabled=function(){return"undefined"===typeof this._options.disabled?!1:this._options.disabled};tm.search.ui.tag.prototype.equalsTo=function(a){return this.getTitle()===a.getTitle()&&this.getId()===a.getId()&&this.getType()===a.getType()};tm.search.ui.tag.prototype._hashCode=function(a){var c=0,g;if(0===a.length)return c;for(i=0;i<a.length;i++)g=a.charCodeAt(i),c=(c<<5)-c+g,c&=c;return c};tm.search.ui.tagContainer=function(){this._tags=[]};tm.search.ui.tagContainer.prototype.addTag=function(a){this._tags.push(a)};tm.search.ui.tagContainer.prototype.addTags=function(a){for(var c=0;c<a.length;c++)this._tags.push(a[c])};tm.search.ui.tagContainer.prototype.hasTag=function(a){for(var c=0;c<this._tags.length;c++)if(this._tags[c].equalsTo(a))return this._tags[c]};
tm.search.ui.tagContainer.prototype.getTagByHtmlId=function(a){for(var c=0;c<this._tags.length;c++)if(this._tags[c].getHtmlId()===a)return this._tags[c]};tm.search.ui.tagContainer.prototype.getTagById=function(a){for(var c=0;c<this._tags.length;c++)if(this._tags[c].getId()===a)return this._tags[c]};tm.search.ui.tagContainer.prototype.each=function(a,c){for(var g=0;g<this._tags.length;g++)a.call(c,this._tags[g])};tm.search.ui.tags=function(){this._last=new tm.search.ui.tagContainer};tm.search.ui.tags.prototype.container_;tm.search.ui.tags.prototype.enterDocument=function(a,c){this.container_=$(a);this.container_.click(c).click($.proxy(this._onClickPanel,this))};tm.search.ui.tags.prototype._getTagDomElement=function(a){a="a"+('[id="'+a.getHtmlId()+'"]');return $(a)};tm.search.ui.tags.prototype._getContainer=function(){return this.container_};
tm.search.ui.tags.prototype._onClickPanel=function(a){a.preventDefault();$(a.target).each($.proxy(function(a,g){$(g).is("i")&&(g=$(g).parent());if($(g).is("a")){if(this.isTagDisabled($(g)))return!1;this._notifyAboutTagRemoval(this._getTagByHtmlId($(g).attr("id")))}},this));return!1};tm.search.ui.tags.prototype._notifyAboutTagRemoval=function(a){bus.pub("tags.remove",a)};
tm.search.ui.tags.prototype.update=function(a){var c=this.getTagCount();this._last.each(function(b){var c=a.hasTag(b);c?c.isDisabled()^b.isDisabled()&&(b.isDisabled()?this.enableTag(c):this.disableTag(c)):this._removeTag(this._getTagDomElement(b))},this);a.each(function(a){this._last.hasTag(a)||this._addTag(a)},this);this._last=a;var g=this.getTagCount();0<c&&0===g?bus.pub("tags.last"):0===c&&0<g&&bus.pub("tags.first");return this};
tm.search.ui.tags.prototype._addTag=function(a){var c=$("<a/>").attr("href","#").html(a.getTitle()).attr("id",a.getHtmlId()).addClass("tag-"+a.getType());a.isDisabled()?c.addClass("disabled"):c.addClass("with-cross").append($("<i/>").addClass("icon-close"));if(a=a.getData())for(var g in a)c.attr("data-"+g,a[g]);this._getContainer().append($("<li/>").append(c))};tm.search.ui.tags.prototype._removeTag=function(a){$(a).each(function(a,g){$(g).closest("li").remove()})};
tm.search.ui.tags.prototype.isTagDisabled=function(a){return!$(a).hasClass("with-cross")};tm.search.ui.tags.prototype.disableTag=function(a){this._getTagDomElement(a).addClass("disabled").removeClass("with-cross").find("i").remove()};tm.search.ui.tags.prototype.enableTag=function(a){this._getTagDomElement(a).removeClass("disabled").addClass("with-cross").append($("<i/>").addClass("icon-close"))};tm.search.ui.tags.prototype.getTagCount=function(){return $("li",this._getContainer()).length};
tm.search.ui.tags.prototype.reset=function(){var a=[];this._getContainer().find("li").each($.proxy(function(c,g){a.push(this._getTagByHtmlId($(g).find("a").attr("id")))},this));this._notifyAboutTagRemoval(a);bus.pub("tags.last",!0)};tm.search.ui.tags.prototype._getTagByHtmlId=function(a){return this._last.getTagByHtmlId(a)};tm.search.ui.property=function(a){this.container_=$(a);this.loaded_=$.Deferred()};tm.search.ui.property.DISABLED_CLASS="property-disabled";tm.search.ui.property.prototype._getContainer=function(){return this.container_};
tm.search.ui.property.prototype.enterDocument=function(a,c){this._getFilterHeaders().click(function(a){a=$(a.target).closest("div");a.toggleClass("inactive").toggleClass("active");a.find("h6 > i").toggleClass("icon-arrow-small-up").toggleClass("icon-arrow-small-down")});this._getFilters().click(a).click($.proxy(this.onClick,this));this._getContainer().on("select_node.property",c).on("select_node.property",$.proxy(this.onSelect,this));this.loaded_.resolve()};
tm.search.ui.property.prototype._getFilters=function(){return $(".js-property-list a",this._getContainer())};tm.search.ui.property.prototype._getFilterHeaders=function(){return $(".js-slide-down.js-property",this._getContainer())};tm.search.ui.property.prototype.onAfterSearch=function(a){this._updateTemplateCount(a.response.getTemplateCount(),a.keep);return $.Deferred().resolve()};
tm.search.ui.property.prototype.onClick=function(a){$(a.target);a=$(a.target).closest("a");if(!this.isCheckbox(a)||!this.isEnabled(a))return!1;this._getContainer().trigger("select_node.property",a);return!1};tm.search.ui.property.prototype.onSelect=function(a,c){c=$(c);this.isChecked(c)?this.uncheck(c):this.check(c);var g=c.closest("div.js-slide-down.js-property").attr("id");0===this._getSelection().length&&(g="nothing");bus.pub("property.search",{params:this.getSearchParams(),keep:g})};
tm.search.ui.property.prototype.getCheckboxByValueId=function(a){return $('li[id="'+a+'"]')};tm.search.ui.property.prototype.getSearchParams=function(){var a={};this._getContainer().find(".js-property-list .selected").each(function(c,g){var b=tm.stringUtils.bareId($(g).closest("div.js-slide-down.js-property").attr("id"));"undefined"===typeof a[b]&&(a[b]=[]);a[b].push(tm.stringUtils.bareId($(g).closest("li").attr("id")))});return{propertylist:a}};tm.search.ui.property.prototype.isCheckbox=function(a){return a.is("a")};
tm.search.ui.property.prototype.isChecked=function(a){return a.closest("li").is(".selected")};tm.search.ui.property.prototype.isEnabled=function(a){return!a.hasClass(tm.search.ui.property.DISABLED_CLASS)};tm.search.ui.property.prototype._hasFilterCheckedProperties=function(a){a=$("#prop-"+a);if(a.length)return 0<$(".selected",a).length};
tm.search.ui.property.prototype.uncheck=function(a){a=$(a);a.closest("li").removeClass("selected");if(0===this._getSelection().length&&0!==this._getSelection(!0).length)for(var c=this._getSelection(!0),g=0;g<c.length;g++)a=c.eq(g),this.uncheck(a)};tm.search.ui.property.prototype.check=function(a){if(0===a.length)return!1;if(!this.isCheckbox(a))throw Error("Not a checkbox");a.closest("li").addClass("selected");return!0};
tm.search.ui.property.prototype._getSelection=function(a,c){var c=c||this._getContainer(),g=".js-property-list .selected";a||(g+=":not(."+tm.search.ui.property.DISABLED_CLASS+")");return $(g,c)};tm.search.ui.property.prototype.getCheckboxId=function(a){if(!this.isCheckbox(a))throw Error("Type mismatch");return tm.stringUtils.bareId(a.closest("li").attr("id"))};tm.search.ui.property.prototype.reset=function(){for(var a=this._getSelection(!0),c=0;c<a.length;c++)checkbox=a.eq(c),this.uncheck(checkbox)};
tm.search.ui.property.prototype._updateTemplateCount=function(a,c){var c=c||"nothing",g,b;b=tm.compatibilityProperties.getDistinctTypes(a);g=1===b.length;for(var f in a){var d=$("#prop-"+f);d.length&&(a[f].v instanceof Array?this._hasFilterCheckedProperties(f)||d.hide():($("li",d).each($.proxy(function(b,d){var g=$(d),q=parseInt($(g).attr("id").replace(/^\D+/,""));c!=g.closest("div.js-slide-down.js-property").attr("id")&&(void 0===a[f].v[q]?($("span",g).html(tm.search.ui.getCountHtml(0)),this._setEnabledNode(g.find("a"),
!1)):($("span",g).html(tm.search.ui.getCountHtml(a[f].v[q])),this._setEnabledNode(g.find("a"),!0)))},this)),availTypes=tm.compatibilityProperties.getCompatibilityProperties()[f],isCompatibility="undefined"!==typeof availTypes,!isCompatibility||g&&-1!==availTypes.indexOf(parseInt(b[0]))?d.show():d.hide()))}$("div.js-slide-down.js-property").each(function(b,c){var d=$(c),f=parseInt(d.attr("id").replace(/^\D+/,""));"undefined"==typeof a[f]&&d.hide()});bus.pub("property.update.finished")};
tm.search.ui.property.prototype._openProperty=function(a){a.find("dt").toggleClass("active").parent(".slide-down").find("dd").slideToggle(0)};tm.search.ui.property.prototype.setSelection=function(a){var c=/^\d+$/,g;for(g in a)if(c.test(g)){this._openProperty($("#prop-"+g));for(var b=0;b<a[g].length;b++)this.check($("#val-"+a[g][b]).find("div.check"))}};
tm.search.ui.property.prototype.getTags=function(){for(var a=[],c=this._getSelection(!0),g,b,f=0;f<c.length;f++)$(c.eq(f)).closest("div.block"),checkbox=c.eq(f),g=tm.nodeUtils.getElementText($("a",checkbox)),b={},this.isEnabled(checkbox.find("a"))||(b.disabled=!0),a.push(new tm.search.ui.tag(g,checkbox.closest("li").attr("id"),"property",b));return a};
tm.search.ui.property.prototype.onTagRemove=function(a){"property"==a.getType()?this.uncheck($("#"+a.getId())):"type"==a.getType()&&$(".js-property[data-tagrelation]",this._getContainer()).each($.proxy(function(c,g){var b=""+$(g).data("tagrelation"),b=b.split(" "),f;for(f=0;f<b.length;f++)"type-"+b[f]===a.getId()&&this._getSelection(!0,g).each($.proxy(function(a,b){this.uncheck(b)},this))},this))};
tm.search.ui.property.prototype._setEnabledNode=function(a,c){if(!this.isCheckbox(a))throw Error("Type mismatch");c?(a.removeClass(tm.search.ui.property.DISABLED_CLASS),a.closest("li").show()):this.isChecked(a)?a.addClass(tm.search.ui.property.DISABLED_CLASS):a.closest("li").hide()};tm.search.ui.property.prototype.isLoaded=function(){return this.loaded_};tm.search.ui.type=function(a){this.container_=$(a);this.loaded_=$.Deferred()};tm.search.ui.type.CHECKED_CLASS="jstree-checked";tm.search.ui.type.DISABLED_CLASS="jstree-disabled";tm.search.ui.type.prototype._getContainer=function(){return this.container_};
tm.search.ui.type.prototype.enterDocument=function(a,c,g){this._getFilterHeaders().click(function(a){a=$(a.target).closest("div");a.toggleClass("inactive").toggleClass("active");a.find("h6 > i").toggleClass("icon-arrow-small-up").toggleClass("icon-arrow-small-down")});this._getContainer().on("click.jstree","a",c).on("click.jstree","a",$.proxy(function(a){var c=$(a.target).closest("li");this._isEnabled(c)||(a.preventDefault(),a.stopImmediatePropagation())},this));this._tree=this._getContainer().jstree({plugins:["json_data",
"checkbox","ui"],json_data:__types,checkbox:{override_ui:!0}}).bind("loaded.jstree ",$.proxy(this._onLoadTree,this,a)).on("check_node.jstree uncheck_node.jstree",g).on("check_node.jstree uncheck_node.jstree",$.proxy(this._onChangeSelection,this));return this};tm.search.ui.type.prototype.isLoaded=function(){return this.loaded_};
tm.search.ui.type.prototype.onAfterSearch=function(a){("types"!==a.keep||0===$("li.jstree-checked",this._getContainer()).length)&&this._updateTemplateCount(a.response.getTemplateCount(2651));return $.Deferred().resolve()};
tm.search.ui.type.prototype._onLoadTree=function(a){$("li a",this._getContainer()).each(function(a,g){var b=$(g),f=b.parent();b.append(tm.search.ui.getCountHtml());f.attr("data-type")&&f.attr("id","type-"+f.attr("data-type"))});$("> ul > li",this._getContainer()).each(function(a,g){var b=[];$("li[data-type]",g).each(function(a,c){b.push($(c).attr("data-type"))});$(g).attr("data-types",b.join(" ")).attr("id","type-"+b.join("-"))});this.setSelection(a);this._updateTemplateCount("undefined"==typeof __types_count?
{}:__types_count);$("li a",this._getContainer()).each(function(){var a=$(this).html();$(this).html(a.replace("&nbsp;&nbsp;",""))});this.loaded_.resolve()};tm.search.ui.type.prototype._onChangeSelection=function(){1>this._getSelection(!0).length&&this.reset();bus.pub("type.search",{params:this.getSearchParams(),keep:"types"});return!1};tm.search.ui.type.prototype.getSearchParams=function(){var a=[];this._getSelection().each(function(c,g){a.push($(g).data("type"))});return{types:a}};
tm.search.ui.type.prototype._uncheckType=function(a){"string"===typeof a?this._getContainer().jstree("uncheck_node",$("#"+a)):this._getContainer().jstree("uncheck_node",a)};tm.search.ui.type.prototype.getDomElementById=function(a){return-1===a.indexOf(" ")?$("#type-"+a):$('li[data-types="'+a+'"]')};tm.search.ui.type.prototype._isChecked=function(a){return $(a).hasClass(tm.search.ui.type.CHECKED_CLASS)};
tm.search.ui.type.prototype._updateTemplateCount=function(a){$("li[data-type]",this._getContainer()).each($.proxy(function(c,g){var b=$(g).data("type"),b="undefined"===typeof a[b]?0:a[b];$("span",g).html(tm.search.ui.getCountHtml(b));this._setEnableNode($(g),0<b)},this));$("li[data-types]",this._getContainer()).each($.proxy(function(c,g){for(var b=$(g).attr("data-types").split(" "),f=0,d=0;d<b.length;d++)var j=b[d],f=f+("undefined"===typeof a[j]?0:a[j]);$(g).children("a").children("span").html(tm.search.ui.getCountHtml(f));
this._setEnableNode($(g),0<f)},this));bus.pub("type.update.finished")};tm.search.ui.type.prototype.reset=function(){this._getSelection().each($.proxy(function(a,c){this._uncheckType(c)},this))};tm.search.ui.type.prototype.setSelection=function(a){for(var c=0;c<a.length;c++)this._getContainer().jstree("check_node",$("#type-"+a[c]))};tm.search.ui.type.prototype._getSelection=function(a){var c="li.jstree-leaf.jstree-checked";a&&(c+=":not(."+tm.search.ui.type.DISABLED_CLASS+")");return $(c,this._getContainer())};
tm.search.ui.type.prototype.getTags=function(){var a=[],c=$("li.jstree-checked[data-types]:not(.jstree-hidden)",this._getContainer()),g=$("li[data-types]:not(.jstree-hidden)",this._getContainer()).not(c).find("li.jstree-checked");c.each(function(b,c){var d=new tm.search.ui.tag(tm.nodeUtils.getElementText($(c).children("a")),$(c).attr("id"),"type");a.push(d)});g.each($.proxy(function(b,c){var d={};this._isEnabled(c)||(d.disabled=!0);d=new tm.search.ui.tag(tm.nodeUtils.getElementText($("a",c)),$(c).attr("id"),
"type",d);a.push(d)},this));return a};tm.search.ui.type.prototype.onTagRemove=function(a){"type"===a.getType()&&this._uncheckType(a.getId())};tm.search.ui.type.prototype._isEnabled=function(a){return!$(a).hasClass(tm.search.ui.type.DISABLED_CLASS)};
tm.search.ui.type.prototype._setEnableNode=function(a,c){c?(a.removeClass(tm.search.ui.type.DISABLED_CLASS),a.show().removeClass("jstree-hidden")):this._isChecked(a)?(a.addClass(tm.search.ui.type.DISABLED_CLASS),a.show().removeClass("jstree-hidden")):0===$("."+tm.search.ui.type.CHECKED_CLASS,a).length&&a.hide().addClass("jstree-hidden")};tm.search.ui.type.prototype._getFilterHeaders=function(){return $(".js-slide-down.js-type")};tm.search.ui.topic=function(a,c){this.container_=$(a);this.options_=c||{};this.search_=!0;this.loaded_=$.Deferred()};tm.search.ui.topic.ALL_CLASS="jstree-all";
tm.search.ui.topic.prototype.enterDocument=function(a,c,g){this.getFilterHeaders().click(function(a){a=$(a.target).closest("div");a.toggleClass("inactive").toggleClass("active");a.find("h6 > i").toggleClass("icon-arrow-small-down").toggleClass("icon-arrow-small-up")});var b=jQuery.extend(!0,{},__topics);a&&(b.data[0].data="All Results");this.getOption("showAllCategories",!0)||delete b.data[0];this.tree_=this.container_.jstree({plugins:["json_data","ui"],json_data:b,ui:{select_limit:1,selected_parent_close:!1}});
this.tree_.bind("load_node.jstree",function(){$(this).find("li > a").each(function(){$(this).html($(this).text())})});this.tree_.on("open_node.jstree",$.proxy(this._onOpenNode,this));this.tree_.bind("loaded.jstree ",$.proxy(this.onLoadedTree,this));this.tree_.on("click.jstree",c).on("click.jstree",$.proxy(this._onClickTree,this));this.tree_.on("select_node.jstree",g).on("select_node.jstree",$.proxy(this._onSelectNode,this))};
tm.search.ui.topic.prototype.onLoadedTree=function(){this.setAllHighlight(!0);$(">ul > li li a",this.container_).each(function(a,c){$(c).append(tm.search.ui.getCountHtml())});$("li",this.container_).not(".jstree-leaf").each(function(a,c){var g=[];$(c).attr("data-topic")&&g.push($(c).attr("data-topic"));$("li[data-topic]",c).each(function(a,c){g.push($(c).attr("data-topic"))});$(c).attr("data-topics",g.join(" "))});this.updateTemplateCount("undefined"===typeof __topic_count?{}:__topic_count);$("li a",
this.container_).each(function(){var a=$(this).html();$(this).html(a.replace("&nbsp;",""))});this.loaded_.resolve()};tm.search.ui.topic.prototype._onClickTree=function(a){var c=$(a.target).parent();this.tree_.jstree("close_node",$("li.jstree-open",this.container_).not(c.parents("li").andSelf()));c.is(".jstree-closed")&&c.trigger("open_node",{args:[c]});$(a.target).is("a")&&(c.find(">ul").slideDown(function(){c.removeClass("jstree-closed").addClass("jstree-open")}),c.trigger("open_node",{args:[c]}))};
tm.search.ui.topic.prototype.reset=function(){this.search_=!1;this.tree_.jstree("close_node",$(".jstree-open",this.container_));$(".jstree-clicked",this.container_).removeClass("jstree-clicked");this.tree_.jstree("close_all");this.setAllHighlight(!0);this.search_=!0};
tm.search.ui.topic.prototype._onSelectNode=function(a,c){var g=c.rslt.obj,b;if("category-all"===g.attr("id"))this.reset();else{this._onClickTree({target:g.find("a").first()});if(0<$("li:hidden",this.container_).length||void 0!==this.lastClicked_&&0===$(this.lastClicked_).closest(g).length)b="topics";this.tree_.jstree("close_node",$(".jstree-open",g));$("#category-all").removeClass(tm.search.ui.topic.ALL_CLASS)}this.lastClicked_=g;this.search_&&bus.pub("topic.search",{params:this.getSearchParams(g),
keep:b})};tm.search.ui.topic.prototype.getSearchParams=function(a){var c=[];a&&a.attr("data-topics")?c=a.attr("data-topics").split(" "):a&&a.attr("data-topic")?c.push(a.attr("data-topic")):(a=$(".jstree-clicked",this.container_).closest("li[data-topic]"),0===a.length&&(a=$(".jstree-clicked",this.container_).closest("li[data-topics]")),a.each(function(a,b){var f=$(b).attr("data-topics");f?c=c.concat(f.split(" ")):c.push($(b).attr("data-topic"))}));return{topic:c}};
tm.search.ui.topic.prototype.onAfterSearch=function(a){"topics"!==a.keep&&this.updateTemplateCount(a.response.getTemplateCount(2645));return $.Deferred().resolve()};tm.search.ui.topic.prototype._onOpenNode=function(){var a=this.tree_.siblings(".jstree-open");a.find(">ul").slideUp(function(){a.removeClass("jstree-open").addClass("jstree-closed")})};
tm.search.ui.topic.prototype.updateTemplateCount=function(a){$("li[data-topic]",this.container_).each(function(c,g){var b=$(g).data("topic"),b="undefined"===typeof a[b]?0:a[b];$("span",g).html(tm.search.ui.getCountHtml(b));b?$(g).show():$(g).hide()});$("li[data-topics]",this.container_).each(function(c,g){for(var b=$(g).attr("data-topics").split(" "),f=0,d=0;d<b.length;d++)var j=b[d],f=f+("undefined"===typeof a[j]?0:a[j]);$(g).children("a").children("span").html(tm.search.ui.getCountHtml(f));f?$(g).show():
$(g).hide()});bus.pub("topic.update.finished")};tm.search.ui.topic.prototype.setSelection=function(a){this.search_=!1;var a=a.join(" "),c=$('li[data-topics="'+a+'"]').first();0===c.length&&(c=$('li[data-topic="'+a+'"]').first());this.container_.jstree("open_node",c);this.container_.jstree("select_node",c);this.search_=!0};
tm.search.ui.topic.prototype.getTags=function(){var a=$(".jstree-clicked",this.container_),c=[];if(a.length){var g=a.closest("li"),g=g.attr("data-topics")||g.attr("data-topic");c.push(new tm.search.ui.tag(tm.nodeUtils.getElementText(a),g.replace(/\s+/g,"-"),"topics"))}return c};tm.search.ui.topic.prototype.onTagRemove=function(a){"topics"===a.getType()&&this.reset()};
tm.search.ui.topic.prototype.setAllHighlight=function(a){a?$("#category-all").addClass(tm.search.ui.topic.ALL_CLASS):$("#category-all").removeClass(tm.search.ui.topic.ALL_CLASS);return this};tm.search.ui.topic.prototype.getOption=function(a,c){return"undefined"!==typeof this.options_[a]?this.options_[a]:c};tm.search.ui.topic.prototype.isLoaded=function(){return this.loaded_};tm.search.ui.topic.prototype.getFilterHeaders=function(){return $(".js-slide-down.js-topic")};tm.search.ui.color=function(a){this.container_=$(a);this.loaded_=$.Deferred()};tm.search.ui.color.prototype.messageHtmlId="colors-message-box";tm.search.ui.color.prototype.colorsLimit=3;tm.search.ui.color.prototype._getContainer=function(){return this.container_};
tm.search.ui.color.prototype.enterDocument=function(a){this.getFilterHeaders().click(function(a){a=$(a.target).closest("div");a.toggleClass("inactive").toggleClass("active");a.find("h6 > i").toggleClass("icon-arrow-small-up").toggleClass("icon-arrow-small-down")});this.getFilters().click(a).click($.proxy(this.onClick,this));this.loaded_.resolve()};tm.search.ui.color.prototype.getFilters=function(){return $(".js-color-list a",this._getContainer())};
tm.search.ui.color.prototype.getFilterHeaders=function(){return $(".block-heading",this._getContainer())};tm.search.ui.color.prototype.onAfterSearch=function(){return $.Deferred().resolve()};
tm.search.ui.color.prototype.onClick=function(a){$(a.target);a=$(a.target).closest("a");if(!this.isCheckbox(a)||!this.isEnabled(a))return!1;if(this.isChecked(a))this.uncheck(a),this.hideMessage();else{var c=this.getSearchParams().colors;if($.isArray(c)&&c.length>=this.colorsLimit)return this.showMessage("You may use only "+this.colorsLimit+" colors at the same time"),!1;this.check(a)}a=a.closest("div.js-slide-down.js-color").attr("id");0===this.getSelection().length&&(a="nothing");bus.pub("color.search",
{params:this.getSearchParams(),keep:a});return!1};tm.search.ui.color.prototype.showMessage=function(a){var a='<div class="alert alert-warning fade in"><a aria-hidden="true" href="#" data-dismiss="alert" class="close">\u00d7</a>'+a+"</div>",c=$("#"+this.messageHtmlId);c.length?c.html(a):$("#colors-list .block-content").prepend('<div id="'+this.messageHtmlId+'">'+a+"</div>")};tm.search.ui.color.prototype.hideMessage=function(){var a=$("#"+this.messageHtmlId);a.length&&a.remove()};
tm.search.ui.color.prototype.getCheckboxByValueId=function(a){return $('li[id="'+a+'"]')};tm.search.ui.color.prototype.getSearchParams=function(){var a=[];this._getContainer().find(".selected").each(function(c,g){a.push(tm.stringUtils.noPrefix($(g).closest("li").attr("id")))});return{colors:a}};tm.search.ui.color.prototype.isCheckbox=function(a){return a.is("a")};tm.search.ui.color.prototype.isChecked=function(a){return a.closest("li").is(".selected")};tm.search.ui.color.prototype.isEnabled=function(){return!0};
tm.search.ui.color.prototype.uncheck=function(a){a.closest("li").removeClass("selected");if(0===this.getSelection().length&&0!==this.getSelection(!0).length)for(var c=this.getSelection(!0),g=0;g<c.length;g++)a=c.eq(g),this.uncheck(a)};tm.search.ui.color.prototype.check=function(a){if(0===a.length)return!1;if(!this.isCheckbox(a))throw Error("Not a checkbox");a.closest("li").addClass("selected");return!0};tm.search.ui.color.prototype.getSelection=function(){return $(".selected",this._getContainer())};
tm.search.ui.color.prototype.getCheckboxId=function(a){if(!this.isCheckbox(a))throw Error("Type mismatch");return tm.stringUtils.noPrefix(a.closest("li").attr("id"))};tm.search.ui.color.prototype.reset=function(){for(var a=this.getSelection(!0),c=0;c<a.length;c++)checkbox=a.eq(c),this.uncheck(checkbox)};
tm.search.ui.color.prototype.getTags=function(){for(var a=[],c=this.getSelection(!0),g=0;g<c.length;g++){checkbox=c.eq(g);var b={};this.isEnabled(checkbox)||(b.disabled=!0);a.push(new tm.search.ui.tag($("a",checkbox).attr("title"),checkbox.closest("li").attr("id"),"color",b))}return a};tm.search.ui.color.prototype.onTagRemove=function(a){"color"===a.getType()&&this.uncheck($("#"+a.getId()))};tm.search.ui.color.prototype.setEnabledNode=function(){};tm.search.ui.color.prototype.isLoaded=function(){return this.loaded_};
tm.search.ui.color.prototype.setSelection=function(a){var c=/^\w+$/,g;for(g in a)c.test(g)&&this.check($("#color-"+a[g]).find("div.check"))};tm.search.ui.pager=function(a){this.showmore_button_=$(".js-btn-more");this.bottom_=$(".js-pager-bottom");this.result_block_=$(".search-listing");this.getPage=a;tm.search.ui.pager.singleton_=this};tm.search.ui.pager.EVENT_NEXTPAGE="pager.nextpage";tm.search.ui.pager.singleton_;tm.search.ui.pager.prototype.getPage;tm.search.ui.pager.prototype.showmore_button_;tm.search.ui.pager.prototype.bottom_;tm.search.ui.pager.prototype.result_block_;
tm.search.ui.pager.prototype.enterDocument=function(){this._disableShowMoreButton();this.showmore_button_.click(function(){bus.pub(tm.search.ui.pager.EVENT_NEXTPAGE);return!1});this.bottom_.appear().on("appear",$.proxy(this._autoNextPage,this));$.force_appear()};
tm.search.ui.pager.prototype.onAfterSearch=function(a){var c=a;"undefined"!==typeof a.response&&(c=a.response);this.hideProgressBar();this._setMorePages(0<c.getNextCount());0===c.getNextCount()?this._disableShowMoreButton():3==(c.getPageNumber()-this.result_block_.data("initialpage"))%4&&this._enableShowMoreButton();return $.Deferred().resolve()};tm.search.ui.pager.prototype.reset=function(){this._disableShowMoreButton();$(".pagination_divider").remove();this.result_block_.data("initialpage",1)};
tm.search.ui.pager.prototype.showProgressBar=function(){this._disableShowMoreButton();$('<div class="pager_spinner"><span class="spinner"></span></div>').appendTo(this.result_block_)};tm.search.ui.pager.prototype.hideProgressBar=function(){$(".pager_spinner").remove()};tm.search.ui.pager.prototype._autoNextPage=function(){!1!==this._isThereMorePages()&&3!=(this.getPage()-this.result_block_.data("initialpage"))%4&&bus.pub(tm.search.ui.pager.EVENT_NEXTPAGE)};
tm.search.ui.pager.prototype._isThereMorePages=function(){return this.bottom_.hasClass("js-page-bottom-visible")};tm.search.ui.pager.prototype._setMorePages=function(a){a?this.bottom_.addClass("js-page-bottom-visible"):this.bottom_.removeClass("js-page-bottom-visible")};tm.search.ui.pager.prototype._enableShowMoreButton=function(){this.showmore_button_.show().parent().show()};tm.search.ui.pager.prototype._disableShowMoreButton=function(){this.showmore_button_.parent().hide()};tm.search.ui.pagergage=function(){};tm.search.ui.pagergage.EVENT_PAGEUPDATE="pager.pageupdate";tm.search.ui.pagergage._page;tm.search.ui.pagergage.idToInteger=function(a){return"string"!==goog.typeOf(a)?0:parseInt(a.replace(/\D/g,""))};tm.search.ui.pagergage.prototype.enterDocument=function(){$(window).scroll($.proxy(this._onScroll,this))};
tm.search.ui.pagergage.prototype._onScroll=function(){var a=0;$("footer:appeared").length&&this._getLastPage()?a=this._getLastPage():(a=$("div.page_divider:appeared"),a=a.length?this._getVisibleDividerPage(a):this._getMajorityPage($("li.thumbnail:appeared")));"undefined"===goog.typeOf(this._page)&&(this._page=a);this._page!==a&&(this._page=a,bus.pub(tm.search.ui.pagergage.EVENT_PAGEUPDATE,a))};
tm.search.ui.pagergage.prototype._getLastPage=function(){var a=$("div.page_divider");if(0===a.length)return 0;arrayVariable=[];arrayVariable=a.map(function(){return tm.search.ui.pagergage.idToInteger($(this).attr("id"))});return arrayVariable.length?Math.max.apply(Math,arrayVariable):1};
tm.search.ui.pagergage.prototype._getVisibleDividerPage=function(a){if(1===a.length){var a=a[0],c=tm.search.ui.pagergage.idToInteger($(a).attr("id"));return 1===c?1:a.getBoundingClientRect().top<$(window).height()/2?c:c-1}};
tm.search.ui.pagergage.prototype._getMajorityPage=function(a){a=a.map(function(a,g){var b=$(g).prevAll("div.page_divider");if(b.length)return tm.search.ui.pagergage.idToInteger($(b[0]).attr("id"));if(b=tm.search.ui.pagergage.idToInteger($("div.data-initialpage").data("id")))return b;b=$(".pagination_divider");return b.length&&(b=parseInt(b.parent().data("initialpage")))?b:1});return a.length?a[0]:1};tm.search.ui.tools=function(){};tm.search.ui.tools.prototype.enterDocument=function(){$(this._getWithinCheckbox()).on("click",$.proxy(function(){this._updatePlaceholder()},this))};tm.search.ui.tools.prototype._getContainer=function(){return $("#js-searchForm")};tm.search.ui.tools.prototype.getKeyword=function(){return this._getKeywordControl().val()};tm.search.ui.tools.prototype.isWithin=function(){return this._getWithinCheckbox().is(":not(:checked):visible")};
tm.search.ui.tools.prototype.setToolboxVisible=function(a){a?this._getToolBox().show():this._getToolBox().hide();this._updatePlaceholder()};tm.search.ui.tools.prototype._getWithinCheckbox=function(){return this._getContainer().find("#search-properties-status")};tm.search.ui.tools.prototype._getToolBox=function(){return this._getContainer().find(".checkboxes")};tm.search.ui.tools.prototype._getKeywordControl=function(){return this._getContainer().find('input[name="keywords"]')};
tm.search.ui.tools.prototype._updatePlaceholder=function(){var a={};this.isWithin()&&(a.isSearchPage=!0);return this._getKeywordControl().attr("placeholder",Twig.render(search_placeholder,a))};(function(){if(!jQuery||!jQuery.jstree){var a=!1,c=!1,g=!1,b=jQuery;b.vakata={};b.vakata.css={get_css:function(a,b,c){var a=a.toLowerCase(),d=c.cssRules||c.rules,f=0;do{if(d.length&&f>d.length+5)break;if(d[f].selectorText&&d[f].selectorText.toLowerCase()==a)return!0===b?(c.removeRule&&c.removeRule(f),c.deleteRule&&c.deleteRule(f),!0):d[f]}while(d[++f]);return!1},add_css:function(a,c){if(b.jstree.css.get_css(a,!1,c))return!1;c.insertRule?c.insertRule(a+" { }",0):c.addRule(a,null,0);return b.vakata.css.get_css(a)},
remove_css:function(a,c){return b.vakata.css.get_css(a,!0,c)},add_sheet:function(a){var c=!1,d=!0;if(a.str)return a.title&&(c=b("style[id='"+a.title+"-stylesheet']")[0]),c?d=!1:(c=document.createElement("style"),c.setAttribute("type","text/css"),a.title&&c.setAttribute("id",a.title+"-stylesheet")),c.styleSheet?d?(document.getElementsByTagName("head")[0].appendChild(c),c.styleSheet.cssText=a.str):c.styleSheet.cssText=c.styleSheet.cssText+" "+a.str:(c.appendChild(document.createTextNode(a.str)),document.getElementsByTagName("head")[0].appendChild(c)),
c.sheet||c.styleSheet;if(a.url)if(document.createStyleSheet)try{document.createStyleSheet(a.url)}catch(f){}else return c=document.createElement("link"),c.rel="stylesheet",c.type="text/css",c.media="all",c.href=a.url,document.getElementsByTagName("head")[0].appendChild(c),c.styleSheet}};var f=[],d=-1,j={},p={};b.fn.jstree=function(a){var c="string"==typeof a,d=Array.prototype.slice.call(arguments,1),g=this;if(c){if("_"==a.substring(0,1))return g;this.each(function(){var c=f[b.data(this,"jstree_instance_id")],
c=c&&b.isFunction(c[a])?c[a].apply(c,d):c;if("undefined"!==typeof c&&(0===a.indexOf("is_")||!0!==c&&!1!==c))return g=c,!1})}else this.each(function(){var c=b.data(this,"jstree_instance_id"),g=[],h=a?b.extend({},!0,a):{},E=b(this),F=!1,m=[],g=g.concat(d);E.data("jstree")&&g.push(E.data("jstree"));h=g.length?b.extend.apply(null,[!0,h].concat(g)):h;"undefined"!==typeof c&&f[c]&&f[c].destroy();c=parseInt(f.push({}),10)-1;b.data(this,"jstree_instance_id",c);h.plugins=b.isArray(h.plugins)?h.plugins:b.jstree.defaults.plugins.slice();
h.plugins.unshift("core");h.plugins=h.plugins.sort().join(",,").replace(/(,|^)([^,]+)(,,\2)+(,|$)/g,"$1$2$4").replace(/,,+/g,",").replace(/,$/,"").split(",");F=b.extend(!0,{},b.jstree.defaults,h);F.plugins=h.plugins;b.each(j,function(a){-1===b.inArray(a,F.plugins)?(F[a]=null,delete F[a]):m.push(a)});F.plugins=m;f[c]=new b.jstree._instance(c,b(this).addClass("jstree jstree-"+c),F);b.each(f[c]._get_settings().plugins,function(a,b){f[c].data[b]={}});b.each(f[c]._get_settings().plugins,function(a,b){j[b]&&
j[b].__init.apply(f[c])});setTimeout(function(){f[c]&&f[c].init()},0)});return g};b.jstree={defaults:{plugins:[]},_focused:function(){return f[d]||null},_reference:function(a){if(f[a])return f[a];var c=b(a);!c.length&&"string"===typeof a&&(c=b("#"+a));return!c.length?null:f[c.closest(".jstree").data("jstree_instance_id")]||null},_instance:function(a,c,d){this.data={core:{}};this.get_settings=function(){return b.extend(!0,{},d)};this._get_settings=function(){return d};this.get_index=function(){return a};
this.get_container=function(){return c};this.get_container_ul=function(){return c.children("ul:eq(0)")};this._set_settings=function(a){d=b.extend(!0,{},d,a)}},_fn:{},plugin:function(a,c){c=b.extend({},{__init:b.noop,__destroy:b.noop,_fn:{},defaults:!1},c);j[a]=c;b.jstree.defaults[a]=c.defaults;b.each(c._fn,function(c,d){d.plugin=a;d.old=b.jstree._fn[c];b.jstree._fn[c]=function(){var a,k=d,f=Array.prototype.slice.call(arguments);a=new b.Event("before.jstree");var g=!1;if(!(!0===this.data.core.locked&&
"unlock"!==c&&"is_locked"!==c)){do{if(k&&k.plugin&&-1!==b.inArray(k.plugin,this._get_settings().plugins))break;k=k.old}while(k);if(k){if(0===c.indexOf("_"))a=k.apply(this,f);else{a=this.get_container().triggerHandler(a,{func:c,inst:this,args:f,plugin:k.plugin});if(!1===a)return;"undefined"!==typeof a&&(f=a);a=k.apply(b.extend({},this,{__callback:function(a){this.get_container().triggerHandler(c+".jstree",{inst:this,args:f,rslt:a,rlbk:g})},__rollback:function(){return g=this.get_rollback()},__call_old:function(a){return k.old.apply(this,
a?Array.prototype.slice.call(arguments,1):f)}}),f)}return a}}};b.jstree._fn[c].old=d.old;b.jstree._fn[c].plugin=a})},rollback:function(a){a&&(b.isArray(a)||(a=[a]),b.each(a,function(a,b){f[b.i].set_rollback(b.h,b.d)}))}};b.jstree._fn=b.jstree._instance.prototype={};b(function(){var d=navigator.userAgent.toLowerCase(),f=(d.match(/.+?(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],h=".jstree ul, .jstree li { display:block; margin:0 0 0 0; padding:0 0 0 0; list-style-type:none; } .jstree li { display:block; min-height:18px; line-height:18px; white-space:nowrap; margin-left:18px; min-width:18px; } .jstree-rtl li { margin-left:0; margin-right:18px; } .jstree > ul > li { margin-left:0px; } .jstree-rtl > ul > li { margin-right:0px; } .jstree ins { display:inline-block; text-decoration:none; width:18px; height:18px; margin:0 0 0 0; padding:0; } .jstree a { display:inline-block; line-height:16px; height:16px; color:black; white-space:nowrap; text-decoration:none; padding:1px 2px; margin:0; } .jstree a:focus { outline: none; } .jstree a > ins { height:16px; width:16px; } .jstree a > .jstree-icon { margin-right:3px; } .jstree-rtl a > .jstree-icon { margin-left:3px; margin-right:0; } li.jstree-open > ul { display:block; } li.jstree-closed > ul { display:none; } ";
if(/msie/.test(d)&&6==parseInt(f,10)){a=!0;try{document.execCommand("BackgroundImageCache",!1,!0)}catch(j){}h+=".jstree li { height:18px; margin-left:0; margin-right:0; } .jstree li li { margin-left:18px; } .jstree-rtl li li { margin-left:0px; margin-right:18px; } li.jstree-open ul { display:block; } li.jstree-closed ul { display:none !important; } .jstree li a { display:inline; border-width:0 !important; padding:0px 2px !important; } .jstree li a ins { height:16px; width:16px; margin-right:3px; } .jstree-rtl li a ins { margin-right:0px; margin-left:3px; } "}/msie/.test(d)&&
7==parseInt(f,10)&&(c=!0,h+=".jstree li a { border-width:0 !important; padding:0px 2px !important; } ");!/compatible/.test(d)&&(/mozilla/.test(d)&&1.9>parseFloat(f,10))&&(g=!0,h+=".jstree ins { display:-moz-inline-box; } .jstree li { line-height:12px; } .jstree a { display:-moz-inline-box; } .jstree .jstree-no-icons .jstree-checkbox { display:-moz-inline-stack !important; } ");b.vakata.css.add_sheet({str:h,title:"jstree"})});b.jstree.plugin("core",{__init:function(){this.data.core.locked=!1;this.data.core.to_open=
this.get_settings().core.initially_open;this.data.core.to_load=this.get_settings().core.initially_load},defaults:{html_titles:!1,animation:500,initially_open:[],initially_load:[],open_parents:!0,notify_plugins:!0,rtl:!1,load_open:!1,strings:{loading:"Loading ...",new_node:"New node",multiple_selection:"Multiple selection"}},_fn:{init:function(){this.set_focus();this._get_settings().core.rtl&&this.get_container().addClass("jstree-rtl").css("direction","rtl");this.get_container().html("<ul><li class='jstree-last jstree-leaf'><ins>&#160;</ins><a class='jstree-loading' href='#'><ins class='jstree-icon'>&#160;</ins>"+
this._get_string("loading")+"</a></li></ul>");this.data.core.li_height=this.get_container_ul().find("li.jstree-closed, li.jstree-leaf").eq(0).height()||18;this.get_container().delegate("li > ins","click.jstree",b.proxy(function(a){a=b(a.target);this.toggle_node(a)},this)).bind("mousedown.jstree",b.proxy(function(){this.set_focus()},this)).bind("dblclick.jstree",function(){var a;if(document.selection&&document.selection.empty)document.selection.empty();else if(window.getSelection){a=window.getSelection();
try{a.removeAllRanges(),a.collapse()}catch(b){}}});this._get_settings().core.notify_plugins&&this.get_container().bind("load_node.jstree",b.proxy(function(a,c){var d=this._get_node(c.rslt.obj),f=this;-1===d&&(d=this.get_container_ul());d.length&&d.find("li").each(function(){var a=b(this);a.data("jstree")&&b.each(a.data("jstree"),function(c,d){f.data[c]&&b.isFunction(f["_"+c+"_notify"])&&f["_"+c+"_notify"].call(f,a,d)})})},this));this._get_settings().core.load_open&&this.get_container().bind("load_node.jstree",
b.proxy(function(a,c){var d=this._get_node(c.rslt.obj),f=this;-1===d&&(d=this.get_container_ul());d.length&&d.find("li.jstree-open:not(:has(ul))").each(function(){f.load_node(this,b.noop,b.noop)})},this));this.__callback();this.load_node(-1,function(){this.loaded();this.reload_nodes()})},destroy:function(){var a,c=this.get_index(),g=this._get_settings(),h=this;b.each(g.plugins,function(a,b){try{j[b].__destroy.apply(h)}catch(c){}});this.__callback();if(this.is_focused())for(a in f)if(f.hasOwnProperty(a)&&
a!=c){f[a].set_focus();break}c===d&&(d=-1);this.get_container().unbind(".jstree").undelegate(".jstree").removeData("jstree_instance_id").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/ig,"")});b(document).unbind(".jstree-"+c).undelegate(".jstree-"+c);f[c]=null;delete f[c]},_core_notify:function(a,b){b.opened&&this.open_node(a,!1,!0)},lock:function(){this.data.core.locked=!0;this.get_container().children("ul").addClass("jstree-locked").css("opacity",
"0.7");this.__callback({})},unlock:function(){this.data.core.locked=!1;this.get_container().children("ul").removeClass("jstree-locked").css("opacity","1");this.__callback({})},is_locked:function(){return this.data.core.locked},save_opened:function(){var a=this;this.data.core.to_open=[];this.get_container_ul().find("li.jstree-open").each(function(){this.id&&a.data.core.to_open.push("#"+this.id.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,
"\\.").replace(/\:/g,"\\:"))});this.__callback(a.data.core.to_open)},save_loaded:function(){},reload_nodes:function(a){var c=this,d=!0,f=[],g=[];a||(this.data.core.reopen=!1,this.data.core.refreshing=!0,this.data.core.to_open=b.map(b.makeArray(this.data.core.to_open),function(a){return"#"+a.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")}),this.data.core.to_load=b.map(b.makeArray(this.data.core.to_load),function(a){return"#"+
a.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")}),this.data.core.to_open.length&&(this.data.core.to_load=this.data.core.to_load.concat(this.data.core.to_open)));this.data.core.to_load.length&&(b.each(this.data.core.to_load,function(a,c){if("#"==c)return!0;b(c).length?f.push(c):g.push(c)}),f.length&&(this.data.core.to_load=g,b.each(f,function(a,b){c._is_loaded(b)||(c.load_node(b,function(){c.reload_nodes(!0)},function(){c.reload_nodes(!0)}),
d=!1)})));this.data.core.to_open.length&&b.each(this.data.core.to_open,function(a,b){c.open_node(b,!1,!0)});d&&(this.data.core.reopen&&clearTimeout(this.data.core.reopen),this.data.core.reopen=setTimeout(function(){c.__callback({},c)},50),this.data.core.refreshing=!1,this.reopen())},reopen:function(){var a=this;this.data.core.to_open.length&&b.each(this.data.core.to_open,function(b,c){a.open_node(c,!1,!0)});this.__callback({})},refresh:function(a){var b=this;this.save_opened();a||(a=-1);(a=this._get_node(a))||
(a=-1);-1!==a?a.children("UL").remove():this.get_container_ul().empty();this.load_node(a,function(){b.__callback({obj:a});b.reload_nodes()})},loaded:function(){this.__callback()},set_focus:function(){if(!this.is_focused()){var a=b.jstree._focused();a&&a.unset_focus();this.get_container().addClass("jstree-focused");d=this.get_index();this.__callback()}},is_focused:function(){return d==this.get_index()},unset_focus:function(){this.is_focused()&&(this.get_container().removeClass("jstree-focused"),d=
-1);this.__callback()},_get_node:function(a){var c=b(a,this.get_container());if(c.is(".jstree")||-1==a)return-1;c=c.closest("li",this.get_container());return c.length?c:!1},_get_next:function(a,b){a=this._get_node(a);return-1===a?this.get_container().find("> ul > li:first-child"):!a.length?!1:b?0<a.nextAll("li").size()?a.nextAll("li:eq(0)"):!1:a.hasClass("jstree-open")?a.find("li:eq(0)"):0<a.nextAll("li").size()?a.nextAll("li:eq(0)"):a.parentsUntil(".jstree","li").next("li").eq(0)},_get_prev:function(a,
b){a=this._get_node(a);if(-1===a)return this.get_container().find("> ul > li:last-child");if(!a.length)return!1;if(b)return 0<a.prevAll("li").length?a.prevAll("li:eq(0)"):!1;if(a.prev("li").length){for(a=a.prev("li").eq(0);a.hasClass("jstree-open");)a=a.children("ul:eq(0)").children("li:last");return a}var c=a.parentsUntil(".jstree","li:eq(0)");return c.length?c:!1},_get_parent:function(a){a=this._get_node(a);if(-1==a||!a.length)return!1;a=a.parentsUntil(".jstree","li:eq(0)");return a.length?a:-1},
_get_children:function(a){a=this._get_node(a);return-1===a?this.get_container().children("ul:eq(0)").children("li"):!a.length?!1:a.children("ul:eq(0)").children("li")},get_path:function(a,b){var c=[],d=this,a=this._get_node(a);if(-1===a||!a||!a.length)return!1;a.parentsUntil(".jstree","li").each(function(){c.push(b?this.id:d.get_text(this))});c.reverse();c.push(b?a.attr("id"):this.get_text(a));return c},_get_string:function(a){return this._get_settings().core.strings[a]||a},is_open:function(a){return(a=
this._get_node(a))&&-1!==a&&a.hasClass("jstree-open")},is_closed:function(a){return(a=this._get_node(a))&&-1!==a&&a.hasClass("jstree-closed")},is_leaf:function(a){return(a=this._get_node(a))&&-1!==a&&a.hasClass("jstree-leaf")},correct_state:function(a){a=this._get_node(a);if(!a||-1===a)return!1;a.removeClass("jstree-closed jstree-open").addClass("jstree-leaf").children("ul").remove();this.__callback({obj:a})},open_node:function(b,c,d){b=this._get_node(b);if(!b.length)return!1;if(!b.hasClass("jstree-closed"))return c&&
c.call(),!1;var f=d||a?0:this._get_settings().core.animation,g=this;this._is_loaded(b)?(this._get_settings().core.open_parents&&b.parentsUntil(".jstree",".jstree-closed").each(function(){g.open_node(this,!1,!0)}),f&&b.children("ul").css("display","none"),b.removeClass("jstree-closed").addClass("jstree-open").children("a").removeClass("jstree-loading"),f?b.children("ul").stop(!0,!0).slideDown(f,function(){this.style.display="";g.after_open(b)}):g.after_open(b),this.__callback({obj:b}),c&&c.call()):
(b.children("a").addClass("jstree-loading"),this.load_node(b,function(){g.open_node(b,c,d)},c))},after_open:function(a){this.__callback({obj:a})},close_node:function(b,c){var b=this._get_node(b),d=c||a?0:this._get_settings().core.animation,f=this;if(!b.length||!b.hasClass("jstree-open"))return!1;d&&b.children("ul").attr("style","display:block !important");b.removeClass("jstree-open").addClass("jstree-closed");d?b.children("ul").stop(!0,!0).slideUp(d,function(){this.style.display="";f.after_close(b)}):
f.after_close(b);this.__callback({obj:b})},after_close:function(a){this.__callback({obj:a})},toggle_node:function(a){a=this._get_node(a);if(a.hasClass("jstree-closed"))return this.open_node(a);if(a.hasClass("jstree-open"))return this.close_node(a)},open_all:function(a,b,c){a=a?this._get_node(a):-1;if(!a||-1===a)a=this.get_container_ul();c?a=a.find("li.jstree-closed"):(c=a,a=a.is(".jstree-closed")?a.find("li.jstree-closed").addBack():a.find("li.jstree-closed"));var d=this;a.each(function(){var a=this;
d._is_loaded(this)?d.open_node(this,!1,!b):d.open_node(this,function(){d.open_all(a,b,c)},!b)});0===c.find("li.jstree-closed").length&&this.__callback({obj:c})},close_all:function(a,b){var c=this,a=a?this._get_node(a):this.get_container();if(!a||-1===a)a=this.get_container_ul();a.find("li.jstree-open").addBack().each(function(){c.close_node(this,!b)});this.__callback({obj:a})},clean_node:function(a){a=a&&-1!=a?b(a):this.get_container_ul();a=a.is("li")?a.find("li").addBack():a.find("li");a.removeClass("jstree-last").filter("li:last-child").addClass("jstree-last").end().filter(":has(li)").not(".jstree-open").removeClass("jstree-leaf").addClass("jstree-closed");
a.not(".jstree-open, .jstree-closed").addClass("jstree-leaf").children("ul").remove();this.__callback({obj:a})},get_rollback:function(){this.__callback();return{i:this.get_index(),h:this.get_container().children("ul").clone(!0),d:this.data}},set_rollback:function(a,b){this.get_container().empty().append(a);this.data=b;this.__callback()},load_node:function(a){this.__callback({obj:a})},_is_loaded:function(){return!0},create_node:function(a,c,d,f,g){var a=this._get_node(a),c="undefined"===typeof c?"last":
c,h=b("<li />"),j=this._get_settings().core,m;if(-1!==a&&!a.length)return!1;if(!g&&!this._is_loaded(a))return this.load_node(a,function(){this.create_node(a,c,d,f,!0)}),!1;this.__rollback();"string"===typeof d&&(d={data:d});d||(d={});d.attr&&h.attr(d.attr);d.metadata&&h.data(d.metadata);d.state&&h.addClass("jstree-"+d.state);d.data||(d.data=this._get_string("new_node"));b.isArray(d.data)||(m=d.data,d.data=[],d.data.push(m));b.each(d.data,function(a,c){m=b("<a />");b.isFunction(c)&&(c=c.call(this,
d));if("string"==typeof c)m.attr("href","#")[j.html_titles?"html":"text"](c);else c.attr||(c.attr={}),c.attr.href||(c.attr.href="#"),m.attr(c.attr)[j.html_titles?"html":"text"](c.title),c.language&&m.addClass(c.language);m.prepend("<ins class='jstree-icon'>&#160;</ins>");!c.icon&&d.icon&&(c.icon=d.icon);c.icon&&(-1===c.icon.indexOf("/")?m.children("ins").addClass(c.icon):m.children("ins").css("background","url('"+c.icon+"') center center no-repeat"));h.append(m)});h.prepend("<ins class='jstree-icon'>&#160;</ins>");
-1===a&&(a=this.get_container(),"before"===c&&(c="first"),"after"===c&&(c="last"));switch(c){case "before":a.before(h);m=this._get_parent(a);break;case "after":a.after(h);m=this._get_parent(a);break;case "inside":case "first":a.children("ul").length||a.append("<ul />");a.children("ul").prepend(h);m=a;break;case "last":a.children("ul").length||a.append("<ul />");a.children("ul").append(h);m=a;break;default:a.children("ul").length||a.append("<ul />"),c||(c=0),m=a.children("ul").children("li").eq(c),
m.length?m.before(h):a.children("ul").append(h),m=a}if(-1===m||m.get(0)===this.get_container().get(0))m=-1;this.clean_node(m);this.__callback({obj:h,parent:m});f&&f.call(this,h);return h},get_text:function(a){a=this._get_node(a);if(!a.length)return!1;var b=this._get_settings().core.html_titles,a=a.children("a:eq(0)");if(b)return a=a.clone(),a.children("INS").remove(),a.html();a=a.contents().filter(function(){return 3==this.nodeType})[0];return a.nodeValue},set_text:function(a,b){a=this._get_node(a);
if(!a.length)return!1;a=a.children("a:eq(0)");if(this._get_settings().core.html_titles){var c=a.children("INS").clone();a.html(b).prepend(c);this.__callback({obj:a,name:b});return!0}a=a.contents().filter(function(){return 3==this.nodeType})[0];this.__callback({obj:a,name:b});return a.nodeValue=b},rename_node:function(a,b){a=this._get_node(a);this.__rollback();a&&(a.length&&this.set_text.apply(this,Array.prototype.slice.call(arguments)))&&this.__callback({obj:a,name:b})},delete_node:function(a){a=
this._get_node(a);if(!a.length)return!1;this.__rollback();var c=this._get_parent(a),d=b([]),f=this;a.each(function(){d=d.add(f._get_prev(this))});a=a.detach();-1!==c&&0===c.find("> ul > li").length&&c.removeClass("jstree-open jstree-closed").addClass("jstree-leaf");this.clean_node(c);this.__callback({obj:a,prev:d,parent:c});return a},prepare_move:function(a,c,d,f,g){var h={};h.ot=b.jstree._reference(a)||this;h.o=h.ot._get_node(a);h.r=-1===c?-1:this._get_node(c);h.p="undefined"===typeof d||!1===d?
"last":d;if(g||!p.o||!(p.o[0]===h.o[0]&&p.r[0]===h.r[0]&&p.p===h.p)){h.ot=b.jstree._reference(h.o)||this;h.rt=b.jstree._reference(h.r)||this;if(-1===h.r||!h.r)switch(h.cr=-1,h.p){case "first":case "before":case "inside":h.cp=0;break;case "after":case "last":h.cp=h.rt.get_container().find(" > ul > li").length;break;default:h.cp=h.p}else{if(!/^(before|after)$/.test(h.p)&&!this._is_loaded(h.r))return this.load_node(h.r,function(){this.prepare_move(a,c,d,f,!0)});switch(h.p){case "before":h.cp=h.r.index();
h.cr=h.rt._get_parent(h.r);break;case "after":h.cp=h.r.index()+1;h.cr=h.rt._get_parent(h.r);break;case "inside":case "first":h.cp=0;h.cr=h.r;break;case "last":h.cp=h.r.find(" > ul > li").length;h.cr=h.r;break;default:h.cp=h.p,h.cr=h.r}}h.np=-1==h.cr?h.rt.get_container():h.cr;h.op=h.ot._get_parent(h.o);h.cop=h.o.index();-1===h.op&&(h.op=h.ot?h.ot.get_container():this.get_container());!/^(before|after)$/.test(h.p)&&(h.op&&h.np&&h.op[0]===h.np[0]&&h.o.index()<h.cp)&&h.cp++;h.or=h.np.find(" > ul > li:nth-child("+
(h.cp+1)+")");p=h}this.__callback(p);f&&f.call(this,p)},check_move:function(){var a=p,b=!0,c=-1===a.r?this.get_container():a.r;if(!a||!a.o||a.or[0]===a.o[0])return!1;if(!a.cy){if(a.op&&a.np&&a.op[0]===a.np[0]&&a.cp-1===a.o.index())return!1;a.o.each(function(){if(-1!==c.parentsUntil(".jstree","li").addBack().index(this))return b=!1})}return b},move_node:function(a,c,d,f,g,h){if(!g)return this.prepare_move(a,c,d,function(a){this.move_node(a,!1,!1,f,!0,h)});f&&(p.cy=!0);if(!h&&!this.check_move())return!1;
this.__rollback();c=!1;f?(c=a.o.clone(!0),c.find("*[id]").addBack().each(function(){this.id&&(this.id="copy_"+this.id)})):c=a.o;a.or.length?a.or.before(c):(a.np.children("ul").length||b("<ul />").appendTo(a.np),a.np.children("ul:eq(0)").append(c));try{a.ot.clean_node(a.op),a.rt.clean_node(a.np),a.op.find("> ul > li").length||a.op.removeClass("jstree-open jstree-closed").addClass("jstree-leaf").children("ul").remove()}catch(j){}f&&(p.cy=!0,p.oc=c);this.__callback(p);return p},_get_move:function(){return p}}});
var m=jQuery,q,t,n;m(function(){/msie/.test(navigator.userAgent.toLowerCase())?(t=m('<textarea cols="10" rows="2"></textarea>').css({position:"absolute",top:-1E3,left:0}).appendTo("body"),n=m('<textarea cols="10" rows="2" style="overflow: hidden;"></textarea>').css({position:"absolute",top:-1E3,left:0}).appendTo("body"),q=t.width()-n.width(),t.add(n).remove()):(t=m("<div />").css({width:100,height:100,overflow:"auto",position:"absolute",top:-1E3,left:0}).prependTo("body").append("<div />").find("div").css({width:"100%",
height:200}),q=100-t.width(),t.parent().remove())});m.jstree.plugin("ui",{__init:function(){this.data.ui.selected=m();this.data.ui.last_selected=!1;this.data.ui.hovered=null;this.data.ui.to_select=this.get_settings().ui.initially_select;this.get_container().delegate("a","click.jstree",m.proxy(function(a){a.preventDefault();a.currentTarget.blur();m(a.currentTarget).hasClass("jstree-loading")||this.select_node(a.currentTarget,!0,a)},this)).delegate("a","mouseenter.jstree",m.proxy(function(a){m(a.currentTarget).hasClass("jstree-loading")||
this.hover_node(a.target)},this)).delegate("a","mouseleave.jstree",m.proxy(function(a){m(a.currentTarget).hasClass("jstree-loading")||this.dehover_node(a.target)},this)).bind("reopen.jstree",m.proxy(function(){this.reselect()},this)).bind("get_rollback.jstree",m.proxy(function(){this.dehover_node();this.save_selected()},this)).bind("set_rollback.jstree",m.proxy(function(){this.reselect()},this)).bind("close_node.jstree",m.proxy(function(a,b){var c=this._get_settings().ui,d=this._get_node(b.rslt.obj),
f=d&&d.length?d.children("ul").find("a.jstree-clicked"):m(),g=this;!1!==c.selected_parent_close&&f.length&&f.each(function(){g.deselect_node(this);"select_parent"===c.selected_parent_close&&g.select_node(d)})},this)).bind("delete_node.jstree",m.proxy(function(a,b){var c=this._get_settings().ui.select_prev_on_delete,d=this._get_node(b.rslt.obj),d=d&&d.length?d.find("a.jstree-clicked"):[],f=this;d.each(function(){f.deselect_node(this)});c&&d.length&&b.rslt.prev.each(function(){if(this.parentNode)return f.select_node(this),
!1})},this)).bind("move_node.jstree",m.proxy(function(a,b){b.rslt.cy&&b.rslt.oc.find("a.jstree-clicked").removeClass("jstree-clicked")},this))},defaults:{select_limit:-1,select_multiple_modifier:"ctrl",select_range_modifier:"shift",selected_parent_close:"select_parent",selected_parent_open:!0,select_prev_on_delete:!0,disable_selecting_children:!1,initially_select:[]},_fn:{_get_node:function(a,b){if("undefined"===typeof a||null===a)return b?this.data.ui.selected:this.data.ui.last_selected;var c=m(a,
this.get_container());if(c.is(".jstree")||-1==a)return-1;c=c.closest("li",this.get_container());return c.length?c:!1},_ui_notify:function(a,b){b.selected&&this.select_node(a,!1)},save_selected:function(){var a=this;this.data.ui.to_select=[];this.data.ui.selected.each(function(){this.id&&a.data.ui.to_select.push("#"+this.id.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:"))});this.__callback(this.data.ui.to_select)},
reselect:function(){var a=this,b=this.data.ui.to_select,b=m.map(m.makeArray(b),function(a){return"#"+a.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")});m.each(b,function(b,c){c&&"#"!==c&&a.select_node(c)});this.data.ui.selected=this.data.ui.selected.filter(function(){return this.parentNode});this.__callback()},refresh:function(){this.save_selected();return this.__call_old()},hover_node:function(a){a=this._get_node(a);
if(!a.length)return!1;a.hasClass("jstree-hovered")||this.dehover_node();this.data.ui.hovered=a.children("a").addClass("jstree-hovered").parent();this._fix_scroll(a);this.__callback({obj:a})},dehover_node:function(){var a=this.data.ui.hovered,b;if(!a||!a.length)return!1;b=a.children("a").removeClass("jstree-hovered").parent();this.data.ui.hovered[0]===b[0]&&(this.data.ui.hovered=null);this.__callback({obj:a})},select_node:function(a,b,c){a=this._get_node(a);if(-1==a||!a||!a.length)return!1;var d=this._get_settings().ui,
f="on"==d.select_multiple_modifier||!1!==d.select_multiple_modifier&&c&&c[d.select_multiple_modifier+"Key"],g=!1!==d.select_range_modifier&&c&&c[d.select_range_modifier+"Key"]&&this.data.ui.last_selected&&this.data.ui.last_selected[0]!==a[0]&&this.data.ui.last_selected.parent()[0]===a.parent()[0],h=this.is_selected(a),j=!0,m=this;if(b){if(d.disable_selecting_children&&f&&(a.parentsUntil(".jstree","li").children("a.jstree-clicked").length||a.children("ul").find("a.jstree-clicked:eq(0)").length))return!1;
j=!1;switch(!0){case g:this.data.ui.last_selected.addClass("jstree-last-selected");a=a[a.index()<this.data.ui.last_selected.index()?"nextUntil":"prevUntil"](".jstree-last-selected").addBack();-1==d.select_limit||a.length<d.select_limit?(this.data.ui.last_selected.removeClass("jstree-last-selected"),this.data.ui.selected.each(function(){this!==m.data.ui.last_selected[0]&&m.deselect_node(this)}),h=!1,j=!0):j=!1;break;case h&&!f:this.deselect_all();h=!1;j=!0;break;case !h&&!f:if(-1==d.select_limit||
0<d.select_limit)this.deselect_all(),j=!0;break;case h&&f:this.deselect_node(a);break;case !h&&f:if(-1==d.select_limit||this.data.ui.selected.length+1<=d.select_limit)j=!0}}j&&!h&&(g||(this.data.ui.last_selected=a),a.children("a").addClass("jstree-clicked"),d.selected_parent_open&&a.parents(".jstree-closed").each(function(){m.open_node(this,!1,!0)}),this.data.ui.selected=this.data.ui.selected.add(a),this._fix_scroll(a.eq(0)),this.__callback({obj:a,e:c}))},_fix_scroll:function(a){var b=this.get_container()[0];
if(b.scrollHeight>b.offsetHeight&&(a=this._get_node(a))&&!(-1===a||!a.length||!a.is(":visible")))if(a=a.offset().top-this.get_container().offset().top,0>a&&(b.scrollTop=b.scrollTop+a-1),a+this.data.core.li_height+(b.scrollWidth>b.offsetWidth?q:0)>b.offsetHeight)b.scrollTop+=a-b.offsetHeight+this.data.core.li_height+1+(b.scrollWidth>b.offsetWidth?q:0)},deselect_node:function(a){a=this._get_node(a);if(!a.length)return!1;this.is_selected(a)&&(a.children("a").removeClass("jstree-clicked"),this.data.ui.selected=
this.data.ui.selected.not(a),this.data.ui.last_selected.get(0)===a.get(0)&&(this.data.ui.last_selected=this.data.ui.selected.eq(0)),this.__callback({obj:a}))},toggle_select:function(a){a=this._get_node(a);if(!a.length)return!1;this.is_selected(a)?this.deselect_node(a):this.select_node(a)},is_selected:function(a){return 0<=this.data.ui.selected.index(this._get_node(a))},get_selected:function(a){return a?m(a).find("a.jstree-clicked").parent():this.data.ui.selected},deselect_all:function(a){a=a?m(a).find("a.jstree-clicked").parent():
this.get_container().find("a.jstree-clicked").parent();a.children("a.jstree-clicked").removeClass("jstree-clicked");this.data.ui.selected=m([]);this.data.ui.last_selected=!1;this.__callback({obj:a})}}});m.jstree.defaults.plugins.push("ui");var h=jQuery;h.jstree.plugin("crrm",{__init:function(){this.get_container().bind("move_node.jstree",h.proxy(function(a,b){if(this._get_settings().crrm.move.open_onmove){var c=this;b.rslt.np.parentsUntil(".jstree").addBack().filter(".jstree-closed").each(function(){c.open_node(this,
!1,!0)})}},this))},defaults:{input_width_limit:200,move:{always_copy:!1,open_onmove:!0,default_position:"last",check_move:function(){return!0}}},_fn:{_show_input:function(a,b){var a=this._get_node(a),c=this._get_settings().core.rtl,d=this._get_settings().crrm.input_width_limit,f=a.children("ins").width(),g=a.find("> a:visible > ins").width()*a.find("> a:visible > ins").length,j=this.get_text(a),m=h("<div />",{css:{position:"absolute",top:"-200px",left:c?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),
n=a.css("position","relative").append(h("<input />",{value:j,"class":"jstree-rename-input",css:{padding:"0",border:"1px solid silver",position:"absolute",left:c?"auto":f+g+4+"px",right:c?f+g+4+"px":"auto",top:"0px",height:this.data.core.li_height-2+"px",lineHeight:this.data.core.li_height-2+"px",width:"150px"},blur:h.proxy(function(){var c=a.children(".jstree-rename-input"),d=c.val();""===d&&(d=j);m.remove();c.remove();this.set_text(a,j);this.rename_node(a,d);b.call(this,a,d,j);a.css("position","")},
this),keyup:function(a){a=a.keyCode||a.which;27==a?(this.value=j,this.blur()):13==a?this.blur():n.width(Math.min(m.text("pW"+this.value).width(),d))},keypress:function(a){if(13==(a.keyCode||a.which))return!1}})).children(".jstree-rename-input");this.set_text(a,"");m.css({fontFamily:n.css("fontFamily")||"",fontSize:n.css("fontSize")||"",fontWeight:n.css("fontWeight")||"",fontStyle:n.css("fontStyle")||"",fontStretch:n.css("fontStretch")||"",fontVariant:n.css("fontVariant")||"",letterSpacing:n.css("letterSpacing")||
"",wordSpacing:n.css("wordSpacing")||""});n.width(Math.min(m.text("pW"+n[0].value).width(),d))[0].select()},rename:function(a){a=this._get_node(a);this.__rollback();var b=this.__callback;this._show_input(a,function(a,c,d){b.call(this,{obj:a,new_name:c,old_name:d})})},create:function(a,b,c,d,f){var g=this;(a=this._get_node(a))||(a=-1);this.__rollback();return this.create_node(a,b,c,function(a){var b=this._get_parent(a),c=h(a).index();d&&d.call(this,a);b.length&&b.hasClass("jstree-closed")&&this.open_node(b,
!1,!0);f?g.__callback({obj:a,name:this.get_text(a),parent:b,position:c}):this._show_input(a,function(a,d){g.__callback({obj:a,name:d,parent:b,position:c})})})},remove:function(a){var a=this._get_node(a,!0),b=this._get_parent(a),c=this._get_prev(a);this.__rollback();a=this.delete_node(a);!1!==a&&this.__callback({obj:a,prev:c,parent:b})},check_move:function(){return!this.__call_old()||!this._get_settings().crrm.move.check_move.call(this,this._get_move())?!1:!0},move_node:function(a,b,c,d,f,g){var h=
this._get_settings().crrm.move;if(!f)return"undefined"===typeof c&&(c=h.default_position),"inside"===c&&!h.default_position.match(/^(before|after)$/)&&(c=h.default_position),this.__call_old(!0,a,b,c,d,!1,g);if(!0===h.always_copy||"multitree"===h.always_copy&&a.rt.get_index()!==a.ot.get_index())d=!0;this.__call_old(!0,a,b,c,d,!0,g)},cut:function(a){a=this._get_node(a,!0);if(!a||!a.length)return!1;this.data.crrm.cp_nodes=!1;this.data.crrm.ct_nodes=a;this.__callback({obj:a})},copy:function(a){a=this._get_node(a,
!0);if(!a||!a.length)return!1;this.data.crrm.ct_nodes=!1;this.data.crrm.cp_nodes=a;this.__callback({obj:a})},paste:function(a){a=this._get_node(a);if(!a||!a.length)return!1;var b=this.data.crrm.ct_nodes?this.data.crrm.ct_nodes:this.data.crrm.cp_nodes;if(!this.data.crrm.ct_nodes&&!this.data.crrm.cp_nodes)return!1;this.data.crrm.ct_nodes&&(this.move_node(this.data.crrm.ct_nodes,a),this.data.crrm.ct_nodes=!1);this.data.crrm.cp_nodes&&this.move_node(this.data.crrm.cp_nodes,a,!1,!0);this.__callback({obj:a,
nodes:b})}}});var x=jQuery,z=[];x.jstree._themes=!1;x.jstree.plugin("themes",{__init:function(){this.get_container().bind("init.jstree",x.proxy(function(){var a=this._get_settings().themes;this.data.themes.dots=a.dots;this.data.themes.icons=a.icons;this.set_theme(a.theme,a.url)},this)).bind("loaded.jstree",x.proxy(function(){this.data.themes.dots?this.show_dots():this.hide_dots();this.data.themes.icons?this.show_icons():this.hide_icons()},this))},defaults:{theme:"default",url:!1,dots:!0,icons:!0},
_fn:{set_theme:function(a,b){if(!a)return!1;b||(b=x.jstree._themes+a+"/style.css");-1==x.inArray(b,z)&&(x.vakata.css.add_sheet({url:b}),z.push(b));this.data.themes.theme!=a&&(this.get_container().removeClass("jstree-"+this.data.themes.theme),this.data.themes.theme=a);this.get_container().addClass("jstree-"+a);this.data.themes.dots?this.show_dots():this.hide_dots();this.data.themes.icons?this.show_icons():this.hide_icons();this.__callback()},get_theme:function(){return this.data.themes.theme},show_dots:function(){this.data.themes.dots=
!0;this.get_container().children("ul").removeClass("jstree-no-dots")},hide_dots:function(){this.data.themes.dots=!1;this.get_container().children("ul").addClass("jstree-no-dots")},toggle_dots:function(){this.data.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this.data.themes.icons=!0;this.get_container().children("ul").removeClass("jstree-no-icons")},hide_icons:function(){this.data.themes.icons=!1;this.get_container().children("ul").addClass("jstree-no-icons")},toggle_icons:function(){this.data.themes.icons?
this.hide_icons():this.show_icons()}}});x(function(){!1===x.jstree._themes&&x("script").each(function(){if(this.src.toString().match(/jquery\.jstree[^\/]*?\.js(\?.*)?$/))return x.jstree._themes=this.src.toString().replace(/jquery\.jstree[^\/]*?\.js(\?.*)?$/,"")+"themes/",!1});!1===x.jstree._themes&&(x.jstree._themes="themes/")});x.jstree.defaults.plugins.push("themes");var D=jQuery,S=[];D.jstree.plugin("hotkeys",{__init:function(){if("undefined"===typeof D.hotkeys)throw"jsTree hotkeys: jQuery hotkeys plugin not included.";
if(!this.data.ui)throw"jsTree hotkeys: jsTree UI plugin not included.";D.each(this._get_settings().hotkeys,function(a,b){!1!==b&&-1==D.inArray(a,S)&&(D(document).bind("keydown",a,function(b){a:{var c=D.jstree._focused(),d;if(c&&(c.data&&c.data.hotkeys&&c.data.hotkeys.enabled)&&(d=c._get_settings().hotkeys[a])){b=d.call(c,b);break a}b=void 0}return b}),S.push(a))});this.get_container().bind("lock.jstree",D.proxy(function(){this.data.hotkeys.enabled&&(this.data.hotkeys.enabled=!1,this.data.hotkeys.revert=
!0)},this)).bind("unlock.jstree",D.proxy(function(){this.data.hotkeys.revert&&(this.data.hotkeys.enabled=!0)},this));this.enable_hotkeys()},defaults:{up:function(){this.hover_node(this._get_prev(this.data.ui.hovered||this.data.ui.last_selected||-1));return!1},"ctrl+up":function(){this.hover_node(this._get_prev(this.data.ui.hovered||this.data.ui.last_selected||-1));return!1},"shift+up":function(){this.hover_node(this._get_prev(this.data.ui.hovered||this.data.ui.last_selected||-1));return!1},down:function(){this.hover_node(this._get_next(this.data.ui.hovered||
this.data.ui.last_selected||-1));return!1},"ctrl+down":function(){this.hover_node(this._get_next(this.data.ui.hovered||this.data.ui.last_selected||-1));return!1},"shift+down":function(){this.hover_node(this._get_next(this.data.ui.hovered||this.data.ui.last_selected||-1));return!1},left:function(){var a=this.data.ui.hovered||this.data.ui.last_selected;a&&(a.hasClass("jstree-open")?this.close_node(a):this.hover_node(this._get_prev(a)));return!1},"ctrl+left":function(){var a=this.data.ui.hovered||this.data.ui.last_selected;
a&&(a.hasClass("jstree-open")?this.close_node(a):this.hover_node(this._get_prev(a)));return!1},"shift+left":function(){var a=this.data.ui.hovered||this.data.ui.last_selected;a&&(a.hasClass("jstree-open")?this.close_node(a):this.hover_node(this._get_prev(a)));return!1},right:function(){var a=this.data.ui.hovered||this.data.ui.last_selected;a&&a.length&&(a.hasClass("jstree-closed")?this.open_node(a):this.hover_node(this._get_next(a)));return!1},"ctrl+right":function(){var a=this.data.ui.hovered||this.data.ui.last_selected;
a&&a.length&&(a.hasClass("jstree-closed")?this.open_node(a):this.hover_node(this._get_next(a)));return!1},"shift+right":function(){var a=this.data.ui.hovered||this.data.ui.last_selected;a&&a.length&&(a.hasClass("jstree-closed")?this.open_node(a):this.hover_node(this._get_next(a)));return!1},space:function(){this.data.ui.hovered&&this.data.ui.hovered.children("a:eq(0)").click();return!1},"ctrl+space":function(a){a.type="click";this.data.ui.hovered&&this.data.ui.hovered.children("a:eq(0)").trigger(a);
return!1},"shift+space":function(a){a.type="click";this.data.ui.hovered&&this.data.ui.hovered.children("a:eq(0)").trigger(a);return!1},f2:function(){this.rename(this.data.ui.hovered||this.data.ui.last_selected)},del:function(){this.remove(this.data.ui.hovered||this._get_node(null))}},_fn:{enable_hotkeys:function(){this.data.hotkeys.enabled=!0},disable_hotkeys:function(){this.data.hotkeys.enabled=!1}}});var u=jQuery;u.jstree.plugin("json_data",{__init:function(){this._get_settings().json_data.progressive_unload&&
this.get_container().bind("after_close.jstree",function(a,b){b.rslt.obj.children("ul").remove()})},defaults:{data:!1,ajax:!1,correct_state:!0,progressive_render:!1,progressive_unload:!1},_fn:{load_node:function(a,b,c){var d=this;this.load_node_json(a,function(){d.__callback({obj:d._get_node(a)});b.call(this)},c)},_is_loaded:function(a){var b=this._get_settings().json_data,a=this._get_node(a);return-1==a||!a||!b.ajax&&!b.progressive_render&&!u.isFunction(b.data)||a.is(".jstree-open, .jstree-leaf")||
0<a.children("ul").children("li").length},refresh:function(a){var a=this._get_node(a),b=this._get_settings().json_data;a&&(-1!==a&&b.progressive_unload&&(u.isFunction(b.data)||b.ajax))&&a.removeData("jstree_children");return this.__call_old()},load_node_json:function(a,b,c){var d=this.get_settings().json_data,f,g=function(){};f=function(){};if((a=this._get_node(a))&&-1!==a&&(d.progressive_render||d.progressive_unload)&&!a.is(".jstree-open, .jstree-leaf")&&0===a.children("ul").children("li").length&&
a.data("jstree_children")){if(f=this._parse_json(a.data("jstree_children"),a))a.append(f),d.progressive_unload||a.removeData("jstree_children");this.clean_node(a);b&&b.call(this)}else{if(a&&-1!==a){if(a.data("jstree_is_loading"))return;a.data("jstree_is_loading",!0)}switch(!0){case !d.data&&!d.ajax:throw"Neither data nor ajax settings supplied.";case u.isFunction(d.data):d.data.call(this,a,u.proxy(function(f){(f=this._parse_json(f,a))?(-1===a||!a?this.get_container().children("ul").empty().append(f.children()):
(a.append(f).children("a.jstree-loading").removeClass("jstree-loading"),a.removeData("jstree_is_loading")),this.clean_node(a),b&&b.call(this)):(-1===a||!a?d.correct_state&&this.get_container().children("ul").empty():(a.children("a.jstree-loading").removeClass("jstree-loading"),a.removeData("jstree_is_loading"),d.correct_state&&this.correct_state(a)),c&&c.call(this))},this));break;case !!d.data&&!d.ajax||!!d.data&&!!d.ajax&&(!a||-1===a):if(!a||-1==a)(f=this._parse_json(d.data,a))?(this.get_container().children("ul").empty().append(f.children()),
this.clean_node()):d.correct_state&&this.get_container().children("ul").empty();b&&b.call(this);break;case !d.data&&!!d.ajax||!!d.data&&!!d.ajax&&a&&-1!==a:g=function(b,f,g){var h=this.get_settings().json_data.ajax.error;h&&h.call(this,b,f,g);-1!=a&&a.length?(a.children("a.jstree-loading").removeClass("jstree-loading"),a.removeData("jstree_is_loading"),"success"===f&&d.correct_state&&this.correct_state(a)):"success"===f&&d.correct_state&&this.get_container().children("ul").empty();c&&c.call(this)},
f=function(c,f,h){var j=this.get_settings().json_data.ajax.success;j&&(c=j.call(this,c,f,h)||c);if(""===c||c&&c.toString&&""===c.toString().replace(/^[\s\n]+$/,"")||!u.isArray(c)&&!u.isPlainObject(c))return g.call(this,h,f,"");(c=this._parse_json(c,a))?(-1===a||!a?this.get_container().children("ul").empty().append(c.children()):(a.append(c).children("a.jstree-loading").removeClass("jstree-loading"),a.removeData("jstree_is_loading")),this.clean_node(a),b&&b.call(this)):-1===a||!a?d.correct_state&&
(this.get_container().children("ul").empty(),b&&b.call(this)):(a.children("a.jstree-loading").removeClass("jstree-loading"),a.removeData("jstree_is_loading"),d.correct_state&&(this.correct_state(a),b&&b.call(this)))},d.ajax.context=this,d.ajax.error=g,d.ajax.success=f,d.ajax.dataType||(d.ajax.dataType="json"),u.isFunction(d.ajax.url)&&(d.ajax.url=d.ajax.url.call(this,a)),u.isFunction(d.ajax.data)&&(d.ajax.data=d.ajax.data.call(this,a)),u.ajax(d.ajax)}}},_parse_json:function(a,b,c){var d=!1,f=this._get_settings(),
g=f.json_data,h=f.core.html_titles,j;if(!a)return d;g.progressive_unload&&(b&&-1!==b)&&b.data("jstree_children",d);if(u.isArray(a)){d=u("<ul>");if(!a.length)return!1;f=0;for(g=a.length;f<g;f++)j=this._parse_json(a[f],b,!0),j.length&&(d=d.append(j));d=d.children()}else{"string"==typeof a&&(a={data:a});if(!a.data&&""!==a.data)return d;d=u("<li />");a.attr&&d.attr(a.attr);a.metadata&&d.data(a.metadata);a.state&&d.addClass("jstree-"+a.state);u.isArray(a.data)||(j=a.data,a.data=[],a.data.push(j));u.each(a.data,
function(b,c){j=u("<a />");u.isFunction(c)&&(c=c.call(this,a));if("string"==typeof c)j.attr("href","#")[h?"html":"text"](c);else c.attr||(c.attr={}),c.attr.href||(c.attr.href="#"),j.attr(c.attr)[h?"html":"text"](c.title),c.language&&j.addClass(c.language);j.prepend("<ins class='jstree-icon'>&#160;</ins>");!c.icon&&a.icon&&(c.icon=a.icon);c.icon&&(-1===c.icon.indexOf("/")?j.children("ins").addClass(c.icon):j.children("ins").css("background","url('"+c.icon+"') center center no-repeat"));d.append(j)});
d.prepend("<ins class='jstree-icon'>&#160;</ins>");a.children&&(g.progressive_render&&"open"!==a.state?d.addClass("jstree-closed").data("jstree_children",a.children):(g.progressive_unload&&d.data("jstree_children",a.children),u.isArray(a.children)&&a.children.length&&(j=this._parse_json(a.children,b,!0),j.length&&(b=u("<ul />"),b.append(j),d.append(b)))))}c||(c=u("<ul />"),c.append(d),d=c);return d},get_json:function(a,b,c,d){var f=[],g=this._get_settings(),h=this,j,m,n,p,l,q,a=this._get_node(a);
if(!a||-1===a)a=this.get_container().find("> ul > li");b=u.isArray(b)?b:["id","class"];!d&&this.data.types&&b.push(g.types.type_attr);c=u.isArray(c)?c:[];a.each(function(){n=u(this);j={data:[]};b.length&&(j.attr={});u.each(b,function(a,b){(m=n.attr(b))&&(m.length&&m.replace(/jstree[^ ]*/ig,"").length)&&(j.attr[b]=(" "+m).replace(/ jstree[^ ]*/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,""))});n.hasClass("jstree-open")&&(j.state="open");n.hasClass("jstree-closed")&&(j.state="closed");
n.data()&&(j.metadata=n.data());p=n.children("a");p.each(function(){l=u(this);c.length||-1!==u.inArray("languages",g.plugins)||l.children("ins").get(0).style.backgroundImage.length||l.children("ins").get(0).className&&l.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").length?(q=!1,-1!==u.inArray("languages",g.plugins)&&(u.isArray(g.languages)&&g.languages.length)&&u.each(g.languages,function(a,b){if(l.hasClass(b))return q=b,!1}),m={attr:{},title:h.get_text(l,q)},u.each(c,function(a,
b){m.attr[b]=(" "+(l.attr(b)||"")).replace(/ jstree[^ ]*/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,"")}),-1!==u.inArray("languages",g.plugins)&&(u.isArray(g.languages)&&g.languages.length)&&u.each(g.languages,function(a,b){if(l.hasClass(b))return m.language=b,!0}),l.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").replace(/^\s+$/ig,"").length&&(m.icon=l.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,
"")),l.children("ins").get(0).style.backgroundImage.length&&(m.icon=l.children("ins").get(0).style.backgroundImage.replace("url(","").replace(")",""))):m=h.get_text(l);1<p.length?j.data.push(m):j.data=m});n=n.find("> ul > li");n.length&&(j.children=h.get_json(n,b,c,!0));f.push(j)});return f}}});var A=jQuery,B=!1;A.jstree.plugin("languages",{__init:function(){this._load_css()},defaults:[],_fn:{set_lang:function(a){var b=this._get_settings().languages,c=!1,d=".jstree-"+this.get_index()+" a";if(!A.isArray(b)||
0===b.length)return!1;if(-1==A.inArray(a,b))if(b[a])a=b[a];else return!1;if(a==this.data.languages.current_language)return!0;c=A.vakata.css.get_css(d+"."+this.data.languages.current_language,!1,B);!1!==c&&(c.style.display="none");c=A.vakata.css.get_css(d+"."+a,!1,B);!1!==c&&(c.style.display="");this.data.languages.current_language=a;this.__callback(a);return!0},get_lang:function(){return this.data.languages.current_language},_get_string:function(a,b){var c=this._get_settings().languages,d=this._get_settings().core.strings;
A.isArray(c)&&c.length&&(b=b&&-1!=A.inArray(b,c)?b:this.data.languages.current_language);return d[b]&&d[b][a]?d[b][a]:d[a]?d[a]:a},get_text:function(a,b){a=this._get_node(a)||this.data.ui.last_selected;if(!a.size())return!1;var c=this._get_settings().languages,d=this._get_settings().core.html_titles;A.isArray(c)&&c.length?(b=b&&-1!=A.inArray(b,c)?b:this.data.languages.current_language,a=a.children("a."+b)):a=a.children("a:eq(0)");if(d)return a=a.clone(),a.children("INS").remove(),a.html();a=a.contents().filter(function(){return 3==
this.nodeType})[0];return a.nodeValue},set_text:function(a,b,c){a=this._get_node(a)||this.data.ui.last_selected;if(!a.size())return!1;var d=this._get_settings().languages,f=this._get_settings().core.html_titles;A.isArray(d)&&d.length?(c=c&&-1!=A.inArray(c,d)?c:this.data.languages.current_language,a=a.children("a."+c)):a=a.children("a:eq(0)");if(f)return d=a.children("INS").clone(),a.html(b).prepend(d),this.__callback({obj:a,name:b,lang:c}),!0;a=a.contents().filter(function(){return 3==this.nodeType})[0];
this.__callback({obj:a,name:b,lang:c});return a.nodeValue=b},_load_css:function(){var a=this._get_settings().languages,b="/* languages css */",c=".jstree-"+this.get_index()+" a",d;if(A.isArray(a)&&a.length){this.data.languages.current_language=a[0];for(d=0;d<a.length;d++)b+=c+"."+a[d]+" {",a[d]!=this.data.languages.current_language&&(b+=" display:none; "),b+=" } ";B=A.vakata.css.add_sheet({str:b,title:"jstree-languages"})}},create_node:function(a,b,c,d){return this.__call_old(!0,a,b,c,function(a){var b=
this._get_settings().languages,c=a.children("a"),f;if(A.isArray(b)&&b.length){for(f=0;f<b.length;f++)c.is("."+b[f])||a.append(c.eq(0).clone().removeClass(b.join(" ")).addClass(b[f]));c.not("."+b.join(", .")).remove()}d&&d.call(this,a)})}}});var J=jQuery;J.jstree.plugin("cookies",{__init:function(){if("undefined"===typeof J.cookie)throw"jsTree cookie: jQuery cookie plugin not included.";var a=this._get_settings().cookies,b;if(a.save_loaded&&(b=J.cookie(a.save_loaded))&&b.length)this.data.core.to_load=
b.split(",");if(a.save_opened&&(b=J.cookie(a.save_opened))&&b.length)this.data.core.to_open=b.split(",");if(a.save_selected&&(b=J.cookie(a.save_selected))&&b.length&&this.data.ui)this.data.ui.to_select=b.split(",");this.get_container().one((this.data.ui?"reselect":"reopen")+".jstree",J.proxy(function(){this.get_container().bind("open_node.jstree close_node.jstree select_node.jstree deselect_node.jstree",J.proxy(function(a){this._get_settings().cookies.auto_save&&this.save_cookie((a.handleObj.namespace+
a.handleObj.type).replace("jstree",""))},this))},this))},defaults:{save_loaded:"jstree_load",save_opened:"jstree_open",save_selected:"jstree_select",auto_save:!0,cookie_options:{}},_fn:{save_cookie:function(a){if(!this.data.core.refreshing){var b=this._get_settings().cookies;if(a)switch(a){case "open_node":case "close_node":b.save_opened&&(this.save_opened(),J.cookie(b.save_opened,this.data.core.to_open.join(","),b.cookie_options));b.save_loaded&&(this.save_loaded(),J.cookie(b.save_loaded,this.data.core.to_load.join(","),
b.cookie_options));break;case "select_node":case "deselect_node":b.save_selected&&this.data.ui&&(this.save_selected(),J.cookie(b.save_selected,this.data.ui.to_select.join(","),b.cookie_options))}else b.save_loaded&&(this.save_loaded(),J.cookie(b.save_loaded,this.data.core.to_load.join(","),b.cookie_options)),b.save_opened&&(this.save_opened(),J.cookie(b.save_opened,this.data.core.to_open.join(","),b.cookie_options)),b.save_selected&&this.data.ui&&(this.save_selected(),J.cookie(b.save_selected,this.data.ui.to_select.join(","),
b.cookie_options))}}}});var y=jQuery;y.jstree.plugin("sort",{__init:function(){this.get_container().bind("load_node.jstree",y.proxy(function(a,b){var c=this._get_node(b.rslt.obj),c=-1===c?this.get_container().children("ul"):c.children("ul");this.sort(c)},this)).bind("rename_node.jstree create_node.jstree create.jstree",y.proxy(function(a,b){this.sort(b.rslt.obj.parent())},this)).bind("move_node.jstree",y.proxy(function(a,b){var c=-1==b.rslt.np?this.get_container():b.rslt.np;this.sort(c.children("ul"))},
this))},defaults:function(a,b){return this.get_text(a)>this.get_text(b)?1:-1},_fn:{sort:function(a){var b=this._get_settings().sort,c=this;a.append(y.makeArray(a.children("li")).sort(y.proxy(b,c)));a.find("> li > ul").each(function(){c.sort(y(this))});this.clean_node(a)}}});var v=jQuery,K=!1,I=!1,Q=!1,H=!1,O=!1,N=!1,L=!1,P=!1,r=!1;v.vakata.dnd={is_down:!1,is_drag:!1,helper:!1,scroll_spd:10,init_x:0,init_y:0,threshold:5,helper_left:5,helper_top:10,user_data:{},drag_start:function(a,b,c){v.vakata.dnd.is_drag&&
v.vakata.drag_stop({});try{a.currentTarget.unselectable="on",a.currentTarget.onselectstart=function(){return!1},a.currentTarget.style&&(a.currentTarget.style.MozUserSelect="none")}catch(d){}v.vakata.dnd.init_x=a.pageX;v.vakata.dnd.init_y=a.pageY;v.vakata.dnd.user_data=b;v.vakata.dnd.is_down=!0;v.vakata.dnd.helper=v("<div id='vakata-dragged' />").html(c);v(document).bind("mousemove",v.vakata.dnd.drag);v(document).bind("mouseup",v.vakata.dnd.drag_stop);return!1},drag:function(a){if(v.vakata.dnd.is_down){if(!v.vakata.dnd.is_drag)if(5<
Math.abs(a.pageX-v.vakata.dnd.init_x)||5<Math.abs(a.pageY-v.vakata.dnd.init_y))v.vakata.dnd.helper.appendTo("body"),v.vakata.dnd.is_drag=!0,v(document).triggerHandler("drag_start.vakata",{event:a,data:v.vakata.dnd.user_data});else return;if("mousemove"===a.type){var b=v(document),c=b.scrollTop(),b=b.scrollLeft();20>a.pageY-c?(N&&"down"===L&&(clearInterval(N),N=!1),N||(L="up",N=setInterval(function(){v(document).scrollTop(v(document).scrollTop()-v.vakata.dnd.scroll_spd)},150))):N&&"up"===L&&(clearInterval(N),
N=!1);20>v(window).height()-(a.pageY-c)?(N&&"up"===L&&(clearInterval(N),N=!1),N||(L="down",N=setInterval(function(){v(document).scrollTop(v(document).scrollTop()+v.vakata.dnd.scroll_spd)},150))):N&&"down"===L&&(clearInterval(N),N=!1);20>a.pageX-b?(O&&"right"===P&&(clearInterval(O),O=!1),O||(P="left",O=setInterval(function(){v(document).scrollLeft(v(document).scrollLeft()-v.vakata.dnd.scroll_spd)},150))):O&&"left"===P&&(clearInterval(O),O=!1);20>v(window).width()-(a.pageX-b)?(O&&"left"===P&&(clearInterval(O),
O=!1),O||(P="right",O=setInterval(function(){v(document).scrollLeft(v(document).scrollLeft()+v.vakata.dnd.scroll_spd)},150))):O&&"right"===P&&(clearInterval(O),O=!1)}v.vakata.dnd.helper.css({left:a.pageX+v.vakata.dnd.helper_left+"px",top:a.pageY+v.vakata.dnd.helper_top+"px"});v(document).triggerHandler("drag.vakata",{event:a,data:v.vakata.dnd.user_data})}},drag_stop:function(a){O&&clearInterval(O);N&&clearInterval(N);v(document).unbind("mousemove",v.vakata.dnd.drag);v(document).unbind("mouseup",v.vakata.dnd.drag_stop);
v(document).triggerHandler("drag_stop.vakata",{event:a,data:v.vakata.dnd.user_data});v.vakata.dnd.helper.remove();v.vakata.dnd.init_x=0;v.vakata.dnd.init_y=0;v.vakata.dnd.user_data={};v.vakata.dnd.is_down=!1;v.vakata.dnd.is_drag=!1}};v(function(){v.vakata.css.add_sheet({str:"#vakata-dragged { display:block; margin:0 0 0 0; padding:4px 4px 4px 24px; position:absolute; top:-2000px; line-height:16px; z-index:10000; } ",title:"vakata"})});v.jstree.plugin("dnd",{__init:function(){this.data.dnd={active:!1,
after:!1,inside:!1,before:!1,off:!1,prepared:!1,w:0,to1:!1,to2:!1,cof:!1,cw:!1,ch:!1,i1:!1,i2:!1,mto:!1};this.get_container().bind("mouseenter.jstree",v.proxy(function(a){v.vakata.dnd.is_drag&&v.vakata.dnd.user_data.jstree&&(this.data.themes&&(Q.attr("class","jstree-"+this.data.themes.theme),H&&H.attr("class","jstree-"+this.data.themes.theme),v.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme)),a.currentTarget===a.target&&(v.vakata.dnd.user_data.obj&&v(v.vakata.dnd.user_data.obj).length&&
v(v.vakata.dnd.user_data.obj).parents(".jstree:eq(0)")[0]!==a.target)&&(a=v.jstree._reference(a.target),a.data.dnd.foreign?(a=a._get_settings().dnd.drag_check.call(this,{o:K,r:a.get_container(),is_root:!0}),(!0===a||!0===a.inside||!0===a.before||!0===a.after)&&v.vakata.dnd.helper.children("ins").attr("class","jstree-ok")):(a.prepare_move(K,a.get_container(),"last"),a.check_move()&&v.vakata.dnd.helper.children("ins").attr("class","jstree-ok"))))},this)).bind("mouseup.jstree",v.proxy(function(a){if(v.vakata.dnd.is_drag&&
v.vakata.dnd.user_data.jstree&&a.currentTarget===a.target&&v.vakata.dnd.user_data.obj&&v(v.vakata.dnd.user_data.obj).length&&v(v.vakata.dnd.user_data.obj).parents(".jstree:eq(0)")[0]!==a.target){var b=v.jstree._reference(a.currentTarget);b.data.dnd.foreign?(a=b._get_settings().dnd.drag_check.call(this,{o:K,r:b.get_container(),is_root:!0}),(!0===a||!0===a.inside||!0===a.before||!0===a.after)&&b._get_settings().dnd.drag_finish.call(this,{o:K,r:b.get_container(),is_root:!0})):b.move_node(K,b.get_container(),
"last",a[b._get_settings().dnd.copy_modifier+"Key"])}},this)).bind("mouseleave.jstree",v.proxy(function(a){if(a.relatedTarget&&a.relatedTarget.id&&"jstree-marker-line"===a.relatedTarget.id)return!1;v.vakata.dnd.is_drag&&v.vakata.dnd.user_data.jstree&&(this.data.dnd.i1&&clearInterval(this.data.dnd.i1),this.data.dnd.i2&&clearInterval(this.data.dnd.i2),this.data.dnd.to1&&clearTimeout(this.data.dnd.to1),this.data.dnd.to2&&clearTimeout(this.data.dnd.to2),v.vakata.dnd.helper.children("ins").hasClass("jstree-ok")&&
v.vakata.dnd.helper.children("ins").attr("class","jstree-invalid"))},this)).bind("mousemove.jstree",v.proxy(function(a){if(v.vakata.dnd.is_drag&&v.vakata.dnd.user_data.jstree){var b=this.get_container()[0];a.pageX+24>this.data.dnd.cof.left+this.data.dnd.cw?(this.data.dnd.i1&&clearInterval(this.data.dnd.i1),this.data.dnd.i1=setInterval(v.proxy(function(){this.scrollLeft+=v.vakata.dnd.scroll_spd},b),100)):a.pageX-24<this.data.dnd.cof.left?(this.data.dnd.i1&&clearInterval(this.data.dnd.i1),this.data.dnd.i1=
setInterval(v.proxy(function(){this.scrollLeft-=v.vakata.dnd.scroll_spd},b),100)):this.data.dnd.i1&&clearInterval(this.data.dnd.i1);a.pageY+24>this.data.dnd.cof.top+this.data.dnd.ch?(this.data.dnd.i2&&clearInterval(this.data.dnd.i2),this.data.dnd.i2=setInterval(v.proxy(function(){this.scrollTop+=v.vakata.dnd.scroll_spd},b),100)):a.pageY-24<this.data.dnd.cof.top?(this.data.dnd.i2&&clearInterval(this.data.dnd.i2),this.data.dnd.i2=setInterval(v.proxy(function(){this.scrollTop-=v.vakata.dnd.scroll_spd},
b),100)):this.data.dnd.i2&&clearInterval(this.data.dnd.i2)}},this)).bind("scroll.jstree",v.proxy(function(){v.vakata.dnd.is_drag&&(v.vakata.dnd.user_data.jstree&&Q&&H)&&(Q.hide(),H.hide())},this)).delegate("a","mousedown.jstree",v.proxy(function(a){if(1===a.which)return this.start_drag(a.currentTarget,a),!1},this)).delegate("a","mouseenter.jstree",v.proxy(function(a){v.vakata.dnd.is_drag&&v.vakata.dnd.user_data.jstree&&this.dnd_enter(a.currentTarget)},this)).delegate("a","mousemove.jstree",v.proxy(function(a){v.vakata.dnd.is_drag&&
v.vakata.dnd.user_data.jstree&&((!I||!I.length||I.children("a")[0]!==a.currentTarget)&&this.dnd_enter(a.currentTarget),"undefined"===typeof this.data.dnd.off.top&&(this.data.dnd.off=v(a.target).offset()),this.data.dnd.w=(a.pageY-(this.data.dnd.off.top||0))%this.data.core.li_height,0>this.data.dnd.w&&(this.data.dnd.w+=this.data.core.li_height),this.dnd_show())},this)).delegate("a","mouseleave.jstree",v.proxy(function(a){if(v.vakata.dnd.is_drag&&v.vakata.dnd.user_data.jstree){if(a.relatedTarget&&a.relatedTarget.id&&
"jstree-marker-line"===a.relatedTarget.id)return!1;Q&&Q.hide();H&&H.hide();var b=this;this.data.dnd.mto=setTimeout(function(){b.dnd_leave(a)},0)}},this)).delegate("a","mouseup.jstree",v.proxy(function(a){v.vakata.dnd.is_drag&&v.vakata.dnd.user_data.jstree&&this.dnd_finish(a)},this));v(document).bind("drag_stop.vakata",v.proxy(function(){this.data.dnd.to1&&clearTimeout(this.data.dnd.to1);this.data.dnd.to2&&clearTimeout(this.data.dnd.to2);this.data.dnd.i1&&clearInterval(this.data.dnd.i1);this.data.dnd.i2&&
clearInterval(this.data.dnd.i2);this.data.dnd.after=!1;this.data.dnd.before=!1;this.data.dnd.inside=!1;this.data.dnd.off=!1;this.data.dnd.prepared=!1;this.data.dnd.w=!1;this.data.dnd.to1=!1;this.data.dnd.to2=!1;this.data.dnd.i1=!1;this.data.dnd.i2=!1;this.data.dnd.active=!1;this.data.dnd.foreign=!1;Q&&Q.css({top:"-2000px"});H&&H.css({top:"-2000px"})},this)).bind("drag_start.vakata",v.proxy(function(a,b){if(b.data.jstree){var c=v(b.event.target);c.closest(".jstree").hasClass("jstree-"+this.get_index())&&
this.dnd_enter(c)}},this));var a=this._get_settings().dnd;a.drag_target&&v(document).delegate(a.drag_target,"mousedown.jstree-"+this.get_index(),v.proxy(function(a){K=a.target;v.vakata.dnd.drag_start(a,{jstree:!0,obj:a.target},"<ins class='jstree-icon'></ins>"+v(a.target).text());this.data.themes&&(Q&&Q.attr("class","jstree-"+this.data.themes.theme),H&&H.attr("class","jstree-"+this.data.themes.theme),v.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme));v.vakata.dnd.helper.children("ins").attr("class",
"jstree-invalid");var b=this.get_container();this.data.dnd.cof=b.offset();this.data.dnd.cw=parseInt(b.width(),10);this.data.dnd.ch=parseInt(b.height(),10);this.data.dnd.foreign=!0;a.preventDefault()},this));a.drop_target&&v(document).delegate(a.drop_target,"mouseenter.jstree-"+this.get_index(),v.proxy(function(a){this.data.dnd.active&&this._get_settings().dnd.drop_check.call(this,{o:K,r:v(a.target),e:a})&&v.vakata.dnd.helper.children("ins").attr("class","jstree-ok")},this)).delegate(a.drop_target,
"mouseleave.jstree-"+this.get_index(),v.proxy(function(){this.data.dnd.active&&v.vakata.dnd.helper.children("ins").attr("class","jstree-invalid")},this)).delegate(a.drop_target,"mouseup.jstree-"+this.get_index(),v.proxy(function(a){this.data.dnd.active&&v.vakata.dnd.helper.children("ins").hasClass("jstree-ok")&&this._get_settings().dnd.drop_finish.call(this,{o:K,r:v(a.target),e:a})},this))},defaults:{copy_modifier:"ctrl",check_timeout:100,open_timeout:500,drop_target:".jstree-drop",drop_check:function(){return!0},
drop_finish:v.noop,drag_target:".jstree-draggable",drag_finish:v.noop,drag_check:function(){return{after:!1,before:!1,inside:!0}}},_fn:{dnd_prepare:function(){if(I&&I.length){this.data.dnd.off=I.offset();this._get_settings().core.rtl&&(this.data.dnd.off.right=this.data.dnd.off.left+I.width());if(this.data.dnd.foreign){var a=this._get_settings().dnd.drag_check.call(this,{o:K,r:I});this.data.dnd.after=a.after;this.data.dnd.before=a.before;this.data.dnd.inside=a.inside;this.data.dnd.prepared=!0;return this.dnd_show()}this.prepare_move(K,
I,"before");this.data.dnd.before=this.check_move();this.prepare_move(K,I,"after");this.data.dnd.after=this.check_move();this._is_loaded(I)?(this.prepare_move(K,I,"inside"),this.data.dnd.inside=this.check_move()):this.data.dnd.inside=!1;this.data.dnd.prepared=!0;return this.dnd_show()}},dnd_show:function(){if(this.data.dnd.prepared){var a=["before","inside","after"],b=!1,c=this._get_settings().core.rtl,a=this.data.dnd.w<this.data.core.li_height/3?["before","inside","after"]:this.data.dnd.w<=2*this.data.core.li_height/
3?this.data.dnd.w<this.data.core.li_height/2?["inside","before","after"]:["inside","after","before"]:["after","inside","before"];v.each(a,v.proxy(function(a,c){if(this.data.dnd[c])return v.vakata.dnd.helper.children("ins").attr("class","jstree-ok"),b=c,!1},this));!1===b&&v.vakata.dnd.helper.children("ins").attr("class","jstree-invalid");a=c?this.data.dnd.off.right-18:this.data.dnd.off.left+10;switch(b){case "before":Q.css({left:a+"px",top:this.data.dnd.off.top-6+"px"}).show();H&&H.css({left:a+8+"px",
top:this.data.dnd.off.top-1+"px"}).show();break;case "after":Q.css({left:a+"px",top:this.data.dnd.off.top+this.data.core.li_height-6+"px"}).show();H&&H.css({left:a+8+"px",top:this.data.dnd.off.top+this.data.core.li_height-1+"px"}).show();break;case "inside":Q.css({left:a+(c?-4:4)+"px",top:this.data.dnd.off.top+this.data.core.li_height/2-5+"px"}).show();H&&H.hide();break;default:Q.hide(),H&&H.hide()}return r=b}},dnd_open:function(){this.data.dnd.to2=!1;this.open_node(I,v.proxy(this.dnd_prepare,this),
!0)},dnd_finish:function(a){this.data.dnd.foreign?(this.data.dnd.after||this.data.dnd.before||this.data.dnd.inside)&&this._get_settings().dnd.drag_finish.call(this,{o:K,r:I,p:r}):(this.dnd_prepare(),this.move_node(K,I,r,a[this._get_settings().dnd.copy_modifier+"Key"]));I=K=!1;Q.hide();H&&H.hide()},dnd_enter:function(a){this.data.dnd.mto&&(clearTimeout(this.data.dnd.mto),this.data.dnd.mto=!1);var b=this._get_settings().dnd;this.data.dnd.prepared=!1;I=this._get_node(a);b.check_timeout?(this.data.dnd.to1&&
clearTimeout(this.data.dnd.to1),this.data.dnd.to1=setTimeout(v.proxy(this.dnd_prepare,this),b.check_timeout)):this.dnd_prepare();b.open_timeout?(this.data.dnd.to2&&clearTimeout(this.data.dnd.to2),I&&(I.length&&I.hasClass("jstree-closed"))&&(this.data.dnd.to2=setTimeout(v.proxy(this.dnd_open,this),b.open_timeout))):I&&(I.length&&I.hasClass("jstree-closed"))&&this.dnd_open()},dnd_leave:function(a){this.data.dnd.after=!1;this.data.dnd.before=!1;this.data.dnd.inside=!1;v.vakata.dnd.helper.children("ins").attr("class",
"jstree-invalid");Q.hide();H&&H.hide();I&&I[0]===a.target.parentNode&&(this.data.dnd.to1&&(clearTimeout(this.data.dnd.to1),this.data.dnd.to1=!1),this.data.dnd.to2&&(clearTimeout(this.data.dnd.to2),this.data.dnd.to2=!1))},start_drag:function(a,b){K=this._get_node(a);this.data.ui&&this.is_selected(K)&&(K=this._get_node(null,!0));var c=1<K.length?this._get_string("multiple_selection"):this.get_text(K),d=this.get_container();this._get_settings().core.html_titles||(c=c.replace(/</ig,"&lt;").replace(/>/ig,
"&gt;"));v.vakata.dnd.drag_start(b,{jstree:!0,obj:K},"<ins class='jstree-icon'></ins>"+c);this.data.themes&&(Q&&Q.attr("class","jstree-"+this.data.themes.theme),H&&H.attr("class","jstree-"+this.data.themes.theme),v.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme));this.data.dnd.cof=d.offset();this.data.dnd.cw=parseInt(d.width(),10);this.data.dnd.ch=parseInt(d.height(),10);this.data.dnd.active=!0}}});v(function(){v.vakata.css.add_sheet({str:"#vakata-dragged ins { display:block; text-decoration:none; width:16px; height:16px; margin:0 0 0 0; padding:0; position:absolute; top:4px; left:4px;  -moz-border-radius:4px; border-radius:4px; -webkit-border-radius:4px; } #vakata-dragged .jstree-ok { background:green; } #vakata-dragged .jstree-invalid { background:red; } #jstree-marker { padding:0; margin:0; font-size:12px; overflow:hidden; height:12px; width:8px; position:absolute; top:-30px; z-index:10001; background-repeat:no-repeat; display:none; background-color:transparent; text-shadow:1px 1px 1px white; color:black; line-height:10px; } #jstree-marker-line { padding:0; margin:0; line-height:0%; font-size:1px; overflow:hidden; height:1px; width:100px; position:absolute; top:-30px; z-index:10000; background-repeat:no-repeat; display:none; background-color:#456c43;  cursor:pointer; border:1px solid #eeeeee; border-left:0; -moz-box-shadow: 0px 0px 2px #666; -webkit-box-shadow: 0px 0px 2px #666; box-shadow: 0px 0px 2px #666;  -moz-border-radius:1px; border-radius:1px; -webkit-border-radius:1px; }",
title:"jstree"});Q=v("<div />").attr({id:"jstree-marker"}).hide().html("&raquo;").bind("mouseleave mouseenter",function(a){Q.hide();H.hide();a.preventDefault();a.stopImmediatePropagation();return!1}).appendTo("body");H=v("<div />").attr({id:"jstree-marker-line"}).hide().bind("mouseup",function(a){if(I&&I.length)return I.children("a").trigger(a),a.preventDefault(),a.stopImmediatePropagation(),!1}).bind("mouseleave",function(a){var b=v(a.relatedTarget);if((b.is(".jstree")||0===b.closest(".jstree").length)&&
I&&I.length)return I.children("a").trigger(a),Q.hide(),H.hide(),a.preventDefault(),a.stopImmediatePropagation(),!1}).appendTo("body");v(document).bind("drag_start.vakata",function(a,b){b.data.jstree&&(Q.show(),H&&H.show())});v(document).bind("drag_stop.vakata",function(a,b){b.data.jstree&&(Q.hide(),H&&H.hide())})});var w=jQuery;w.jstree.plugin("checkbox",{__init:function(){this.data.checkbox.noui=this._get_settings().checkbox.override_ui;this.data.ui&&this.data.checkbox.noui&&(this.select_node=this.deselect_node=
this.deselect_all=w.noop,this.get_selected=this.get_checked);this.get_container().bind("open_node.jstree create_node.jstree clean_node.jstree refresh.jstree",w.proxy(function(a,b){this._prepare_checkboxes(b.rslt.obj)},this)).bind("loaded.jstree",w.proxy(function(){this._prepare_checkboxes()},this)).delegate(this.data.ui&&this.data.checkbox.noui?"a":"ins.jstree-checkbox","click.jstree",w.proxy(function(a){a.preventDefault();this._get_node(a.target).hasClass("jstree-checked")?this.uncheck_node(a.target):
this.check_node(a.target);if(this.data.ui&&this.data.checkbox.noui)this.save_selected(),this.data.cookies&&this.save_cookie("select_node");else return a.stopImmediatePropagation(),!1},this))},defaults:{override_ui:!1,two_state:!1,real_checkboxes:!1,checked_parent_open:!0,real_checkboxes_names:function(a){return["check_"+(a[0].id||Math.ceil(1E4*Math.random())),1]}},__destroy:function(){this.get_container().find("input.jstree-real-checkbox").removeClass("jstree-real-checkbox").end().find("ins.jstree-checkbox").remove()},
_fn:{_checkbox_notify:function(a,b){b.checked&&this.check_node(a,!1)},_prepare_checkboxes:function(a){a=!a||-1==a?this.get_container().find("> ul > li"):this._get_node(a);if(!1!==a){var b,c=this,d,f=this._get_settings().checkbox.two_state,g=this._get_settings().checkbox.real_checkboxes,h=this._get_settings().checkbox.real_checkboxes_names;a.each(function(){d=w(this);b=d.is("li")&&(d.hasClass("jstree-checked")||g&&d.children(":checked").length)?"jstree-checked":"jstree-unchecked";d.find("li").addBack().each(function(){var a=
w(this),d;a.children("a"+(c.data.languages?"":":eq(0)")).not(":has(.jstree-checkbox)").prepend("<ins class='jstree-checkbox'>&#160;</ins>").parent().not(".jstree-checked, .jstree-unchecked").addClass(f?"jstree-unchecked":b);g&&(a.children(":checkbox").length?a.children(":checkbox").addClass("jstree-real-checkbox"):(d=h.call(c,a),a.prepend("<input type='checkbox' class='jstree-real-checkbox' id='"+d[0]+"' name='"+d[0]+"' value='"+d[1]+"' />")));f?(a.hasClass("jstree-checked")||a.children(":checked").length)&&
a.addClass("jstree-checked").children(":checkbox").prop("checked",!0):("jstree-checked"===b||a.hasClass("jstree-checked")||a.children(":checked").length)&&a.find("li").addBack().addClass("jstree-checked").children(":checkbox").prop("checked",!0)})});f||a.find(".jstree-checked").parent().parent().each(function(){c._repair_state(this)})}},change_state:function(a,b){var a=this._get_node(a),c=!1,d=this._get_settings().checkbox.real_checkboxes;if(!a||-1===a)return!1;b=!1===b||!0===b?b:a.hasClass("jstree-checked");
if(this._get_settings().checkbox.two_state)b?(a.removeClass("jstree-checked").addClass("jstree-unchecked"),d&&a.children(":checkbox").prop("checked",!1)):(a.removeClass("jstree-unchecked").addClass("jstree-checked"),d&&a.children(":checkbox").prop("checked",!0));else{if(b){c=a.find("li").addBack();if(!c.filter(".jstree-checked, .jstree-undetermined").length)return!1;c.removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked");d&&c.children(":checkbox").prop("checked",!1)}else{c=
a.find("li").addBack();if(!c.filter(".jstree-unchecked, .jstree-undetermined").length)return!1;c.removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked");d&&c.children(":checkbox").prop("checked",!0);this.data.ui&&(this.data.ui.last_selected=a);this.data.checkbox.last_selected=a}a.parentsUntil(".jstree","li").each(function(){var a=w(this);if(b){if(a.children("ul").children("li.jstree-checked, li.jstree-undetermined").length)return a.parentsUntil(".jstree","li").addBack().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),
d&&a.parentsUntil(".jstree","li").addBack().children(":checkbox").prop("checked",!1),!1;a.removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked");d&&a.children(":checkbox").prop("checked",!1)}else{if(a.children("ul").children("li.jstree-unchecked, li.jstree-undetermined").length)return a.parentsUntil(".jstree","li").addBack().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),d&&a.parentsUntil(".jstree","li").addBack().children(":checkbox").prop("checked",
!1),!1;a.removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked");d&&a.children(":checkbox").prop("checked",!0)}})}this.data.ui&&this.data.checkbox.noui&&(this.data.ui.selected=this.get_checked());this.__callback(a);return!0},check_node:function(a){if(this.change_state(a,!1)){a=this._get_node(a);if(this._get_settings().checkbox.checked_parent_open){var b=this;a.parents(".jstree-closed").each(function(){b.open_node(this,!1,!0)})}this.__callback({obj:a})}},uncheck_node:function(a){this.change_state(a,
!0)&&this.__callback({obj:this._get_node(a)})},check_all:function(){var a=this;(this._get_settings().checkbox.two_state?this.get_container_ul().find("li"):this.get_container_ul().children("li")).each(function(){a.change_state(this,!1)});this.__callback()},uncheck_all:function(){var a=this;(this._get_settings().checkbox.two_state?this.get_container_ul().find("li"):this.get_container_ul().children("li")).each(function(){a.change_state(this,!0)});this.__callback()},is_checked:function(a){a=this._get_node(a);
return a.length?a.is(".jstree-checked"):!1},get_checked:function(a,b){a=!a||-1===a?this.get_container():this._get_node(a);return b||this._get_settings().checkbox.two_state?a.find(".jstree-checked"):a.find("> ul > .jstree-checked, .jstree-undetermined > ul > .jstree-checked")},get_unchecked:function(a,b){a=!a||-1===a?this.get_container():this._get_node(a);return b||this._get_settings().checkbox.two_state?a.find(".jstree-unchecked"):a.find("> ul > .jstree-unchecked, .jstree-undetermined > ul > .jstree-unchecked")},
show_checkboxes:function(){this.get_container().children("ul").removeClass("jstree-no-checkboxes")},hide_checkboxes:function(){this.get_container().children("ul").addClass("jstree-no-checkboxes")},_repair_state:function(a){a=this._get_node(a);if(a.length)if(this._get_settings().checkbox.two_state)a.find("li").addBack().not(".jstree-checked").removeClass("jstree-undetermined").addClass("jstree-unchecked").children(":checkbox").prop("checked",!0);else{var b=this._get_settings().checkbox.real_checkboxes,
c=a.find("> ul > .jstree-checked").length,d=a.find("> ul > .jstree-undetermined").length,f=a.find("> ul > li").length;0===f?a.hasClass("jstree-undetermined")&&this.change_state(a,!1):0===c&&0===d?this.change_state(a,!0):c===f?this.change_state(a,!1):(a.parentsUntil(".jstree","li").addBack().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),b&&a.parentsUntil(".jstree","li").addBack().children(":checkbox").prop("checked",!1))}},reselect:function(){if(this.data.ui&&this.data.checkbox.noui){var a=
this,b=this.data.ui.to_select,b=w.map(w.makeArray(b),function(a){return"#"+a.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")});this.deselect_all();w.each(b,function(b,c){a.check_node(c)});this.__callback()}else this.__call_old()},save_loaded:function(){var a=this;this.data.core.to_load=[];this.get_container_ul().find("li.jstree-closed.jstree-undetermined").each(function(){this.id&&a.data.core.to_load.push("#"+this.id)})}}});
w(function(){w.vakata.css.add_sheet({str:".jstree .jstree-real-checkbox { display:none; } ",title:"jstree"})});var C=jQuery;C.vakata.xslt=function(a,b,c){var d=!1,f,g,h;if(!1===d&&window.ActiveXObject)try{d=new ActiveXObject("Msxml2.XSLTemplate"),g=new ActiveXObject("Msxml2.DOMDocument"),g.loadXML(a),h=new ActiveXObject("Msxml2.FreeThreadedDOMDocument"),h.loadXML(b),d.stylesheet=h,f=d.createProcessor(),f.input=g,f.transform(),d=f.output}catch(j){}a=C.parseXML(a);b=C.parseXML(b);!1===d&&"undefined"!==
typeof XSLTProcessor&&(f=new XSLTProcessor,f.importStylesheet(b),d=f.transformToFragment(a,document),d=C("<div />").append(d).html());!1===d&&"undefined"!==typeof a.transformNode&&(d=a.transformNode(b));c.call(null,d)};var U={nest:'<?xml version="1.0" encoding="utf-8" ?><xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" ><xsl:output method="html" encoding="utf-8" omit-xml-declaration="yes" standalone="no" indent="no" media-type="text/html" /><xsl:template match="/">\t<xsl:call-template name="nodes">\t\t<xsl:with-param name="node" select="/root" />\t</xsl:call-template></xsl:template><xsl:template name="nodes">\t<xsl:param name="node" />\t<ul>\t<xsl:for-each select="$node/item">\t\t<xsl:variable name="children" select="count(./item) &gt; 0" />\t\t<li>\t\t\t<xsl:attribute name="class">\t\t\t\t<xsl:if test="position() = last()">jstree-last </xsl:if>\t\t\t\t<xsl:choose>\t\t\t\t\t<xsl:when test="@state = \'open\'">jstree-open </xsl:when>\t\t\t\t\t<xsl:when test="$children or @hasChildren or @state = \'closed\'">jstree-closed </xsl:when>\t\t\t\t\t<xsl:otherwise>jstree-leaf </xsl:otherwise>\t\t\t\t</xsl:choose>\t\t\t\t<xsl:value-of select="@class" />\t\t\t</xsl:attribute>\t\t\t<xsl:for-each select="@*">\t\t\t\t<xsl:if test="name() != \'class\' and name() != \'state\' and name() != \'hasChildren\'">\t\t\t\t\t<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>\t\t\t\t</xsl:if>\t\t\t</xsl:for-each>\t<ins class="jstree-icon"><xsl:text>&#xa0;</xsl:text></ins>\t\t\t<xsl:for-each select="content/name">\t\t\t\t<a>\t\t\t\t<xsl:attribute name="href">\t\t\t\t\t<xsl:choose>\t\t\t\t\t<xsl:when test="@href"><xsl:value-of select="@href" /></xsl:when>\t\t\t\t\t<xsl:otherwise>#</xsl:otherwise>\t\t\t\t\t</xsl:choose>\t\t\t\t</xsl:attribute>\t\t\t\t<xsl:attribute name="class"><xsl:value-of select="@lang" /> <xsl:value-of select="@class" /></xsl:attribute>\t\t\t\t<xsl:attribute name="style"><xsl:value-of select="@style" /></xsl:attribute>\t\t\t\t<xsl:for-each select="@*">\t\t\t\t\t<xsl:if test="name() != \'style\' and name() != \'class\' and name() != \'href\'">\t\t\t\t\t\t<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>\t\t\t\t\t</xsl:if>\t\t\t\t</xsl:for-each>\t\t\t\t\t<ins>\t\t\t\t\t\t<xsl:attribute name="class">jstree-icon \t\t\t\t\t\t\t<xsl:if test="string-length(attribute::icon) > 0 and not(contains(@icon,\'/\'))"><xsl:value-of select="@icon" /></xsl:if>\t\t\t\t\t\t</xsl:attribute>\t\t\t\t\t\t<xsl:if test="string-length(attribute::icon) > 0 and contains(@icon,\'/\')"><xsl:attribute name="style">background:url(<xsl:value-of select="@icon" />) center center no-repeat;</xsl:attribute></xsl:if>\t\t\t\t\t\t<xsl:text>&#xa0;</xsl:text>\t\t\t\t\t</ins>\t\t\t\t\t<xsl:copy-of select="./child::node()" />\t\t\t\t</a>\t\t\t</xsl:for-each>\t\t\t<xsl:if test="$children or @hasChildren"><xsl:call-template name="nodes"><xsl:with-param name="node" select="current()" /></xsl:call-template></xsl:if>\t\t</li>\t</xsl:for-each>\t</ul></xsl:template></xsl:stylesheet>',
flat:'<?xml version="1.0" encoding="utf-8" ?><xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" ><xsl:output method="html" encoding="utf-8" omit-xml-declaration="yes" standalone="no" indent="no" media-type="text/xml" /><xsl:template match="/">\t<ul>\t<xsl:for-each select="//item[not(@parent_id) or @parent_id=0 or not(@parent_id = //item/@id)]">\t\t<xsl:call-template name="nodes">\t\t\t<xsl:with-param name="node" select="." />\t\t\t<xsl:with-param name="is_last" select="number(position() = last())" />\t\t</xsl:call-template>\t</xsl:for-each>\t</ul></xsl:template><xsl:template name="nodes">\t<xsl:param name="node" />\t<xsl:param name="is_last" />\t<xsl:variable name="children" select="count(//item[@parent_id=$node/attribute::id]) &gt; 0" />\t<li>\t<xsl:attribute name="class">\t\t<xsl:if test="$is_last = true()">jstree-last </xsl:if>\t\t<xsl:choose>\t\t\t<xsl:when test="@state = \'open\'">jstree-open </xsl:when>\t\t\t<xsl:when test="$children or @hasChildren or @state = \'closed\'">jstree-closed </xsl:when>\t\t\t<xsl:otherwise>jstree-leaf </xsl:otherwise>\t\t</xsl:choose>\t\t<xsl:value-of select="@class" />\t</xsl:attribute>\t<xsl:for-each select="@*">\t\t<xsl:if test="name() != \'parent_id\' and name() != \'hasChildren\' and name() != \'class\' and name() != \'state\'">\t\t<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>\t\t</xsl:if>\t</xsl:for-each>\t<ins class="jstree-icon"><xsl:text>&#xa0;</xsl:text></ins>\t<xsl:for-each select="content/name">\t\t<a>\t\t<xsl:attribute name="href">\t\t\t<xsl:choose>\t\t\t<xsl:when test="@href"><xsl:value-of select="@href" /></xsl:when>\t\t\t<xsl:otherwise>#</xsl:otherwise>\t\t\t</xsl:choose>\t\t</xsl:attribute>\t\t<xsl:attribute name="class"><xsl:value-of select="@lang" /> <xsl:value-of select="@class" /></xsl:attribute>\t\t<xsl:attribute name="style"><xsl:value-of select="@style" /></xsl:attribute>\t\t<xsl:for-each select="@*">\t\t\t<xsl:if test="name() != \'style\' and name() != \'class\' and name() != \'href\'">\t\t\t\t<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>\t\t\t</xsl:if>\t\t</xsl:for-each>\t\t\t<ins>\t\t\t\t<xsl:attribute name="class">jstree-icon \t\t\t\t\t<xsl:if test="string-length(attribute::icon) > 0 and not(contains(@icon,\'/\'))"><xsl:value-of select="@icon" /></xsl:if>\t\t\t\t</xsl:attribute>\t\t\t\t<xsl:if test="string-length(attribute::icon) > 0 and contains(@icon,\'/\')"><xsl:attribute name="style">background:url(<xsl:value-of select="@icon" />) center center no-repeat;</xsl:attribute></xsl:if>\t\t\t\t<xsl:text>&#xa0;</xsl:text>\t\t\t</ins>\t\t\t<xsl:copy-of select="./child::node()" />\t\t</a>\t</xsl:for-each>\t<xsl:if test="$children">\t\t<ul>\t\t<xsl:for-each select="//item[@parent_id=$node/attribute::id]">\t\t\t<xsl:call-template name="nodes">\t\t\t\t<xsl:with-param name="node" select="." />\t\t\t\t<xsl:with-param name="is_last" select="number(position() = last())" />\t\t\t</xsl:call-template>\t\t</xsl:for-each>\t\t</ul>\t</xsl:if>\t</li></xsl:template></xsl:stylesheet>'},
V=function(a){return a.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")};C.jstree.plugin("xml_data",{defaults:{data:!1,ajax:!1,xsl:"flat",clean_node:!1,correct_state:!0,get_skip_empty:!1,get_include_preamble:!0},_fn:{load_node:function(a,b,c){var d=this;this.load_node_xml(a,function(){d.__callback({obj:d._get_node(a)});b.call(this)},c)},_is_loaded:function(a){var b=this._get_settings().xml_data,a=this._get_node(a);return-1==a||
!a||!b.ajax&&!C.isFunction(b.data)||a.is(".jstree-open, .jstree-leaf")||0<a.children("ul").children("li").size()},load_node_xml:function(a,b,c){var d=this.get_settings().xml_data,f=function(){},g=function(){};if((a=this._get_node(a))&&-1!==a){if(a.data("jstree_is_loading"))return;a.data("jstree_is_loading",!0)}switch(!0){case !d.data&&!d.ajax:throw"Neither data nor ajax settings supplied.";case C.isFunction(d.data):d.data.call(this,a,C.proxy(function(c){this.parse_xml(c,C.proxy(function(c){c&&(c=
c.replace(/ ?xmlns="[^"]*"/ig,""),10<c.length?(c=C(c),-1===a||!a?this.get_container().children("ul").empty().append(c.children()):(a.children("a.jstree-loading").removeClass("jstree-loading"),a.append(c),a.removeData("jstree_is_loading")),d.clean_node&&this.clean_node(a),b&&b.call(this)):a&&-1!==a?(a.children("a.jstree-loading").removeClass("jstree-loading"),a.removeData("jstree_is_loading"),d.correct_state&&(this.correct_state(a),b&&b.call(this))):d.correct_state&&(this.get_container().children("ul").empty(),
b&&b.call(this)))},this))},this));break;case !!d.data&&!d.ajax||!!d.data&&!!d.ajax&&(!a||-1===a):(!a||-1==a)&&this.parse_xml(d.data,C.proxy(function(c){c?(c=c.replace(/ ?xmlns="[^"]*"/ig,""),10<c.length&&(c=C(c),this.get_container().children("ul").empty().append(c.children()),d.clean_node&&this.clean_node(a),b&&b.call(this))):d.correct_state&&(this.get_container().children("ul").empty(),b&&b.call(this))},this));break;case !d.data&&!!d.ajax||!!d.data&&!!d.ajax&&a&&-1!==a:f=function(b,f,g){var h=this.get_settings().xml_data.ajax.error;
h&&h.call(this,b,f,g);-1!==a&&a.length?(a.children("a.jstree-loading").removeClass("jstree-loading"),a.removeData("jstree_is_loading"),"success"===f&&d.correct_state&&this.correct_state(a)):"success"===f&&d.correct_state&&this.get_container().children("ul").empty();c&&c.call(this)},g=function(c,g,h){var c=h.responseText,j=this.get_settings().xml_data.ajax.success;j&&(c=j.call(this,c,g,h)||c);if(""===c||c&&c.toString&&""===c.toString().replace(/^[\s\n]+$/,""))return f.call(this,h,g,"");this.parse_xml(c,
C.proxy(function(c){c&&(c=c.replace(/ ?xmlns="[^"]*"/ig,""),10<c.length?(c=C(c),-1===a||!a?this.get_container().children("ul").empty().append(c.children()):(a.children("a.jstree-loading").removeClass("jstree-loading"),a.append(c),a.removeData("jstree_is_loading")),d.clean_node&&this.clean_node(a),b&&b.call(this)):a&&-1!==a?(a.children("a.jstree-loading").removeClass("jstree-loading"),a.removeData("jstree_is_loading"),d.correct_state&&(this.correct_state(a),b&&b.call(this))):d.correct_state&&(this.get_container().children("ul").empty(),
b&&b.call(this)))},this))},d.ajax.context=this,d.ajax.error=f,d.ajax.success=g,d.ajax.dataType||(d.ajax.dataType="xml"),C.isFunction(d.ajax.url)&&(d.ajax.url=d.ajax.url.call(this,a)),C.isFunction(d.ajax.data)&&(d.ajax.data=d.ajax.data.call(this,a)),C.ajax(d.ajax)}},parse_xml:function(a,b){var c=this._get_settings().xml_data;C.vakata.xslt(a,U[c.xsl],b)},get_xml:function(a,b,c,d,f){var g="",h=this._get_settings(),j=this,m,n,p,l,q;a||(a="flat");f||(f=0);b=this._get_node(b);if(!b||-1===b)b=this.get_container().find("> ul > li");
c=C.isArray(c)?c:["id","class"];!f&&(this.data.types&&-1===C.inArray(h.types.type_attr,c))&&c.push(h.types.type_attr);d=C.isArray(d)?d:[];f||(h.xml_data.get_include_preamble&&(g+='<?xml version="1.0" encoding="UTF-8"?>'),g+="<root>");b.each(function(){g+="<item";p=C(this);C.each(c,function(a,b){var c=p.attr(b);if(!h.xml_data.get_skip_empty||"undefined"!==typeof c)g+=" "+b+'="'+V((" "+(c||"")).replace(/ jstree[^ ]*/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,""))+'"'});p.hasClass("jstree-open")&&
(g+=' state="open"');p.hasClass("jstree-closed")&&(g+=' state="closed"');"flat"===a&&(g+=' parent_id="'+V(f)+'"');g+=">";g+="<content>";l=p.children("a");l.each(function(){m=C(this);q=!1;g+="<name";-1!==C.inArray("languages",h.plugins)&&C.each(h.languages,function(a,b){if(m.hasClass(b))return g+=' lang="'+V(b)+'"',q=b,!1});d.length&&C.each(d,function(a,b){var c=m.attr(b);if(!h.xml_data.get_skip_empty||"undefined"!==typeof c)g+=" "+b+'="'+V((" "+c||"").replace(/ jstree[^ ]*/ig,"").replace(/\s+$/ig,
" ").replace(/^ /,"").replace(/ $/,""))+'"'});m.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").replace(/^\s+$/ig,"").length&&(g+=' icon="'+V(m.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,""))+'"');m.children("ins").get(0).style.backgroundImage.length&&(g+=' icon="'+V(m.children("ins").get(0).style.backgroundImage.replace("url(","").replace(")","").replace(/'/ig,"").replace(/"/ig,""))+'"');g+=">";g+="<![CDATA["+
j.get_text(m,q)+"]]\>";g+="</name>"});g+="</content>";n=p[0].id||!0;p=p.find("> ul > li");n=p.length?j.get_xml(a,p,c,d,n):"";"nest"==a&&(g+=n);g+="</item>";"flat"==a&&(g+=n)});f||(g+="</root>");return g}}});var M=jQuery;8<=M().jquery.split(".")[1]?(M.expr[":"].jstree_contains=M.expr.createPseudo(function(a){return function(b){return 0<=(b.textContent||b.innerText||"").toLowerCase().indexOf(a.toLowerCase())}}),M.expr[":"].jstree_title_contains=M.expr.createPseudo(function(a){return function(b){return 0<=
(b.getAttribute("title")||"").toLowerCase().indexOf(a.toLowerCase())}})):(M.expr[":"].jstree_contains=function(a,b,c){return 0<=(a.textContent||a.innerText||"").toLowerCase().indexOf(c[3].toLowerCase())},M.expr[":"].jstree_title_contains=function(a,b,c){return 0<=(a.getAttribute("title")||"").toLowerCase().indexOf(c[3].toLowerCase())});M.jstree.plugin("search",{__init:function(){this.data.search.str="";this.data.search.result=M();this._get_settings().search.show_only_matches&&this.get_container().bind("search.jstree",
function(a,b){M(this).children("ul").find("li").hide().removeClass("jstree-last");b.rslt.nodes.parentsUntil(".jstree").addBack().show().filter("ul").each(function(){M(this).children("li:visible").eq(-1).addClass("jstree-last")})}).bind("clear_search.jstree",function(){M(this).children("ul").find("li").css("display","").end().end().jstree("clean_node",-1)})},defaults:{ajax:!1,search_method:"jstree_contains",show_only_matches:!1},_fn:{search:function(a,b){if(""===M.trim(a))this.clear_search();else{var c=
this.get_settings().search,d=this,f=function(){};this.data.search.str=a;if(!b&&!1!==c.ajax&&0<this.get_container_ul().find("li.jstree-closed:not(:has(ul)):eq(0)").length){this.search.supress_callback=!0;f=function(a,b,c){var d=this.get_settings().search.ajax.success;d&&(a=d.call(this,a,b,c)||a);this.data.search.to_open=a;this._search_open()};c.ajax.context=this;c.ajax.error=function(){};c.ajax.success=f;M.isFunction(c.ajax.url)&&(c.ajax.url=c.ajax.url.call(this,a));M.isFunction(c.ajax.data)&&(c.ajax.data=
c.ajax.data.call(this,a));c.ajax.data||(c.ajax.data={search_string:a});if(!c.ajax.dataType||/^json/.exec(c.ajax.dataType))c.ajax.dataType="json";M.ajax(c.ajax)}else this.data.search.result.length&&this.clear_search(),this.data.search.result=this.get_container().find("a"+(this.data.languages?"."+this.get_lang():"")+":"+c.search_method+"("+this.data.search.str+")"),this.data.search.result.addClass("jstree-search").parent().parents(".jstree-closed").each(function(){d.open_node(this,!1,!0)}),this.__callback({nodes:this.data.search.result,
str:a})}},clear_search:function(){this.data.search.result.removeClass("jstree-search");this.__callback(this.data.search.result);this.data.search.result=M()},_search_open:function(){var a=this,b=!0,c=[],d=[];this.data.search.to_open.length&&(M.each(this.data.search.to_open,function(a,b){if("#"==b)return!0;M(b).length&&M(b).is(".jstree-closed")?c.push(b):d.push(b)}),c.length&&(this.data.search.to_open=d,M.each(c,function(b,c){a.open_node(c,function(){a._search_open(!0)})}),b=!1));b&&this.search(this.data.search.str,
!0)}}});var G=jQuery;G.vakata.context={hide_on_mouseleave:!1,cnt:G("<div id='vakata-contextmenu' />"),vis:!1,tgt:!1,par:!1,func:!1,data:!1,rtl:!1,show:function(a,b,c,d,f,g,h){G.vakata.context.rtl=!!h;if(a=G.vakata.context.parse(a)){G.vakata.context.vis=!0;G.vakata.context.tgt=b;G.vakata.context.par=g||b||null;G.vakata.context.data=f||null;G.vakata.context.cnt.html(a).css({visibility:"hidden",display:"block",left:0,top:0});if(G.vakata.context.hide_on_mouseleave)G.vakata.context.cnt.one("mouseleave",
function(){G.vakata.context.hide()});f=G.vakata.context.cnt.height();g=G.vakata.context.cnt.width();c+g>G(document).width()&&(c=G(document).width()-(g+5),G.vakata.context.cnt.find("li > ul").addClass("right"));d+f>G(document).height()&&(d-=f+b[0].offsetHeight,G.vakata.context.cnt.find("li > ul").addClass("bottom"));G.vakata.context.cnt.css({left:c,top:d}).find("li:has(ul)").bind("mouseenter",function(){var a=G(document).width(),b=G(document).height(),c=G(this).children("ul").show();a!==G(document).width()&&
c.toggleClass("right");b!==G(document).height()&&c.toggleClass("bottom")}).bind("mouseleave",function(){G(this).children("ul").hide()}).end().css({visibility:"visible"}).show();G(document).triggerHandler("context_show.vakata")}},hide:function(){G.vakata.context.vis=!1;G.vakata.context.cnt.attr("class","").css({visibility:"hidden"});G(document).triggerHandler("context_hide.vakata")},parse:function(a,b){if(!a)return!1;var c="",d=!1,f=!0;b||(G.vakata.context.func={});c+="<ul>";G.each(a,function(a,b){if(!b)return!0;
G.vakata.context.func[a]=b.action;!f&&b.separator_before&&(c+="<li class='vakata-separator vakata-separator-before'></li>");f=!1;c+="<li class='"+(b._class||"")+(b._disabled?" jstree-contextmenu-disabled ":"")+"'><ins ";b.icon&&-1===b.icon.indexOf("/")&&(c+=" class='"+b.icon+"' ");b.icon&&-1!==b.icon.indexOf("/")&&(c+=" style='background:url("+b.icon+") center center no-repeat;' ");c+=">&#160;</ins><a href='#' rel='"+a+"'>";b.submenu&&(c+="<span style='float:"+(G.vakata.context.rtl?"left":"right")+
";'>&raquo;</span>");c+=b.label+"</a>";b.submenu&&(d=G.vakata.context.parse(b.submenu,!0))&&(c+=d);c+="</li>";b.separator_after&&(c+="<li class='vakata-separator vakata-separator-after'></li>",f=!0)});c=c.replace(/<li class\='vakata-separator vakata-separator-after'\><\/li\>$/,"");c+="</ul>";G(document).triggerHandler("context_parse.vakata");return 10<c.length?c:!1},exec:function(a){return G.isFunction(G.vakata.context.func[a])?(G.vakata.context.func[a].call(G.vakata.context.data,G.vakata.context.par),
!0):!1}};G(function(){G.vakata.css.add_sheet({str:"#vakata-contextmenu { display:block; visibility:hidden; left:0; top:-200px; position:absolute; margin:0; padding:0; min-width:180px; background:#ebebeb; border:1px solid silver; z-index:10000; *width:180px; } #vakata-contextmenu ul { min-width:180px; *width:180px; } #vakata-contextmenu ul, #vakata-contextmenu li { margin:0; padding:0; list-style-type:none; display:block; } #vakata-contextmenu li { line-height:20px; min-height:20px; position:relative; padding:0px; } #vakata-contextmenu li a { padding:1px 6px; line-height:17px; display:block; text-decoration:none; margin:1px 1px 0 1px; } #vakata-contextmenu li ins { float:left; width:16px; height:16px; text-decoration:none; margin-right:2px; } #vakata-contextmenu li a:hover, #vakata-contextmenu li.vakata-hover > a { background:gray; color:white; } #vakata-contextmenu li ul { display:none; position:absolute; top:-2px; left:100%; background:#ebebeb; border:1px solid gray; } #vakata-contextmenu .right { right:100%; left:auto; } #vakata-contextmenu .bottom { bottom:-1px; top:auto; } #vakata-contextmenu li.vakata-separator { min-height:0; height:1px; line-height:1px; font-size:1px; overflow:hidden; margin:0 2px; background:silver; /* border-top:1px solid #fefefe; */ padding:0; } ",
title:"vakata"});G.vakata.context.cnt.delegate("a","click",function(a){a.preventDefault()}).delegate("a","mouseup",function(){!G(this).parent().hasClass("jstree-contextmenu-disabled")&&G.vakata.context.exec(G(this).attr("rel"))?G.vakata.context.hide():G(this).blur()}).delegate("a","mouseover",function(){G.vakata.context.cnt.find(".vakata-hover").removeClass("vakata-hover")}).appendTo("body");G(document).bind("mousedown",function(a){G.vakata.context.vis&&!G.contains(G.vakata.context.cnt[0],a.target)&&
G.vakata.context.hide()});"undefined"!==typeof G.hotkeys&&G(document).bind("keydown","up",function(a){if(G.vakata.context.vis){var b=G.vakata.context.cnt.find("ul:visible").last().children(".vakata-hover").removeClass("vakata-hover").prevAll("li:not(.vakata-separator)").first();b.length||(b=G.vakata.context.cnt.find("ul:visible").last().children("li:not(.vakata-separator)").last());b.addClass("vakata-hover");a.stopImmediatePropagation();a.preventDefault()}}).bind("keydown","down",function(a){if(G.vakata.context.vis){var b=
G.vakata.context.cnt.find("ul:visible").last().children(".vakata-hover").removeClass("vakata-hover").nextAll("li:not(.vakata-separator)").first();b.length||(b=G.vakata.context.cnt.find("ul:visible").last().children("li:not(.vakata-separator)").first());b.addClass("vakata-hover");a.stopImmediatePropagation();a.preventDefault()}}).bind("keydown","right",function(a){G.vakata.context.vis&&(G.vakata.context.cnt.find(".vakata-hover").children("ul").show().children("li:not(.vakata-separator)").removeClass("vakata-hover").first().addClass("vakata-hover"),
a.stopImmediatePropagation(),a.preventDefault())}).bind("keydown","left",function(a){G.vakata.context.vis&&(G.vakata.context.cnt.find(".vakata-hover").children("ul").hide().children(".vakata-separator").removeClass("vakata-hover"),a.stopImmediatePropagation(),a.preventDefault())}).bind("keydown","esc",function(a){G.vakata.context.hide();a.preventDefault()}).bind("keydown","space",function(a){G.vakata.context.cnt.find(".vakata-hover").last().children("a").click();a.preventDefault()})});G.jstree.plugin("contextmenu",
{__init:function(){this.get_container().delegate("a","contextmenu.jstree",G.proxy(function(a){a.preventDefault();G(a.currentTarget).hasClass("jstree-loading")||this.show_contextmenu(a.currentTarget,a.pageX,a.pageY)},this)).delegate("a","click.jstree",G.proxy(function(){this.data.contextmenu&&G.vakata.context.hide()},this)).bind("destroy.jstree",G.proxy(function(){this.data.contextmenu&&G.vakata.context.hide()},this));G(document).bind("context_hide.vakata",G.proxy(function(){this.data.contextmenu=
!1},this))},defaults:{select_node:!1,show_at_node:!0,items:{create:{separator_before:!1,separator_after:!0,label:"Create",action:function(a){this.create(a)}},rename:{separator_before:!1,separator_after:!1,label:"Rename",action:function(a){this.rename(a)}},remove:{separator_before:!1,icon:!1,separator_after:!1,label:"Delete",action:function(a){this.is_selected(a)?this.remove():this.remove(a)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,
separator_after:!1,label:"Cut",action:function(a){this.cut(a)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(a){this.copy(a)}},paste:{separator_before:!1,icon:!1,separator_after:!1,label:"Paste",action:function(a){this.paste(a)}}}}}},_fn:{show_contextmenu:function(a,b,c){var a=this._get_node(a),d=this.get_settings().contextmenu,f=a.children("a:visible:eq(0)"),g=!1,g=!1;d.select_node&&(this.data.ui&&!this.is_selected(a))&&(this.deselect_all(),this.select_node(a,
!0));if(d.show_at_node||"undefined"===typeof b||"undefined"===typeof c)g=f.offset(),b=g.left,c=g.top+this.data.core.li_height;g=a.data("jstree")&&a.data("jstree").contextmenu?a.data("jstree").contextmenu:d.items;G.isFunction(g)&&(g=g.call(this,a));this.data.contextmenu=!0;G.vakata.context.show(g,f,b,c,this,a,this._get_settings().core.rtl);this.data.themes&&G.vakata.context.cnt.attr("class","jstree-"+this.data.themes.theme+"-context")}}});var X=jQuery;X.jstree.plugin("types",{__init:function(){var b=
this._get_settings().types;this.data.types.attach_to=[];this.get_container().bind("init.jstree",X.proxy(function(){var a=b.type_attr,c="",d=this;X.each(b.types,function(b,f){X.each(f,function(a){/^(max_depth|max_children|icon|valid_children)$/.test(a)||d.data.types.attach_to.push(a)});if(!f.icon)return!0;if(f.icon.image||f.icon.position)c="default"==b?c+(".jstree-"+d.get_index()+" a > .jstree-icon { "):c+(".jstree-"+d.get_index()+" li["+a+'="'+b+'"] > a > .jstree-icon { '),f.icon.image&&(c+=" background-image:url("+
f.icon.image+"); "),c=f.icon.position?c+(" background-position:"+f.icon.position+"; "):c+" background-position:0 0; ",c+="} "});""!==c&&X.vakata.css.add_sheet({str:c,title:"jstree-types"})},this)).bind("before.jstree",X.proxy(function(a,b){var c,d;if((c=(c=this._get_settings().types.use_data?this._get_node(b.args[0]):!1)&&-1!==c&&c.length?c.data("jstree"):!1)&&c.types&&!1===c.types[b.func])return a.stopImmediatePropagation(),!1;if(-1!==X.inArray(b.func,this.data.types.attach_to)&&b.args[0]&&(b.args[0].tagName||
b.args[0].jquery))if(c=this._get_settings().types.types,d=this._get_type(b.args[0]),(c[d]&&"undefined"!==typeof c[d][b.func]||c["default"]&&"undefined"!==typeof c["default"][b.func])&&!1===this._check(b.func,b.args[0]))return a.stopImmediatePropagation(),!1},this));a&&this.get_container().bind("load_node.jstree set_type.jstree",X.proxy(function(a,b){var c=b&&b.rslt&&b.rslt.obj&&-1!==b.rslt.obj?this._get_node(b.rslt.obj).parent():this.get_container_ul(),d=!1,f=this._get_settings().types;X.each(f.types,
function(a,b){if(b.icon&&(b.icon.image||b.icon.position))d="default"===a?c.find("li > a > .jstree-icon"):c.find("li["+f.type_attr+"='"+a+"'] > a > .jstree-icon"),b.icon.image&&d.css("backgroundImage","url("+b.icon.image+")"),d.css("backgroundPosition",b.icon.position||"0 0")})},this))},defaults:{max_children:-1,max_depth:-1,valid_children:"all",use_data:!1,type_attr:"rel",types:{"default":{max_children:-1,max_depth:-1,valid_children:"all"}}},_fn:{_types_notify:function(a,b){b.type&&this._get_settings().types.use_data&&
this.set_type(b.type,a)},_get_type:function(a){a=this._get_node(a);return!a||!a.length?!1:a.attr(this._get_settings().types.type_attr)||"default"},set_type:function(a,b){var b=this._get_node(b),c=!b.length||!a?!1:b.attr(this._get_settings().types.type_attr,a);c&&this.__callback({obj:b,type:a});return c},_check:function(a,b,c){var b=this._get_node(b),d=!1,f=this._get_type(b),g=0,h=this,j=this._get_settings().types,m=!1;if(-1===b)if(j[a])d=j[a];else return;else{if(!1===f)return;(m=j.use_data?b.data("jstree"):
!1)&&m.types&&"undefined"!==typeof m.types[a]?d=m.types[a]:j.types[f]&&"undefined"!==typeof j.types[f][a]?d=j.types[f][a]:j.types["default"]&&"undefined"!==typeof j.types["default"][a]&&(d=j.types["default"][a])}X.isFunction(d)&&(d=d.call(this,b));"max_depth"===a&&(-1!==b&&!1!==c&&-2!==j.max_depth&&0!==d)&&b.children("a:eq(0)").parentsUntil(".jstree","li").each(function(b){if(-1!==j.max_depth&&0>=j.max_depth-(b+1))return d=0,!1;g=0===b?d:h._check(a,this,!1);if(-1!==g&&0>=g-(b+1))return d=0,!1;if(0<=
g&&(g-(b+1)<d||0>d))d=g-(b+1);if(0<=j.max_depth&&(j.max_depth-(b+1)<d||0>d))d=j.max_depth-(b+1)});return d},check_move:function(){if(!this.__call_old())return!1;var a=this._get_move(),b=a.rt._get_settings().types,c=a.rt._check("max_children",a.cr),d=a.rt._check("max_depth",a.cr),f=a.rt._check("valid_children",a.cr),g=0,h=1;if("none"===f||X.isArray(f)&&(a.ot&&a.ot._get_type)&&(a.o.each(function(){if(-1===X.inArray(a.ot._get_type(this),f))return h=!1}),!1===h)||-2!==b.max_children&&-1!==c&&(g=-1===
a.cr?this.get_container().find("> ul > li").not(a.o).length:a.cr.find("> ul > li").not(a.o).length,g+a.o.length>c))return!1;if(-2!==b.max_depth&&-1!==d){h=0;if(0===d)return!1;if("undefined"===typeof a.o.d){for(b=a.o;0<b.length;)b=b.find("> ul > li"),h++;a.o.d=h}if(0>d-a.o.d)return!1}return!0},create_node:function(a,b,c,d,f,g){if(!g&&(f||this._is_loaded(a))){var h="string"==typeof b&&b.match(/^before|after$/i)&&-1!==a?this._get_parent(a):this._get_node(a),j=this._get_settings().types,m=this._check("max_children",
h),n=this._check("max_depth",h),p=this._check("valid_children",h);"string"===typeof c&&(c={data:c});c||(c={});if("none"===p)return!1;if(X.isArray(p))if(!c.attr||!c.attr[j.type_attr])c.attr||(c.attr={}),c.attr[j.type_attr]=p[0];else if(-1===X.inArray(c.attr[j.type_attr],p))return!1;if(-2!==j.max_children&&-1!==m&&(h=-1===h?this.get_container().find("> ul > li").length:h.find("> ul > li").length,h+1>m)||-2!==j.max_depth&&-1!==n&&0>n-1)return!1}return this.__call_old(!0,a,b,c,d,f,g)}}});var ga=jQuery;
ga.jstree.plugin("html_data",{__init:function(){this.data.html_data.original_container_html=this.get_container().find(" > ul > li").clone(!0);this.data.html_data.original_container_html.find("li").addBack().contents().filter(function(){return 3==this.nodeType}).remove()},defaults:{data:!1,ajax:!1,correct_state:!0},_fn:{load_node:function(a,b,c){var d=this;this.load_node_html(a,function(){d.__callback({obj:d._get_node(a)});b.call(this)},c)},_is_loaded:function(a){a=this._get_node(a);return-1==a||!a||
!this._get_settings().html_data.ajax&&!ga.isFunction(this._get_settings().html_data.data)||a.is(".jstree-open, .jstree-leaf")||0<a.children("ul").children("li").size()},load_node_html:function(a,b,c){var d,f=this.get_settings().html_data,g=function(){};d=function(){};if((a=this._get_node(a))&&-1!==a){if(a.data("jstree_is_loading"))return;a.data("jstree_is_loading",!0)}switch(!0){case ga.isFunction(f.data):f.data.call(this,a,ga.proxy(function(c){c&&""!==c&&c.toString&&""!==c.toString().replace(/^[\s\n]+$/,
"")?(c=ga(c),c.is("ul")||(c=ga("<ul />").append(c)),-1==a||!a?this.get_container().children("ul").empty().append(c.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"):(a.children("a.jstree-loading").removeClass("jstree-loading"),a.append(c).children("ul").find("li, a").filter(function(){return!this.firstChild||
!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),a.removeData("jstree_is_loading")),this.clean_node(a),b&&b.call(this)):a&&-1!==a?(a.children("a.jstree-loading").removeClass("jstree-loading"),a.removeData("jstree_is_loading"),f.correct_state&&(this.correct_state(a),b&&b.call(this))):f.correct_state&&(this.get_container().children("ul").empty(),b&&b.call(this))},
this));break;case !f.data&&!f.ajax:if(!a||-1==a)this.get_container().children("ul").empty().append(this.data.html_data.original_container_html).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),this.clean_node();b&&b.call(this);break;case !!f.data&&!f.ajax||!!f.data&&!!f.ajax&&(!a||-1===a):if(!a||
-1==a)d=ga(f.data),d.is("ul")||(d=ga("<ul />").append(d)),this.get_container().children("ul").empty().append(d.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),this.clean_node();b&&b.call(this);break;case !f.data&&!!f.ajax||!!f.data&&!!f.ajax&&a&&-1!==a:a=this._get_node(a),g=function(b,
d,g){var h=this.get_settings().html_data.ajax.error;h&&h.call(this,b,d,g);-1!=a&&a.length?(a.children("a.jstree-loading").removeClass("jstree-loading"),a.removeData("jstree_is_loading"),"success"===d&&f.correct_state&&this.correct_state(a)):"success"===d&&f.correct_state&&this.get_container().children("ul").empty();c&&c.call(this)},d=function(c,d,h){var j=this.get_settings().html_data.ajax.success;j&&(c=j.call(this,c,d,h)||c);if(""===c||c&&c.toString&&""===c.toString().replace(/^[\s\n]+$/,""))return g.call(this,
h,d,"");c?(c=ga(c),c.is("ul")||(c=ga("<ul />").append(c)),-1==a||!a?this.get_container().children("ul").empty().append(c.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"):(a.children("a.jstree-loading").removeClass("jstree-loading"),a.append(c).children("ul").find("li, a").filter(function(){return!this.firstChild||
!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),a.removeData("jstree_is_loading")),this.clean_node(a),b&&b.call(this)):a&&-1!==a?(a.children("a.jstree-loading").removeClass("jstree-loading"),a.removeData("jstree_is_loading"),f.correct_state&&(this.correct_state(a),b&&b.call(this))):f.correct_state&&(this.get_container().children("ul").empty(),b&&b.call(this))},
f.ajax.context=this,f.ajax.error=g,f.ajax.success=d,f.ajax.dataType||(f.ajax.dataType="html"),ga.isFunction(f.ajax.url)&&(f.ajax.url=f.ajax.url.call(this,a)),ga.isFunction(f.ajax.data)&&(f.ajax.data=f.ajax.data.call(this,a)),ga.ajax(f.ajax)}}}});ga.jstree.defaults.plugins.push("html_data");var ea=jQuery;ea.jstree.plugin("themeroller",{__init:function(){var a=this._get_settings().themeroller;this.get_container().addClass("ui-widget-content").addClass("jstree-themeroller").delegate("a","mouseenter.jstree",
function(b){ea(b.currentTarget).hasClass("jstree-loading")||ea(this).addClass(a.item_h)}).delegate("a","mouseleave.jstree",function(){ea(this).removeClass(a.item_h)}).bind("init.jstree",ea.proxy(function(a,b){b.inst.get_container().find("> ul > li > .jstree-loading > ins").addClass("ui-icon-refresh");this._themeroller(b.inst.get_container().find("> ul > li"))},this)).bind("open_node.jstree create_node.jstree",ea.proxy(function(a,b){this._themeroller(b.rslt.obj)},this)).bind("loaded.jstree refresh.jstree",
ea.proxy(function(){this._themeroller()},this)).bind("close_node.jstree",ea.proxy(function(a,b){this._themeroller(b.rslt.obj)},this)).bind("delete_node.jstree",ea.proxy(function(a,b){this._themeroller(b.rslt.parent)},this)).bind("correct_state.jstree",ea.proxy(function(b,c){c.rslt.obj.children("ins.jstree-icon").removeClass(a.opened+" "+a.closed+" ui-icon").end().find("> a > ins.ui-icon").filter(function(){return-1===this.className.toString().replace(a.item_clsd,"").replace(a.item_open,"").replace(a.item_leaf,
"").indexOf("ui-icon-")}).removeClass(a.item_open+" "+a.item_clsd).addClass(a.item_leaf||"jstree-no-icon")},this)).bind("select_node.jstree",ea.proxy(function(b,c){c.rslt.obj.children("a").addClass(a.item_a)},this)).bind("deselect_node.jstree deselect_all.jstree",ea.proxy(function(){this.get_container().find("a."+a.item_a).removeClass(a.item_a).end().find("a.jstree-clicked").addClass(a.item_a)},this)).bind("dehover_node.jstree",ea.proxy(function(b,c){c.rslt.obj.children("a").removeClass(a.item_h)},
this)).bind("hover_node.jstree",ea.proxy(function(b,c){this.get_container().find("a."+a.item_h).not(c.rslt.obj).removeClass(a.item_h);c.rslt.obj.children("a").addClass(a.item_h)},this)).bind("move_node.jstree",ea.proxy(function(a,b){this._themeroller(b.rslt.o);this._themeroller(b.rslt.op)},this))},__destroy:function(){var a=this._get_settings().themeroller,b=["ui-icon"];ea.each(a,function(a,c){c=c.split(" ");c.length&&(b=b.concat(c))});this.get_container().removeClass("ui-widget-content").find("."+
b.join(", .")).removeClass(b.join(" "))},_fn:{_themeroller:function(a){var b=this._get_settings().themeroller,a=!a||-1==a?this.get_container_ul():this._get_node(a),a=!a||-1==a?this.get_container_ul():a.parent();a.find("li.jstree-closed").children("ins.jstree-icon").removeClass(b.opened).addClass("ui-icon "+b.closed).end().children("a").addClass(b.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){return-1===this.className.toString().replace(b.item_clsd,"").replace(b.item_open,
"").replace(b.item_leaf,"").indexOf("ui-icon-")}).removeClass(b.item_leaf+" "+b.item_open).addClass(b.item_clsd||"jstree-no-icon").end().end().end().end().find("li.jstree-open").children("ins.jstree-icon").removeClass(b.closed).addClass("ui-icon "+b.opened).end().children("a").addClass(b.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){return-1===this.className.toString().replace(b.item_clsd,"").replace(b.item_open,"").replace(b.item_leaf,"").indexOf("ui-icon-")}).removeClass(b.item_leaf+
" "+b.item_clsd).addClass(b.item_open||"jstree-no-icon").end().end().end().end().find("li.jstree-leaf").children("ins.jstree-icon").removeClass(b.closed+" ui-icon "+b.opened).end().children("a").addClass(b.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){return-1===this.className.toString().replace(b.item_clsd,"").replace(b.item_open,"").replace(b.item_leaf,"").indexOf("ui-icon-")}).removeClass(b.item_clsd+" "+b.item_open).addClass(b.item_leaf||"jstree-no-icon")}},defaults:{opened:"ui-icon-triangle-1-se",
closed:"ui-icon-triangle-1-e",item:"ui-state-default",item_h:"ui-state-hover",item_a:"ui-state-active",item_open:"ui-icon-folder-open",item_clsd:"ui-icon-folder-collapsed",item_leaf:"ui-icon-document"}});ea(function(){ea.vakata.css.add_sheet({str:".jstree-themeroller .ui-icon { overflow:visible; } .jstree-themeroller a { padding:0 2px; } .jstree-themeroller .jstree-no-icon { display:none; }",title:"jstree"})});var ia=jQuery;ia.jstree.plugin("unique",{__init:function(){this.get_container().bind("before.jstree",
ia.proxy(function(a,b){var c=[],d=!0,f;"move_node"==b.func&&(!0===b.args[4]&&b.args[0].o&&b.args[0].o.length)&&(b.args[0].o.children("a").each(function(){c.push(ia(this).text().replace(/^\s+/g,""))}),d=this._check_unique(c,b.args[0].np.find("> ul > li").not(b.args[0].o),"move_node"));if("create_node"==b.func&&(b.args[4]||this._is_loaded(b.args[0]))){d=this._get_node(b.args[0]);if(b.args[1]&&("before"===b.args[1]||"after"===b.args[1]))if(d=this._get_parent(b.args[0]),!d||-1===d)d=this.get_container();
"string"===typeof b.args[2]?c.push(b.args[2]):!b.args[2]||!b.args[2].data?c.push(this._get_string("new_node")):c.push(b.args[2].data);d=this._check_unique(c,d.find("> ul > li"),"create_node")}if("rename_node"==b.func){c.push(b.args[1]);f=this._get_node(b.args[0]);d=this._get_parent(f);if(!d||-1===d)d=this.get_container();d=this._check_unique(c,d.find("> ul > li").not(f),"rename_node")}if(!d)return a.stopPropagation(),!1},this))},defaults:{error_callback:ia.noop},_fn:{_check_unique:function(a,b,c){var d=
[],f=!0;b.children("a").each(function(){d.push(ia(this).text().replace(/^\s+/g,""))});if(!d.length||!a.length)return!0;ia.each(a,function(a,b){if(-1!==ia.inArray(b,d))return f=!1});f||this._get_settings().unique.error_callback.call(null,a,b,c);return f},check_move:function(){if(!this.__call_old())return!1;var a=this._get_move(),b=[];return a.o&&a.o.length?(a.o.children("a").each(function(){b.push(ia(this).text().replace(/^\s+/g,""))}),this._check_unique(b,a.np.find("> ul > li").not(a.o),"check_move")):
!0}}});var ka=jQuery;ka.jstree.plugin("wholerow",{__init:function(){if(!this.data.ui)throw"jsTree wholerow: jsTree UI plugin not included.";this.data.wholerow.html=!1;this.data.wholerow.to=!1;this.get_container().bind("init.jstree",ka.proxy(function(){this._get_settings().core.animation=0},this)).bind("open_node.jstree create_node.jstree clean_node.jstree loaded.jstree",ka.proxy(function(a,b){this._prepare_wholerow_span(b&&b.rslt&&b.rslt.obj?b.rslt.obj:-1)},this)).bind("search.jstree clear_search.jstree reopen.jstree after_open.jstree after_close.jstree create_node.jstree delete_node.jstree clean_node.jstree",
ka.proxy(function(a,b){this.data.to&&clearTimeout(this.data.to);var c=this,d=b&&b.rslt&&b.rslt.obj?b.rslt.obj:-1;this.data.to=setTimeout(function(){c._prepare_wholerow_ul(d)},0)},this)).bind("deselect_all.jstree",ka.proxy(function(){this.get_container().find(" > .jstree-wholerow .jstree-clicked").removeClass("jstree-clicked "+(this.data.themeroller?this._get_settings().themeroller.item_a:""))},this)).bind("select_node.jstree deselect_node.jstree ",ka.proxy(function(a,b){b.rslt.obj.each(function(){b.inst.get_container().find(" > .jstree-wholerow li:visible:eq("+
parseInt((ka(this).offset().top-b.inst.get_container().offset().top+b.inst.get_container()[0].scrollTop)/b.inst.data.core.li_height,10)+")").children("a").attr("class",b.rslt.obj.children("a").attr("class"))})},this)).bind("hover_node.jstree dehover_node.jstree",ka.proxy(function(a,b){this.get_container().find(" > .jstree-wholerow .jstree-hovered").removeClass("jstree-hovered "+(this.data.themeroller?this._get_settings().themeroller.item_h:""));"hover_node"===a.type&&this.get_container().find(" > .jstree-wholerow li:visible:eq("+
parseInt((b.rslt.obj.offset().top-this.get_container().offset().top+this.get_container()[0].scrollTop)/this.data.core.li_height,10)+")").children("a").attr("class",b.rslt.obj.children(".jstree-hovered").attr("class"))},this)).delegate(".jstree-wholerow-span, ins.jstree-icon, li","click.jstree",function(a){var b=ka(a.currentTarget);"A"===a.target.tagName||"INS"===a.target.tagName&&b.closest("li").is(".jstree-open, .jstree-closed")||(b.closest("li").children("a:visible:eq(0)").click(),a.stopImmediatePropagation())}).delegate("li",
"mouseover.jstree",ka.proxy(function(a){a.stopImmediatePropagation();if(ka(a.currentTarget).children(".jstree-hovered, .jstree-clicked").length)return!1;this.hover_node(a.currentTarget);return!1},this)).delegate("li","mouseleave.jstree",ka.proxy(function(a){ka(a.currentTarget).children("a").hasClass("jstree-hovered").length||this.dehover_node(a.currentTarget)},this));(c||a)&&ka.vakata.css.add_sheet({str:".jstree-"+this.get_index()+" { position:relative; } ",title:"jstree"})},defaults:{},__destroy:function(){this.get_container().children(".jstree-wholerow").remove();
this.get_container().find(".jstree-wholerow-span").remove()},_fn:{_prepare_wholerow_span:function(a){a=!a||-1==a?this.get_container().find("> ul > li"):this._get_node(a);!1!==a&&a.each(function(){ka(this).find("li").addBack().each(function(){var a=ka(this);if(a.children(".jstree-wholerow-span").length)return!0;a.prepend("<span class='jstree-wholerow-span' style='width:"+18*a.parentsUntil(".jstree","li").length+"px;'>&#160;</span>")})})},_prepare_wholerow_ul:function(){var a=this.get_container().children("ul").eq(0),
b=a.html();a.addClass("jstree-wholerow-real");this.data.wholerow.last_html!==b&&(this.data.wholerow.last_html=b,this.get_container().children(".jstree-wholerow").remove(),this.get_container().append(a.clone().removeClass("jstree-wholerow-real").wrapAll("<div class='jstree-wholerow' />").parent().width(a.parent()[0].scrollWidth).css("top",-1*(a.height()+(c?5:0))).find("li[id]").each(function(){this.removeAttribute("id")}).end()))}}});ka(function(){var b=".jstree .jstree-wholerow-real { position:relative; z-index:1; } .jstree .jstree-wholerow-real li { cursor:pointer; } .jstree .jstree-wholerow-real a { border-left-color:transparent !important; border-right-color:transparent !important; } .jstree .jstree-wholerow { position:relative; z-index:0; height:0; } .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li { width:100%; } .jstree .jstree-wholerow, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li, .jstree .jstree-wholerow a { margin:0 !important; padding:0 !important; } .jstree .jstree-wholerow, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li { background:transparent !important; }.jstree .jstree-wholerow ins, .jstree .jstree-wholerow span, .jstree .jstree-wholerow input { display:none !important; }.jstree .jstree-wholerow a, .jstree .jstree-wholerow a:hover { text-indent:-9999px; !important; width:100%; padding:0 !important; border-right-width:0px !important; border-left-width:0px !important; } .jstree .jstree-wholerow-span { position:absolute; left:0; margin:0px; padding:0; height:18px; border-width:0; padding:0; z-index:0; }";
g&&(b+=".jstree .jstree-wholerow a { display:block; height:18px; margin:0; padding:0; border:0; } .jstree .jstree-wholerow-real a { border-color:transparent !important; } ");if(c||a)b+=".jstree .jstree-wholerow, .jstree .jstree-wholerow li, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow a { margin:0; padding:0; line-height:18px; } .jstree .jstree-wholerow a { display:block; height:18px; line-height:18px; overflow:hidden; } ";ka.vakata.css.add_sheet({str:b,title:"jstree"})});var R=jQuery,Ha=
["getChildren","getChildrenCount","getAttr","getName","getProps"];R.jstree.plugin("model",{__init:function(){if(!this.data.json_data)throw"jsTree model: jsTree json_data plugin not included.";this._get_settings().json_data.data=function(a,b){var c=-1==a?this._get_settings().model.object:a.data("jstree_model"),d=c,f=Ha,g=!0,d=d||{},f=[].concat(f);R.each(f,function(a,b){if(!R.isFunction(d[b]))return g=!1});if(!g)return b.call(null,!1);this._get_settings().model.async?c.getChildren(R.proxy(function(a){this.model_done(a,
b)},this)):this.model_done(c.getChildren(),b)}},defaults:{object:!1,id_prefix:!1,async:!1},_fn:{model_done:function(a,b){var c=[],d=this._get_settings(),f=this;R.isArray(a)||(a=[a]);R.each(a,function(a,b){var g=b.getProps()||{};g.attr=b.getAttr()||{};b.getChildrenCount()&&(g.state="closed");g.data=b.getName();R.isArray(g.data)||(g.data=[g.data]);f.data.types&&R.isFunction(b.getType)&&(g.attr[d.types.type_attr]=b.getType());g.attr.id&&d.model.id_prefix&&(g.attr.id=d.model.id_prefix+g.attr.id);g.metadata||
(g.metadata={});g.metadata.jstree_model=b;c.push(g)});b.call(null,c)}}})}})();$(document).ready(function(){1==$("#tree").length&&($(".level-3,.level-4,.level-5,.level-2").parent("li").prepend('<ins class="jstree-icon"></ins>'),$(".jstree-icon").click(function(){var a=$(this).parent("li").attr("class");null!==navigator.userAgent.match(/iPod/i)?"active"==a?$(this).parent().removeClass("active").find("ul.level-2, ul.level-3, ul.level-4").css("display","none").find("li").removeClass("active"):($(this).parent().addClass("active").siblings("li").removeClass("active").find("li").removeClass("active"),
$(this).siblings("ul.level-2, ul.level-3, ul.level-4").css("display","block").parent().siblings("li").find("ul.level-2, ul.level-3, ul.level-4").css("display","none")):"active"==a?$(this).parent().removeClass("active").find("ul.level-2, ul.level-3, ul.level-4").hide("slow").find("li").removeClass("active"):($(this).parent().addClass("active").siblings("li").removeClass("active").find("li").removeClass("active"),$(this).siblings("ul.level-2, ul.level-3, ul.level-4").show("slow").parent().siblings("li").find("ul.level-2, ul.level-3, ul.level-4").hide("slow"))}))});tm.lazyload={};tm.lazyload.renew=function(a){$.fn.lazyload&&(a?$(".js-thumbnail-img").each(function(a,g){g=$(g);$(g).closest(".flex-viewport").is(":appeared")||g.is(":appeared")?(g.attr("src",g.data("original")),$.removeData(g,"original")):g.lazyload({effect:"fadeIn"})}):$(".js-thumbnail-img").lazyload({effect:"fadeIn",load:function(){$("img[data-original]").each(function(a,g){g.loaded&&$.removeData(g,"original")})}}))};tm.thumbnail=function(){};tm.thumbnail.renew=function(a){tm.lazyload.renew(a);tm.sprite.svginit();return $.Deferred().resolve()};tm.sprite=function(){};tm.sprite.svginit=function(){$(".svg").fixSVGStackBackground();$(".svg-image").fixSVGStack()};bus.sub(["page.class.search","page.id.index-page"],function(){tm.thumbnail.renew()});bus.sub("page.id.index-page",tm.index.wizard.startup);function formInit(a){function c(a){var b=document.createElement("div");b.innerHTML=a;return b.firstChild.nodeValue}function g(a){var b=$(a).closest("form"),a=b.serialize(),c=b.attr("action");$.ajax({url:c,data:a,method:"POST",dataType:"json",success:function(a){$("form#tellForm .btn-primary.btn-small").removeClass("progress_bar").find(".progress-striped").hide();$("form#tellForm input, form#tellForm textarea").removeAttr("disabled");if(a&&a.type)switch(a.type){case "ok":$("#result-box").html('<div class="alert" style="display: none;margin: 10px 16px -8px;"><button type="button" class="close" data-dismiss="alert">&times;</button>Your message has been successfully sent.<br>Have a nice day.</div>');
$("div.alert").slideDown();a=jQuery.Event("keydown",{keyCode:64});$('input[name="friend_email"]',b).val("");$('input[name="friend_name"]',b).val("");$('form#tellForm input[name="friend_name"]').focus().trigger(a);$('form#tellForm input[name="friend_email"]').focus().trigger(a);$('form#tellForm textarea[name="message"]').focus();break;case "error":$("#result-box").html('<div class="alert" style="display: none;margin: 10px 16px -8px;"><button type="button" class="close" data-dismiss="alert">&times;</button>'+
a.data+"</div>"),$("div.alert").slideDown().css("border","1px solid #B94A48")}}})}var b=Boolean(a.isAutorized),f=a.name||"",d=a.email||"",j=a.templateId;$("form#tellForm .btn-primary.btn-small").click(function(){var a=$(this).closest("form"),b=a.find('input[name="type"]').val(),c=a.find('input[name="mode"]').val(),d=a.find('input[name="templ"]').val(),f=a.find('#submit_phantom [name="email"]'),h=a.find('#submit_phantom [name="name"]'),x=a.find('#submit_phantom [name="message_send"]');"3"===b&&("submit-tell-a-friend"===
c&&d===String(j)&&""===f.val()&&""===h.val()&&""===x.val())&&(a.find("input").each(function(){this.value=$.trim(this.value)}),a.validateForm()&&(g(this),$(this).addClass("progress_bar").find(".progress-striped").show(),$("form#tellForm input, form#tellForm textarea").attr("disabled","")));return!1});$("form#tellForm input").keydown(function(a){if(13===a.keyCode&&0===a.charCode)return $(this).closest("form").validateForm()&&(g(this),$("form#tellForm .btn-primary.btn-small").addClass("progress_bar").find(".progress-striped").show(),
$("form#tellForm input, form#tellForm textarea").attr("disabled","")),!1});$(".js-tell-a-friend").click(function(){b&&($('form#tellForm input[name="ow_name"]').val(c(f)).trigger("setValue.placeholder"),$('form#tellForm input[name="ow_email"]').val(c(d)).trigger("setValue.placeholder"));return!1});jQuery("#result-box button.close").click(function(){$("#result-box").css("padding","0px")})}
function openSelectedLicenseAccordionBlock(a){$(".js-preview-accordion-panel:not(.active)").each(function(){$(this).data("variant")==a&&$(this).find(".panel-title").click()})}function updateSideBarPriceBlockFromSessionCookie(a,c){openSelectedLicenseAccordionBlock(a);if(0<c.length){$('.js-preview-offer input[type="checkbox"]').prop("checked",!1).siblings("a").removeClass("active");for(var g in c)$('.js-preview-offer input[value="'+c[g]+'"]').prop("checked",!0).siblings("a").addClass("active")}}
function updateItemBlockInPopup(a,c){$(".js-popup-cart-item.offer").each(function(){$(this).addClass("js-none");for(var a in c)$(this).hasClass("offer-"+c[a])&&$(this).removeClass("js-none")})}function updateBuyButtonOnDemoPage(){$(".js-demo-buy-button, .js-demo-buy-button-dropdown-toggle").addClass("js-none");$(".already-get, .js-already-get").removeClass("js-none")}
$(document).ready(function(){1===$("#purchase_options").length&&$(".recommended-services").find(".js-preview-offer a.title").click(function(){$(this).parent().find("input").is(":checked")?($(this).removeClass("active"),$(this).parent().find("input").removeAttr("checked")):($(this).addClass("active"),$(this).parent().find("input").attr("checked",!0));$(".js-preview-accordion-panel").TMCalcPrice()});var a=$(".recommended-services"),c=$(".form_services");0===$("#purchase_options .panel.active").length&&
$("#purchase_options .panel:first").addClass("active").find(".panel-title").click();$("#purchase_options .panel.active").find(".services-container").append(a);$("#purchase_options .panel .panel-heading").click(function(){if($(this).parents(".panel").hasClass("active"))return!1;$(this).parent().siblings().removeClass("active");$(this).parent().addClass("active");var b=$(this).parent(),f=c.find("input:hidden[name=price_variant]");b.find(".services-container").append(a);f.val(b.attr("data-variant"));
$(".js-preview-accordion-panel").TMCalcPrice()}).filter(".active").click();$(document).on("click",".js-preview-offer-checkbox",function(){$(".js-preview-accordion-panel").TMCalcPrice()});$('#main-column>.preview-tabs>ul.nav a[data-toggle="tab"]').filter('[href="#tab-reviews"]').on("show.bs.tab",function(){$.ajax({url:"//staticwww.yotpo.com/js/yQuery.js",dataType:"script",cache:!0})}).end().filter('[href="#tab-about"]').on("show.bs.tab",function(a){var b=$(this).data("template-id"),a=$(a.target).attr("href"),
c=$(a).data("tab-type"),f=$(a+" .tab-inner-indent");"undefined"!==typeof c&&(f.html('<div class="spinner-inline"></div>'),$.ajax({url:"/ajax/preview-tab.php",data:{template:b,tab:c},type:"GET",dataType:"html",cache:!0,complete:function(a){f.html(a.responseText)}}))}).end();$("#section_4 .js-review-page").live("click",function(){var a=$(this).attr("data-page"),b=$(this).attr("data-tid"),c=$("#section_4 .tab-inner-indent:first");c.html('<div class="spinner-inline"></div>');$.ajax({url:"/ajax/preview-review.php",
data:{templateId:b,page:a},type:"GET",dataType:"html",cache:!0,complete:function(a){c.html(a.responseText)}});return!1});$("a.open").click(function(){$("#tellForm").find("input, textarea").popover("destroy").removeClass("error")});var g=$.cookie("sc_summary");if(g){var g=$.parseJSON(base64.decode($.cookie("sc_summary"))),b=/(\d+)\.html$/.exec(location.href);if(null!==b&&(b=b[1],"undefined"!=typeof g.template)){var f=g.template["template-"+b];"undefined"!=typeof g&&"undefined"!=typeof f&&(f=f.price_variant,
g=parseOffersFromCookie(g,b),updateSideBarPriceBlockFromSessionCookie(f,g),$(".js-add-to-cart button").html('<i class="icon-checkmark"></i> Added to Cart'),updateItemBlockInPopup(f,g),updateBuyButtonOnDemoPage(f))}}$(document).on("click",".js-license-popup-button",function(){$(this).parents(".js-license-popup").modal("hide")});$(".js-preview-accordion-panel").TMCalcPrice()});
function previewPageStart(){$(".js-owl-carousel").owlCarousel({singleItem:!0,autoHeight:!0,lazyLoad:!0,transitionStyle:"fade"});1254<=$(window).width()&&($(".js-magnifier").append("<span></span><strong></strong>"),$(".js-magnifier").hover(function(){$(this).find("span").css({opacity:"0.15"});$(this).find("strong").css({opacity:"1"})},function(){$(this).find("span").css({opacity:"0"});$(this).find("strong").css({opacity:"0"})}));$(".switchable-text").each(function(){var a=$(this),g=a.text(),b=a.data("active-text");
a.click(function(){a.hasClass("active")?a.removeClass("active").text(g):a.addClass("active").text(b);return!1})});$(".radioblock").find(".radio").live("click",function(){var a=$(this).html();$(this).parent().parent().parent(".radioblock").find(".radio").removeClass("active");$(this).addClass("active");$(this).parent().parent().parent(".radioblock").find('input[type="hidden"]').val(a)});var a=new Tm.Signin;formInit({isAutorized:a.isSignedIn(),name:a.getUserFullName(),email:a.getUserEmail(),templateId:parseInt($('strong[itemprop="productID"]').html())});
tm.search.engine.search(previewEngineSearchParams,"similar").done($.proxy(function(a){0===a.getCount()?$("#similar-block").hide():($("#similar-templates").html("").append(a.getText()||""),tm.search.ui.onDiscountUpdate({target:$("ul#similar-templates")}),$("#similar_templates").flexslider({animation:"slide",animationLoop:!0,slideshow:!1,slideshowSpeed:7E3,animationDuration:0,controlNav:!1,directionNav:4<a.getCount(),itemWidth:230,itemMargin:0,minItems:3,maxItems:4,move:1,prevText:"",nextText:"",init:function(){setTimeout("tm.thumbnail.renew (true);",
1E3)}}))},this));$(".license-popup .item").click(function(){$(this).find('input[type="radio"]').attr("checked",!0);$(this).siblings().find('input[type="radio"]').attr("checked",!1)});$("#product-preview .slides").magnificPopup({delegate:"a.view",type:"image",closeOnContentClick:!1,closeBtnInside:!1,mainClass:"mfp-with-zoom mfp-img-mobile",gallery:{enabled:!0},zoom:{enabled:!0,duration:300,opener:function(a){return a.find("img")}}});$("#tabReviewLink").click(function(){var a=$("html, body"),g=$("#previewTab");
a.animate({scrollTop:g.offset().top+1},500);$('#previewTab a[href="#tab-reviews"]').tab("show")});$("#more-tab-details").click(function(){var a=$("html, body"),g=$("#previewTab");a.animate({scrollTop:g.offset().top+1},500);$('#previewTab a[href="#tab-details"]').tab("show")})}function parseOffersFromCookie(a,c){var g=[];for(i in a.offer)a.offer[i].template_id==c&&g.push(a.offer[i].id);return g};$(window).load(function(){detectIndexPage()&&initIndexSocialButtons();detectPreviewPage()&&initPreviewSocialButtons()});
function initIndexSocialButtons(){$("#twitter").sharrre({share:{twitter:!0},template:'<a class="box" href="#"><b class="icon-twitter font-icon"></b><span class="count" href="#">{total}</span></a>',url:"http://www.templatemonster.com/",enableHover:!1,enableTracking:!0,buttons:{twitter:{via:""}},click:function(a){a.simulateClick();a.openPopup("twitter")}});$("#facebook").sharrre({share:{facebook:!0},template:'<a class="box" href="#"><b class="icon-facebook font-icon"></b><span class="count" href="#">{total}</span></a>',
url:"http://www.templatemonster.com/",enableHover:!1,enableTracking:!0,click:function(a){a.simulateClick();a.openPopup("facebook")}});$("#googleplus").sharrre({share:{googlePlus:!0},urlCurl:"/utils/sharrre.php",template:'<a class="box" href="#"><b class="icon-google-plus font-icon"></b><span class="count" href="#">{total}</span></a>',url:"http://www.templatemonster.com/",enableHover:!1,enableTracking:!0,click:function(a){a.simulateClick();a.openPopup("googlePlus")}});$("#pinterest").sharrre({share:{pinterest:!0},
template:'<a class="box" href="#"><b class="icon-pinterest font-icon"></b><span class="count" href="#">{total}</span></a>',url:"http://www.templatemonster.com/",enableHover:!1,enableTracking:!0,click:function(a){a.simulateClick();a.openPopup("pinterest")}});$("#stumbleupon").sharrre({share:{stumbleupon:!0},urlCurl:"/utils/sharrre.php",template:'<a class="box" href="#"><b class="icon-stumbleupon font-icon"></b><span class="count" href="#">{total}</span></a>',url:"http://www.templatemonster.com/",enableHover:!1,
enableTracking:!0,click:function(a){a.simulateClick();a.openPopup("stumbleupon")}})}
function initPreviewSocialButtons(){var a="http://www.templatemonster.com"+window.location.pathname;$("#twitter").sharrre({share:{twitter:!0},template:'<a class="box" href="#"><b class="icon-twitter font-icon"></b></a>',url:a,enableHover:!1,enableTracking:!0,buttons:{twitter:{via:""}},click:function(a){a.simulateClick();a.openPopup("twitter")}});$("#facebook").sharrre({share:{facebook:!0},template:'<a class="box" href="#"><b class="icon-facebook font-icon"></b></a>',url:a,enableHover:!1,enableTracking:!0,
click:function(a){a.simulateClick();a.openPopup("facebook")}});$("#googleplus").sharrre({share:{googlePlus:!0},urlCurl:"/utils/sharrre.php",template:'<a class="box" href="#"><b class="icon-google-plus font-icon"></b></a>',url:a,enableHover:!1,enableTracking:!0,click:function(a){a.simulateClick();a.openPopup("googlePlus")}})};$(function(){var a=$("#header .user-menu"),c=$(".sign-in",a),g=$(".sign-in-form",a).hide(),b=$(".help-menu",a).hide(),f=b.prev("a"),d=$(".languages-menu",a).hide(),j=d.prev("a"),p=$(".account-menu",a).hide(),m=p.prev("a");c.click(function(){a.hasClass("signin-form-active")?g.slideUp(function(){a.removeClass("signin-form-active")}):(a.addClass("signin-form-active"),g.slideDown(),jQuery.Event("keydown",{keyCode:64}));0===$(this).parent().find(".account-menu").length&&p.slideUp(function(){a.removeClass("account-menu-active")});
0===$(this).parent().find(".languages-menu").length&&d.slideUp(function(){a.removeClass("languages-menu-active")});0===$(this).parent().find(".help-menu").length&&b.slideUp(function(){a.removeClass("help-menu-active")});return!1});$(document).on("click",function(c){0===$(c.target).parents(".sign-in-form").length&&g.slideUp(function(){a.removeClass("signin-form-active")});0===$(c.target).parents(".account-menu").length&&p.slideUp(function(){a.removeClass("account-menu-active")});0===$(c.target).parents(".languages-menu").length&&
d.slideUp(function(){a.removeClass("languages-menu-active")});0===$(c.target).parents(".help-menu").length&&b.slideUp(function(){a.removeClass("help-menu-active")})});f.click(function(){a.hasClass("help-menu-active")?b.slideUp(function(){a.removeClass("help-menu-active")}):(a.addClass("help-menu-active"),b.slideDown());0===$(this).parent().find(".account-menu").length&&p.slideUp(function(){a.removeClass("account-menu-active")});0===$(this).parent().find(".languages-menu").length&&d.slideUp(function(){a.removeClass("languages-menu-active")});
0===$(this).parent().find(".sign-in-form").length&&g.slideUp(function(){a.removeClass("signin-form-active")});return!1});j.click(function(){a.hasClass("languages-menu-active")?d.slideUp(function(){a.removeClass("languages-menu-active")}):(a.addClass("languages-menu-active"),d.slideDown());0===$(this).parent().find(".account-menu").length&&p.slideUp(function(){a.removeClass("account-menu-active")});0===$(this).parent().find(".help-menu").length&&b.slideUp(function(){a.removeClass("help-menu-active")});
0===$(this).parent().find(".sign-in-form").length&&g.slideUp(function(){a.removeClass("signin-form-active")});return!1});m.click(function(){a.hasClass("account-menu-active")?p.slideUp(function(){a.removeClass("account-menu-active")}):(a.addClass("account-menu-active"),p.slideDown());0===$(this).parent().find(".languages-menu").length&&d.slideUp(function(){a.removeClass("languages-menu-active")});0===$(this).parent().find(".help-menu").length&&b.slideUp(function(){a.removeClass("help-menu-active")});
0===$(this).parent().find(".sign-in-form").length&&g.slideUp(function(){a.removeClass("signin-form-active")});return!1})});$(document).ready(function(){setTimeout(function(){$(".badge-big").animate({"margin-top":"-58px"},400,"easeOutBack")},3E3)});$(".badge-big").hover(function(){$(this).stop(!0,!1).animate({"margin-top":"0px"},250,"easeOutCirc")},function(){$(this).stop(!1,!0).animate({"margin-top":"-58px"},400,"easeOutBack")});
$(document).ready(function(){$(".js-activate-editing").bind("click",function(){$(this).parents(".js-cart-summary").toggleClass("non_activated_edit activated_edit");return!1})});
$(document).ready(function(){$("body").append('<a href="#" class="back-to-top"><i class="icon-arrow-up"></i><span>Up</span></a>');$(window).scroll(function(){220<$(this).scrollTop()?$(".back-to-top").fadeIn(500):$(".back-to-top").fadeOut(500)});$(".back-to-top").click(function(a){a.preventDefault();$("html, body").animate({scrollTop:0},500);return!1})});
$(function(){var a=null;"undefined"!==typeof document.forms.signin&&(a=new Tm.Signin,a.init({submenu_account:".user-menu .account-menu-li",submenu_signin:".user-menu .sign-in-li",submenu_signout:".user-menu .sign-out-li",signin_link:"#signin-link",signin_form:"#signin-form",signin_form_container:"#header .sign-in-form",signin_error_container:"#signin-error",signin_submit_link:"#signin-form-submit",signout_link:"#signout-link"}));var c=new Tm.Tracker;c.checkCookie({onComplete:function(){a?a.checkCookie({onComplete:function(){c.trackGaEvent()}}):
c.trackGaEvent();"undefined"!=typeof liveChatConfig&&chatInit(liveChatConfig,a)}})});
$(document).ready(function(){tm.sprite.svginit();0!==$(".js-typeahead2").length&&($(".js-typeahead2").typeahead([{local:"Bootstrap;Responsive;Cherry Framework;Web Templates;Website Templates;Flash Templates;Flash CMS Templates;Flash Intro Templates;Flash Photo Gallery Templates;SWiSH Templates;Mobile Templates;E-commerce Templates;Magento Themes;PrestaShop Themes;VirtueMart Templates;Jigoshop Themes;osCommerce Templates;ZenCart Templates;OpenCart Templates;CRE Loaded Templates;CMS & Blog Templates;WordPress Themes;Joomla Templates;Drupal Templates;PhpBB Templates;Mambo Templates;PHP-Nuke Templates;Corporate Design;PowerPoint Templates;Logo Templates;Corporate Identity;Logosets;Icon Sets;Music;Stock Music;Silverlight;Silverlight Templates;Silverlight Intro Templates;Facebook Layouts;Facebook Flash Templates;Facebook Flash CMS Templates;Facebook Templates;Turnkey CMS Facebook Templates;Facebook HTML CMS Templates;Video Templates;After Effects Intros;After Effects Logo Reveals;Video Ecards;HD Graphics Packages;Turnkey Websites;Agriculture;Farm Templates;Cattle Farm Templates;Fruit Templates;Gardening Templates;Poultry Farm Templates;Sheep Farm Templates;Vegetable Templates;Winery Templates;Agriculture Templates;Animals & Pets;Animal Shelter Templates;Pet Shop Templates;Vet Templates;Dog Templates;Cat Templates;Birds Templates;Horse Templates;Fish Templates;Exotic Pets Templates;Reptile Templates;Guinea Pigs Templates;Zoo Templates;Dolphin Templates;Animals & Pets Templates;Wild Life Templates;Pet Sitting Templates;Antique;Antique Store Templates;Architecture;Construction Company Templates;Architecture Templates;Drafting Templates;Art & Photography;Art Templates;Photography Templates;Art & Photography Templates;Auction Templates;Beauty;Beauty Salon Templates;Cosmetics Store Templates;Spa Accessories Templates;Beauty School Templates;Nail Salon Templates;Massage Salon Templates;Hair Salon Templates;Tattoo Salon Templates;Piercing Shop Templates;Beauty Templates;Tanning Salon Templates;Sauna Templates;Books;Book Store Templates;Publishing Company Templates;Book Reviews Templates;Books Templates;Brewery;Pub Templates;Brewery Templates;Business;Consulting Templates;Marketing Agency Templates;Investment Company Templates;Financial Advisor Templates;Accounting Website Templates;Management Company Templates;Advertising Agency Templates;SEO Website Templates;Call Center Templates;Public Relations Templates;Translation Bureau Templates;Business Templates;Insurance Templates;Bank Templates;Merchant Services Templates;Job Portal Templates;Stationery Templates;Office Templates;Cafe and Restaurant;Cafe Templates;BBQ Restaurant Templates;Steakhouse Templates;Asian Restaurant Templates;European Restaurant Templates;Seafood Restaurant Templates;Mexican Restaurant Templates;Fast Food Restaurant Templates;Vegetarian Restaurant Templates;Tapas Restaurant Templates;Pizza Templates;Coffee Shop Templates;Restaurant Reviews Templates;Cocktail Bar Templates;Cafe and Restaurant Templates;Cars;Car Dealer Templates;Car Audio Templates;Car Repair Templates;Car Tuning Templates;Car Rental Templates;Car Club Templates;Car Wash Templates;Car Insurance Templates;Wheels & Tires Templates;Auto Parts Templates;Car Racing Templates;Car Scrap Yard Templates;Bike Shop Templates;Biker Club Templates;Car Templates;Limousine Services Templates;Charity;Charity Templates;Child Charity Templates;Communications;ISP Templates;Satellite TV Templates;VOIP Templates;Communications Templates;Mobile Company Templates;Computers;Computers Templates;Computer Repair Templates;Computer Store Templates;Dating;Dating Templates;Design;Web Design Templates;Design Studio Templates;Designer Portfolio Templates;Education;Swimming School Templates;Religious School Templates;Language School Templates;University Templates;Dance Studio Templates;Flight School Templates;Music School Templates;Business School Templates;Career Education Templates;Library Templates;Cooking School Templates;Education Templates;Traffic School Templates;Primary School Templates;Electronics;Mobile Store Templates;Electronics Review Templates;Video Store Templates;Audio Store Templates;Electronics Templates;Electronics Store Templates;Entertainment;Amusement Park Templates;Tickets Website Templates;Movie Templates;Theater Templates;Astrology Templates;Mobile Content Templates;DVD Store Templates;Event Planner Templates;Toy Store Templates;Flash Games Templates;MP3 Store Templates;Radio Website Templates;E-cards Templates;Fortune Teller Templates;Entertainmnet Templates;Environmental;Solar Energy Templates;Wind Energy Templates;Biofuel Templates;Alternative Power Templates;Environmental Templates;Exterior design;Landscape Design Templates;Garden Design Templates;Exterior Design Templates;Family;Day Care Templates;Babysitter Templates;Family Center Templates;Family Psychologist Templates;Newborn Templates;Summer Camp Templates;Kids Center Templates;Family Templates;Baby Store Templates;Fashion;Lingerie Templates;Handbag Templates;Shoe Store Templates;T-shirt Shop Templates;Apparel Templates;Jeans Templates;Fashion Blog Templates;Swimwear Templates;Model Agency Templates;Model Portfolio Templates;Fashion Templates;Men's Underwear Templates;Watches Templates;Fashion Store Templates;Eye Glasses Templates;Flowers;Flower Shop Templates;Flowers Templates;Food & Drink;Frozen Food Templates;Grocery Store Templates;Spice Shop Templates;Tea Shop Templates;Sweet Shop Templates;Bakery Templates;Wine Templates;Food Store Templates;Ice Cream Templates;Catering Templates;Chef Templates;Cooking Templates;Honey Store Templates;Food & Drink Templates;Water Templates;Games;Games Templates;Game Portal Templates;Gifts;Gifts Templates;Gifts Store Templates;Hobbies & Crafts;Crafts Templates;Holiday Templates;Christmas Templates;Halloween Templates;St. Patrick Green Templates;St. Valentine;Hosting;Hosting Templates;Hotels;Hotel Reviews Templates;Motel Templates;Hotels Templates;Industrial;Gas & Oil Templates;Steelworks Templates;Welding Templates;Mining Company Templates;Civil Engineering Templates;Lighting & Electricity Templates;Industrial Templates;Cement Templates;Timber Templates;Packaging Templates;Interior & Furniture;Interior Design Templates;Feng Shui Templates;Furniture Templates;Home Remodeling Templates;Window Decor Templates;Home Decor Templates;Interior & Furniture Templates;Housewares Templates;Window Templates;Flooring Templates;Internet;Domain Registrar Templates;Email Services Templates;Internet Cafe Templates;Internet Templates;Jewelry;Jewelry Templates;Law;Lawyer Templates;Law Firm Templates;Law Templates;Maintenance Services;Painting Company Templates;Dry Cleaners Templates;Window Cleaning Templates;Plumbing Templates;Pool Cleaning Templates;Home Repairs Templates;Roofing Company Templates;Cleaning Templates;Delivery Services Templates;Pest Control Templates;Laundry Templates;Maintenance Services Templates;Air Conditioning Templates;Media;News Portal Templates;TV Channel Templates;Video Lab Templates;Media Templates;Videographer Templates;Video Gallery Templates;Weather Templates;Medical;Weight Loss Templates;Drug Store Templates;Medical Equipment Templates;Nutrition Store Templates;Dentistry Templates;Plastic Surgery Templates;Pediatrician Templates;Ambulance Templates;Hair Clinic Templates;Optometrist's Templates;Medical Templates;Herbal Templates;Counseling Templates;Pregnancy Templates;Reproduction Clinic Templates;Rehabilitation Templates;Military;Veterans Templates;Army Templates;Gun Shop Templates;Military Templates;Music;Music Band Templates;Music Portal Templates;Music Store Templates;Recording Studio Templates;Music Blog Templates;Music Templates;Singer Templates;Neutral Templates;Night Club;Night Club Templates;Online Casino;Online Poker Templates;Slot Machines Templates;Online Betting Templates;Online Casino Templates;Personal Pages;Personal Page Templates;Politics;Political Candidate Templates;Political Party Templates;Government Templates;Political News Templates;Politics Templates;Real Estate;Real Estate Agency Templates;Land Broker Templates;Home Staging Templates;Real Estate Templates;Mortgage Templates;Religious;Christian Templates;Presbyterian Templates;Islam Templates;Jehovah Witnesses Templates;Buddhist Templates;Hinduism Templates;Catholic Church Templates;Sinagogue Templates;Lutheran Templates;Easter Gifts Store Templates;Religious Templates;Science;Astronomy Templates;UFO Templates;Science Templates;Science Lab Templates;Security;Fire Department Templates;Information Security Templates;Police Templates;Locksmith Templates;Security Templates;Private Investigator Templates;Society & Culture;Elderly Care Templates;Funeral Services Templates;Life Coach Templates;Retirement Planning Templates;Adoption Agency Templates;Boy Scout Templates;Immigration Consulting Templates;Teen Club Templates;Islamic Social Center Templates;City Portal Templates;Social Foundation Templates;Museum Templates;Society & Culture Templates;Software;Software Company Templates;Web Development Templates;Software Templates;Software Store Templates;Sport;Fitness Templates;Fishing Templates;BMX Templates;Boxing Templates;Martial Arts Templates;Swimming Templates;Archery Templates;Baseball Templates;Paintball Templates;Hunting Templates;Rafting Templates;Bowling Templates;Billiards Templates;Yoga Templates;Golf Templates;Diving Templates;Football Templates;Soccer Templates;Badminton Templates;Skydiving Templates;Surfing Templates;Rugby Templates;Sports Store Templates;Hockey Templates;Wakeboarding Templates;Bodybuilding Templates;F1 Templates;Field Hockey Templates;Climbing Templates;Shooting Templates;Tennis Templates;Yachting Templates;Horse Racing Templates;Squash Templates;Skiing Templates;Basketball Templates;Motor Sports Templates;Cycling Templates;Cricket Templates;Running Templates;Hiking Templates;Chess Templates;Cheerleading Templates;Sport Templates;Skating Templates;Snowboarding Templates;Extreme Sports Templates;Karting Templates;Curling Templates;Paragliding Templates;Kitesurfing Templates;Polo Templates;Volleyball Templates;Weapons Store Templates;Sports News Templates;Tobacco Templates;Tools & Equipment;Tools & Equipment Templates;Transportation;Moving Company Templates;Maritime Templates;Taxi Templates;Transportation Templates;Trucking Templates;Private Airline Templates;Travel;Travel Guide Templates;Travel Agency Templates;Camping Templates;Travel Templates;Airline Tickets Templates;Travel Store Templates;Wedding;Wedding Shop Templates;Wedding Planner Templates;Wedding Dresses Templates;Wedding Venues Templates;Wedding Album Templates;Wedding Templates;Wedding Cake Templates".split(";")}]),$(".js-typeahead2").on("typeahead:selected",
function(){$(this).parents("form").submit()}));0!==$("#timeline").length&&$(".full").prepend('<h2 class="about_title1"><span>Template</span>Monster</h2><h3 class="about_title2">Delivering the Best Templates on the Net since 2002</h3><iframe src="http://cdn.knightlab.com/libs/timeline/latest/embed/index.html?source=0AprbExMzBy2AdF8xMHE3RnpVMW1fSVFDOVNZZVpMT1E&font=PTSerif-PTSans&maptype=TERRAIN&lang=en&height=550" width="100%" height="550" frameborder="0"></iframe>');$("#js-search-label").click(function(){$(".js-typeahead2").val($(this).text());
return!1});$(".keyword-search-field").keydown(function(a){if(13===a.keyCode&&0===a.charCode)return a.stopPropagation(),$(a.currentTarget).closest("form").submit(),$(".tt-dropdown-menu").css("display","none"),!1});$.fn.flexslider&&$(".flexslider").flexslider({animation:"fade",slideshow:!1,slideshowSpeed:7E3,animationDuration:0,prevText:"",nextText:"",controlNav:!1});$(".flex-prev,.flex-next").click(function(){$(window).trigger("scroll");$(".flexslider .choke").trigger("plug.choke")});$(".js_product_slides").on("click",
".flex-prev,.flex-next",function(){$(window).trigger("scroll")});if(detectGridListViewSelectors()){$.cookie("preView")&&"list"===$.cookie("preView")&&($("ul#products").parent().removeClass("grid-view").addClass("list-view").animate({opacity:"1"},500),$("#gridview").removeClass("active"),$("#listview").addClass("active"));$("a.js-switcher").bind("click",function(a){a.preventDefault();if($(this).hasClass("active"))return!1;var a=$(this).attr("id"),b=$("ul#products").parent();if("gridview"===a)return $(this).addClass("active"),
$("#listview").removeClass("active"),b.fadeOut(function(){b.removeClass("list-view").addClass("grid-view").fadeIn()}),Tm.setCookie("preView","grid"),_gaq.push(["b._trackEvent","products","click","grid_view"]),!1;if("listview"===a)return $(this).addClass("active"),$("#gridview").removeClass("active"),b.fadeOut(function(){b.removeClass("grid-view").addClass("list-view").fadeIn()}),Tm.setCookie("preView","list"),_gaq.push(["b._trackEvent","products","click","list_view"]),!1});var a=$("#js-slide-down-txt"),
c=$("#js-slide-down-text"),g=$("#js-slide-down-link"),b=c.height();$(".active-title",a).hide();c.css({overflow:"hidden"}).height(62);g.click(function(){var a=$(this);a.parent().hasClass("active")?(c.stop().animate({height:62},{complete:function(){$(".active-title",a).hide();$(".default-title",a).show()}}),g.parent().removeClass("active")):(c.stop().animate({height:b},{complete:function(){$(".active-title",a).show();$(".default-title",a).hide()}}),g.parent().addClass("active"));return!1});(new tm.search.ui(searchUiParams||
{},searchUiQuery||{},searchUiOptions||{})).enterDocument()}"undefined"!=typeof searchContainerId&&tm.search.engine.search(searchContainerParams,searchContainerView).done($.proxy(function(a){jQuery(searchContainerId).html("").append(a.getText()||"");tm.search.ui.onDiscountUpdate({target:$(searchContainerId)})},this));if("undefined"!=typeof ajaxSearchParams)for(a=0;a<ajaxSearchParams.length;a++)(function(a,b,c){tm.search.engine.search(b,c).done($.proxy(function(b){0===b.getCount()?$(a).hide():(jQuery(a+
" .thumbnails").html("").append(b.getText()||""),tm.search.ui.onDiscountUpdate({target:$(a)}),$(a+" .js_product_slides").flexslider({animation:"slide",animationLoop:!0,slideshow:!1,slideshowSpeed:7E3,animationDuration:0,controlNav:!1,directionNav:4<b.getCount(),itemWidth:245,itemMargin:0,minItems:3,maxItems:4,move:1,prevText:"",nextText:"",init:function(){setTimeout("tm.thumbnail.renew (true);",1E3)}}))},this))})(ajaxSearchParams[a].searchContainer,ajaxSearchParams[a].searchContainerParams,ajaxSearchParams[a].searchContainerView)});
(function(){$(".choke").each(function(){var a=$(this),c=a.data("src");a.click(function(){$("img",a).hide();$("<iframe/>",{width:a.width(),height:a.height(),src:c}).css({opacity:0}).appendTo(a).animate({opacity:1},{});return!1}).on("plug.choke",function(){$("iframe",a).remove();$("img",a).show()})})})();
$(window).load(function(){window.ssd=[];var a={};$.cookie("nld")&&(a.nld=$.cookie("nld"));$.ajax({url:"/cart-ajax/discounts.php",type:"GET",data:a,dataType:"JSON",success:function(a){window.ssd=a.discounts;window.discount_link=a.discount_link;a=Object.create(new tm.discount);a.setContext(!0);a.drawPrices()}});detectCheckoutPage()&&($(".breadcrumbs-checkout .breadcrumb li:first-child").prepend('<b class="icon-lock svg"></b>'),(new Tm.Checkout).init());detectStatusDownloadPage()&&(new Tm.StatusDownload).init();
tm.sprite.svginit();detectPreviewPage()&&previewPageStart();$(document).on("click",".js-live-chat-button",function(){var a="Guest",g="guest@templatemonster.com",b=$(this).attr("data-room"),f=new Tm.Signin;f.isSignedIn()&&(g=f.getUserEmail(),a=f.getUserFullName());window.open("/support_index.php?cl="+b+"&nick="+a+"&email="+g,"tmBillingChat","width=800, height=695");return!1})});function detectOldIe(){return $.browser.msie&&"9.0"==$.browser.version}
function detectPreviewPage(){return 0<$("#preview-page").length}function detectIndexPage(){return 0<$("#index-page").length}function detectGridListViewSelectors(){return 0<$("#listview").length}function detectCheckoutPage(){return 0<$("#checkout-page").length}function detectCartPage(){return 0<$("#cart-page").length}function detectStatusDownloadPage(){return 0<$("#status-download-page").length}function detectDemoPage(){return 0<$("#demo-page").length}
function detectSSDPages(){return detectDemoPage()||detectIndexPage()||detectPreviewPage()||detectCartPage()||detectCheckoutPage()}function calcDiscount(a,c){return Math.round(0.01*a*(100-c))}$(document).ready(function(){$(".question-icon").popover({html:!0,trigger:"hover",content:function(){return $(this).find(".question-content").html()}})});
$(document).ready(function(){var a=$(".main-menu"),c=$(window),g;detectIndexPage()&&$(".sub-menu-1").css("display","block").parent().addClass("js-always-opened sfHover");1254>=c.width()&&$(".sub-menu > a").css("font-size","15px");a.menuAim({activate:function(a){a=$(a);clearTimeout(g);g=setTimeout(function(){a.is(".js-always-opened")||a.addClass("sfHover").find(">div").stop().css({opacity:0}).animate({opacity:1},100)},100)},deactivate:function(a){a=$(a);clearTimeout(g);a.is(".js-always-opened")||a.removeClass("sfHover").find(">div").stop().animate({opacity:0},
100)},exitMenu:function(){return!0},submenuDirection:"below"});$("body").append('<div id="thubContent0" class="thumbContent"></div><div id="thubContent1" class="thumbContent"></div>');"undefined"==typeof thubContentId&&(thubContentId=0);var b=detectGridListViewSelectors(),f;$(".thumbnails").on("mouseleave",".js-thumbnail",function(){clearInterval(f)}).on("mouseenter",".js-thumbnail",function(){if(b&&$.cookie("preView")&&"list"===$.cookie("preView"))return!1;var a=$("#thubContent"+thubContentId),c=
$(this).closest(".thumbnail"),g=c.find(".badge-custom").clone(),m=c.find(".js-thumbnail > a.js-thumb_preview").clone(),q=c.find(".thumbnail-info").clone(),t=c.find(".js-live-buttons").clone();a.html("");a.append(g).append(m).append(q).append(t);var g=c.offset(),c=g.top-80,m=g=g.left-80,q=c,t=a.outerWidth(),n=a.outerHeight(),h=$(document).scrollLeft(),x=$(window).width(),z=$(document).scrollTop(),D=$(window).height();m+t>h+x?g=m-(m+t-(h+x))-10:10>m-h&&(g=10+h);q+n>z+D?c=q-(q+n-(z+D))-10:10>q-z&&(c=
10+z);a.css({top:c,left:g});clearTimeout(f);f=setTimeout(function(){a.fadeIn()},400)});if(MobileEsp.DetectIos())$(".thumbnail").click(function(){$("#thubContent"+thubContentId).html("")});else $("#thubContent0, #thubContent1").on("mouseleave",function(){var a=$("#thubContent"+thubContentId);a.fadeOut();a.html("");clearTimeout(f);thubContentId=0===thubContentId?1:0})});
$(document).ready(function(){$(".testimonials_video [data-img]").each(function(){var a=$(this);a.append($("<img/>").attr({src:a.attr("data-img"),alt:"Video testimonial"}))}).removeAttr("data-img")});(function(){$(document).ready(function(){var a=$("body"),c=$.trim(a.attr("id"));""!==c&&bus.pub("page.id."+c);a=$.trim(a.attr("class"));if(""!==a){var a=a.split(/\s+/),g;for(g in a)bus.pub("page.class."+a[g])}})})();(function(){function a(a){return function(){return this[a]}}function c(a,b,c){a=a.split(".");c=c||P;!(a[0]in c)&&c.execScript&&c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&b!==Q?c[d]=b:c=c[d]?c[d]:c[d]={}}function g(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&
"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function b(a){return"array"==g(a)}function f(a){return"string"==typeof a}function d(a){var b=typeof a;return"object"==b&&a!=O||"function"==b}function j(a,b,c){return a.call.apply(a.bind,
arguments)}function p(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function m(a,b,c){m=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?j:p;return m.apply(O,arguments)}function q(a,b){c(a,b,Q)}function t(a,b){function c(){}c.prototype=b.prototype;
a.M=b.prototype;a.prototype=new c}function n(a,b){a!=O&&this.append.apply(this,arguments)}function h(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function x(a,b){for(var c,d,f=1;f<arguments.length;f++){d=arguments[f];for(c in d)a[c]=d[c];for(var g=0;g<ea.length;g++)c=ea[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}function z(a){return O===a||N===a||Q===a||0===a?H:S(a)?0===u(a):N}function D(a,b){x.apply(O,Array.prototype.slice.call(arguments,0));return a}function S(a){return b(a)||f(a)||
d(a)}function u(a){if(b(a)||f(a))return a.length;if(d(a)){var c=0,g;for(g in a)c++;return c}throw Error(typeof a+" is not countable.");}function A(a,c,d){b(a)?R(a,c,d):h(a,c,d)}function B(a){this.L=a;this.c=[];this.m={}}function J(a){this.s=a}function y(a,b,c,d,f){if(f&&b instanceof J)return b.toString();b=b==O?"":String(b);if(E===c){a=String(b);if(a.quote)b=a.quote();else{b=['"'];for(c=0;c<a.length;c++){var g=a.charAt(c),h=g.charCodeAt(0),d=b,f=c+1,j;if(!(j=X[g])){if(!(31<h&&127>h))if(g in ga)g=
ga[g];else if(g in X)g=ga[g]=X[g];else{j=g.charCodeAt(0);if(31<j&&127>j)h=g;else{if(256>j){if(h="\\x",16>j||256<j)h+="0"}else h="\\u",4096>j&&(h+="0");h+=j.toString(16).toUpperCase()}g=ga[g]=h}j=g}d[f]=j}b.push('"');b=b.join("")}return b.substring(1,b.length-1)}if(!c||k===c)return a=b,G.test(a)&&(-1!=a.indexOf("&")&&(a=a.replace(C,"&amp;")),-1!=a.indexOf("<")&&(a=a.replace(U,"&lt;")),-1!=a.indexOf(">")&&(a=a.replace(V,"&gt;")),-1!=a.indexOf('"')&&(a=a.replace(M,"&quot;"))),a;if(ba===c)return encodeURIComponent(b);
throw Error("The type '"+c+"' is not supported.");}function v(){this.a={};this.g={};this.h={};this.l={};this.f={};this.o={};this.q=N;this.K="UTF-8"}function K(a){B.call(this,a)}function I(a){B.call(this,a)}var Q=void 0,H=!0,O=null,N=!1,L,P=this,r="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),w=0,C=/&/g,U=/</g,V=/>/g,M=/\"/g,G=/[&<>\"]/,X={"\x00":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\x0B",'"':'\\"',"\\":"\\\\"},ga={"'":"\\'"};n.prototype.b="";n.prototype.append=
function(a,b,c){this.b+=a;if(b!=O)for(var d=1;d<arguments.length;d++)this.b+=arguments[d];return this};n.prototype.toString=a("b");var ea="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),ia=Array.prototype,ka=ia.indexOf?function(a,b,c){return ia.indexOf.call(a,b,c)}:function(a,b,c){c=c==O?0:0>c?Math.max(0,a.length+c):c;if(f(a))return!f(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},R=ia.forEach?
function(a,b,c){ia.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,g=f(a)?a.split(""):a,h=0;h<d;h++)h in g&&b.call(c,g[h],h,a)},Ha=m,r="twig_ui_"+Math.floor(2147483648*Math.random()).toString(36);L=B.prototype;L.t=a("c");L.D=function(a){this.c=a};L.J=function(a){this.m=a};L.getParent=function(){return N};L.C=function(a,b,c){if(a in this.m){var d=new n;this.m[a](d,b,c||{});return d.toString()}d=this.getParent(b);if(N!==d)return d.k(a,b,c);throw Error("The template '"+this.d()+"' has no parent, and no trait defining the block '"+
a+"'.");};L.k=function(a,b,c){if(c&&a in c){var d=new n,f=c[a];delete c[a];f(d,b,c);return d.toString()}if(a in this.c)return d=new n,this.c[a](d,b,c||O),d.toString();d=this.getParent(b);return N!==d?d.k(a,b,c):""};L.j=function(a,b){var c=new n;this.p(c,a||{},b||{});return c.toString()};L.r=function(a,b,c,d){if(!a["get"+b])throw Error("The macro "+b+" is not defined in "+a.d()+".");if(d===Q)return a["get"+b].apply(a,c);throw Error("Positional arguments, or default values in macro arguments are not supported, yet.");
};J.prototype.toString=a("s");var k="html",E="js",ba="url";L=v.prototype;L.j=function(a,b){var c=this.e(a);return c.j.call(c,D({},this.o,b||{}))};L.filter=function(a,b,c){if(!(a in this.g))throw Error("The filter '"+a+"' does not exist.");return this.g[a].apply(O,Array.prototype.slice.call(arguments,1))};L.z=function(a,b,c){if(!(a in this.h))throw Error("The function '"+a+"' does not exist.");return this.h[a].apply(O,Array.prototype.slice.call(arguments,1))};L.test=function(a,b,c){if(!(a in this.l))throw Error("The test '"+
a+"' does not exist.");return this.l[a].apply(O,Array.prototype.slice.call(arguments,1))};L.escape=function(a,b,c,d){return y(0,a,b,0,d)};L.A=function(a,b,c){var d=this.e(a),f=d["get"+b];if(!f)throw Error("The macro '"+b+"' does not exist on template '"+d.d()+"'.");return f.apply(d,Array.prototype.slice.call(arguments,2)).toString()};L.G=function(a,b){this.g[a]=b};L.H=function(a,b){this.h[a]=b};L.I=function(a,b){this.l[a]=b};L.v=a("o");L.i=function(){this.q=H;h(this.a,function(a){a.i()},this)};L.w=
function(a){return a in this.a};L.getExtension=function(a){if(!(a in this.a))throw Error('The "'+a+'" extension is not enabled.');return this.a[a]};L.n=function(a){this.a[a.getName()]=a};L.B=function(a){delete this.a[a]};L.F=function(a){h(a,function(a){this.n(a)})};L.u=a("a");L.e=function(a){var b=a[r]||(a[r]=++w);if(b in this.f)return this.f[b];N===this.q&&this.i();a=new a(this);return this.f[b]=a};window.Twig=new v;q("goog.provide",function(a){c(a)});q("goog.require",function(){});q("twig.attr",
function(a,c,f,h,j){h=h||"any";j=j!==Q?j:N;if(!d(a)&&!b(a))return j?N:O;if(c in a){if("array"!==h&&"function"==g(a[c]))return j?H:a[c].apply(a,f||[]);if("method"!==h)return j?H:a[c]}if("array"===h||b(a))return j?N:O;var c=c.toLowerCase(),k="get"+c,m="is"+c,n;a:{c=function(a,b){b=b.toLowerCase();return b===k||b===m};for(n in a)if(c.call(Q,0,n))break a;n=Q}return n&&"function"==g(a[n])?j?H:a[n].apply(a,f||[]):j?N:O});q("twig.bind",Ha);q("twig.inherits",t);q("twig.extend",D);q("twig.spaceless",function(a){return a.replace(/>[\s\xa0]+</g,
"><").replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")});q("twig.range",function(a,b){for(var c=[];a<=b;a+=1)c.push(a);return c});q("twig.contains",function(a,c){var d;if(b(a))d=0<=ka(a,c);else if(f(a))d=-1!=a.indexOf(c);else a:{for(d in a)if(a[d]==c){d=H;break a}d=N}return d});q("twig.countable",S);q("twig.count",u);q("twig.forEach",A);q("twig.empty",z);q("twig.createObj",function(a){for(var b={},c=0;c<arguments.length;c+=2)b[arguments[c]]=arguments[c+1];return b});q("twig.filter.capitalize",function(a,b){return b.charAt(0).toUpperCase()+
b.substring(1)});q("twig.filter.escape",y);q("twig.filter.length",function(a,b){return u(b)});q("twig.filter.def",function(a,b){return z(a)?b||"":a});q("twig.filter.replace",function(a,b){for(var c in b)a=a.replace(RegExp(c,"g"),b[c]);return a});q("twig.filter.join",function(a,b){var c=b||"",d=new n,f=H;A(a,function(a){f||d.append(c);f=N;d.append(a)});return d.toString()});q("twig.filter.keys",function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b});q("twig.filter.upper",function(a,b){return b.toUpperCase()});
q("twig.filter.lower",function(a,b){return b.toLowerCase()});q("twig.filter.nl2br",function(a){return a.replace(/\n/g,"<br />")});q("twig.StringBuffer",n);n.prototype.append=n.prototype.append;n.prototype.toString=n.prototype.toString;v.prototype.createTemplate=v.prototype.e;v.prototype.filter=v.prototype.filter;v.prototype.invoke=v.prototype.z;v.prototype.test=v.prototype.test;v.prototype.escape=v.prototype.escape;v.prototype.macro=v.prototype.A;v.prototype.setFilter=v.prototype.G;v.prototype.setFunction=
v.prototype.H;v.prototype.setTest=v.prototype.I;v.prototype.render=v.prototype.j;v.prototype.getGlobals=v.prototype.v;v.prototype.initRuntime=v.prototype.i;v.prototype.hasExtension=v.prototype.w;v.prototype.getExtension=v.prototype.getExtension;v.prototype.addExtension=v.prototype.n;v.prototype.removeExtension=v.prototype.B;v.prototype.setExtensions=v.prototype.F;v.prototype.getExtensions=v.prototype.u;q("twig.Template",B);B.prototype.setTraits=B.prototype.J;B.prototype.setBlocks=B.prototype.D;B.prototype.getBlocks=
B.prototype.t;B.prototype.renderParentBlock=B.prototype.C;B.prototype.renderBlock=B.prototype.k;B.prototype.callMacro=B.prototype.r;q("twig.Markup",J);t(K,B);K.prototype.p=function(a,b){"isSearchPage"in b?a.append("Search Within Results"):a.append("Enter Keyword or Product Number")};K.prototype.d=function(){return"search_placeholder"};q("search_placeholder",K);t(I,B);I.prototype.p=function(a,b){"searchByKeywordOnly"in b&&b.searchByKeywordOnly?(a.append('\t\t\t\t\t\t<h1 class="search-heading">We found <span class="num">'),
a.append(y(0,"templateTotalFound"in b?b.templateTotalFound:O,"html",0,H)),a.append("</span> result(s)"),"contentTitle"in b&&b.contentTitle&&(a.append(' for "<span>'),a.append(y(0,"contentTitle"in b?b.contentTitle:O,"html",0,H)),a.append('</span>"')),a.append("</h1>\n\t\t\t\t\t\t")):(a.append('\t\t\t\t\t\t<h1 class="search-heading">'),a.append(y(0,"contentTitle"in b?b.contentTitle:O,"html",0,H)),a.append('</h1>\n\t\t\t\t\t\t<span class="num">('),a.append(y(0,"templateTotalFound"in b?b.templateTotalFound:
O,"html",0,H)),a.append(")</span>\n\t\t\t\t\t\t"))};I.prototype.d=function(){return"search_h1"};q("search_h1",I)})();
//# sourceMappingURL=compiled.js.map
